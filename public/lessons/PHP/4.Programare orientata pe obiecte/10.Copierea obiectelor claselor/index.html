<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <style type="text/css">
      @import url(https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_aH4gUIUjZTH34PuvJkbTJT);
      ol {
        margin: 0;
        padding: 0;
      }
      table td,
      table th {
        padding: 0;
      }
      .c10 {
        border-right-style: solid;
        padding: 5pt 5pt 5pt 5pt;
        border-bottom-color: #000000;
        border-top-width: 0pt;
        border-right-width: 0pt;
        border-left-color: #000000;
        vertical-align: top;
        border-right-color: #000000;
        border-left-width: 0pt;
        border-top-style: solid;
        background-color: #333333;
        border-left-style: solid;
        border-bottom-width: 0pt;
        width: 468pt;
        border-top-color: #000000;
        border-bottom-style: solid;
      }
      .c15 {
        color: #000000;
        font-weight: 700;
        text-decoration: none;
        vertical-align: baseline;
        font-size: 27pt;
        font-family: "Open Sans";
        font-style: normal;
      }
      .c6 {
        color: #000000;
        font-weight: 400;
        text-decoration: none;
        vertical-align: baseline;
        font-size: 12pt;
        font-family: "Open Sans";
        font-style: normal;
      }
      .c0 {
        padding-top: 0pt;
        padding-bottom: 0pt;
        line-height: 1.5;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      .c7 {
        background-color: #333333;
        font-size: 12pt;
        font-family: "Consolas";
        color: #ffffaa;
        font-weight: 400;
      }
      .c1 {
        background-color: #333333;
        font-size: 12pt;
        font-family: "Consolas";
        color: #fcc28c;
        font-weight: 400;
      }
      .c9 {
        background-color: #333333;
        font-size: 12pt;
        font-family: "Consolas";
        color: #a2fca2;
        font-weight: 400;
      }
      .c11 {
        background-color: #333333;
        font-size: 12pt;
        font-family: "Consolas";
        color: #888888;
        font-weight: 400;
      }
      .c2 {
        background-color: #333333;
        font-size: 12pt;
        font-family: "Consolas";
        color: #ffffff;
        font-weight: 400;
      }
      .c4 {
        border-spacing: 0;
        border-collapse: collapse;
        margin-right: auto;
      }
      .c5 {
        padding-top: 0pt;
        padding-bottom: 0pt;
        line-height: 1.15;
        text-align: left;
      }
      .c12 {
        font-size: 12pt;
        font-family: "Open Sans";
        font-style: italic;
        font-weight: 400;
      }
      .c14 {
        background-color: #ffffff;
        max-width: 468pt;
        padding: 72pt 72pt 72pt 72pt;
      }
      .c13 {
        font-size: 12pt;
        font-family: "Open Sans";
        font-weight: 400;
      }
      .c16 {
        font-size: 12pt;
        font-family: "Open Sans";
        font-weight: 700;
      }
      .c8 {
        height: 0pt;
      }
      .c3 {
        height: 11pt;
      }
      .title {
        padding-top: 0pt;
        color: #000000;
        font-size: 26pt;
        padding-bottom: 3pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      .subtitle {
        padding-top: 0pt;
        color: #666666;
        font-size: 15pt;
        padding-bottom: 16pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      li {
        color: #000000;
        font-size: 11pt;
        font-family: "Arial";
      }
      p {
        margin: 0;
        color: #000000;
        font-size: 11pt;
        font-family: "Arial";
      }
      h1 {
        padding-top: 20pt;
        color: #000000;
        font-size: 20pt;
        padding-bottom: 6pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      h2 {
        padding-top: 18pt;
        color: #000000;
        font-size: 16pt;
        padding-bottom: 6pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      h3 {
        padding-top: 16pt;
        color: #434343;
        font-size: 14pt;
        padding-bottom: 4pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      h4 {
        padding-top: 14pt;
        color: #666666;
        font-size: 12pt;
        padding-bottom: 4pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      h5 {
        padding-top: 12pt;
        color: #666666;
        font-size: 11pt;
        padding-bottom: 4pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
      h6 {
        padding-top: 12pt;
        color: #666666;
        font-size: 11pt;
        padding-bottom: 4pt;
        font-family: "Arial";
        line-height: 1.15;
        page-break-after: avoid;
        font-style: italic;
        orphans: 2;
        widows: 2;
        text-align: left;
      }
    </style>
  </head>
  <body class="c14 doc-content">
    <h1 class="c0 c15">Copierea obiectelor claselor.</h1>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c6"
        >Atunci c&acirc;nd se atribuie un obiect de clas&#259; unei alte
        variabile, se creeaz&#259; o nou&#259; referin&#539;&#259; la
        acela&#537;i obiect. De exemplu:</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <a id="t.0389cdcce0c2595f4d1f49f23920790c6742500b"></a><a id="t.0"></a>
    <table class="c4">
      <tr class="c8">
        <td class="c10" colspan="1" rowspan="1">
          <p class="c5">
            <span class="c1">class</span><span class="c2">&nbsp;</span
            ><span class="c7">Person</span
            ><span class="c2"
              >{<br />
              &nbsp; &nbsp;</span
            ><span class="c1">public</span
            ><span class="c2"
              >&nbsp;$name;<br />
              &nbsp; &nbsp;</span
            ><span class="c1">function</span><span class="c2">&nbsp;</span
            ><span class="c7">__construct</span
            ><span class="c2"
              >($name){<br />
              &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c1">$this</span
            ><span class="c2"
              >-&gt;name = $name;<br />
              &nbsp; &nbsp;}<br />}<br />$tom = </span
            ><span class="c1">new</span><span class="c2">&nbsp;Person(</span
            ><span class="c9">&quot;Tom&quot;</span
            ><span class="c2">);<br />$bob = $tom;<br />$bob-&gt;name = </span
            ><span class="c9">&quot;Bob&quot;</span
            ><span class="c2">;<br /></span><span class="c1">echo</span
            ><span class="c2">&nbsp;$tom-&gt;name; </span
            ><span class="c11">// Bob</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c13">&Icirc;n acest caz, dup&#259; atribuirea </span
      ><span class="c12">$bob = $tom;</span
      ><span class="c13"
        >, ambele variabile vor indica acela&#537;i obiect. Prin urmare,
        dac&#259; schimb&#259;m proprietatea </span
      ><span class="c12">$name</span
      ><span class="c6"
        >&nbsp;a unei variabile, aceast&#259; schimbare va afecta &#537;i
        cealalt&#259; variabil&#259;, deoarece ele se refer&#259; la
        acela&#537;i obiect.</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c13"
        >Totu&#537;i, acest comportament poate fi nedorit dac&#259; dorim ca
        dup&#259; copiere variabilele s&#259; reprezinte obiecte independente.
        Pentru aceasta, PHP ofer&#259; operatorul </span
      ><span class="c16">clone</span><span class="c6">:</span>
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <a id="t.043081f91b38e71dbd168c8a69d73cd0d20d2a72"></a><a id="t.1"></a>
    <table class="c4">
      <tr class="c8">
        <td class="c10" colspan="1" rowspan="1">
          <p class="c5">
            <span class="c1">class</span><span class="c2">&nbsp;</span
            ><span class="c7">Person</span
            ><span class="c2"
              >{<br />
              &nbsp; &nbsp;</span
            ><span class="c1">public</span
            ><span class="c2"
              >&nbsp;$name;<br />
              &nbsp; &nbsp;</span
            ><span class="c1">function</span><span class="c2">&nbsp;</span
            ><span class="c7">__construct</span
            ><span class="c2"
              >($name){<br />
              &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c1">$this</span
            ><span class="c2"
              >-&gt;name = $name;<br />
              &nbsp; &nbsp;}<br />}<br />$tom = </span
            ><span class="c1">new</span><span class="c2">&nbsp;Person(</span
            ><span class="c9">&quot;Tom&quot;</span
            ><span class="c2">);<br />$bob = </span><span class="c1">clone</span
            ><span class="c2">&nbsp;$tom; &nbsp; &nbsp; &nbsp;</span
            ><span class="c11"
              >// copiem obiectul din $tom &icirc;n variabila $bob</span
            ><span class="c2"><br />$bob-&gt;name = </span
            ><span class="c9">&quot;Bob&quot;</span
            ><span class="c2">;<br /></span><span class="c1">echo</span
            ><span class="c2">&nbsp;$tom-&gt;name; </span
            ><span class="c11">// Tom</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c13">Prin aplicarea operatorului </span
      ><span class="c12">clone</span
      ><span class="c6"
        >, toate propriet&#259;&#539;ile care reprezint&#259; tipuri primitive
        &#537;i array-uri sunt copiate &icirc;n noul obiect. Totu&#537;i, ce se
        &icirc;nt&acirc;mpl&#259; dac&#259; o proprietate a clasei
        reprezint&#259; o alt&#259; clas&#259;:</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <a id="t.40737c9c59421226e99878e0ff6f26f104b2eeb6"></a><a id="t.2"></a>
    <table class="c4">
      <tr class="c8">
        <td class="c10" colspan="1" rowspan="1">
          <p class="c5">
            <span class="c1">class</span><span class="c2">&nbsp;</span
            ><span class="c7">Company</span
            ><span class="c2"
              >{<br />
              &nbsp; &nbsp;</span
            ><span class="c1">public</span
            ><span class="c2"
              >&nbsp;$name;<br />
              &nbsp; &nbsp;</span
            ><span class="c1">function</span><span class="c2">&nbsp;</span
            ><span class="c7">__construct</span><span class="c2">($name){ </span
            ><span class="c1">$this</span
            ><span class="c2">-&gt;name = $name; }<br />}<br /></span
            ><span class="c1">class</span><span class="c2">&nbsp;</span
            ><span class="c7">Person</span
            ><span class="c2"
              >{<br />
              &nbsp; &nbsp;</span
            ><span class="c1">public</span
            ><span class="c2"
              >&nbsp;$name, $company;<br />
              &nbsp; &nbsp;</span
            ><span class="c1">function</span><span class="c2">&nbsp;</span
            ><span class="c7">__construct</span
            ><span class="c2"
              >($name, $company)<br />
              &nbsp; &nbsp;{ <br />
              &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c1">$this</span
            ><span class="c2"
              >-&gt;name = $name; <br />
              &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c1">$this</span
            ><span class="c2"
              >-&gt;company = $company;<br />
              &nbsp; &nbsp;}<br />}<br />$microsoft = </span
            ><span class="c1">new</span><span class="c2">&nbsp;Company(</span
            ><span class="c9">&quot;Microsoft&quot;</span
            ><span class="c2">);<br />$tom = </span><span class="c1">new</span
            ><span class="c2">&nbsp;Person(</span
            ><span class="c9">&quot;Tom&quot;</span
            ><span class="c2"
              >, $microsoft);<br />
              <br />$bob = </span
            ><span class="c1">clone</span
            ><span class="c2">&nbsp;$tom; &nbsp; &nbsp; &nbsp;</span
            ><span class="c11"
              >// copiem obiectul din $tom &icirc;n variabila $bob</span
            ><span class="c2"><br />$bob-&gt;name = </span
            ><span class="c9">&quot;Bob&quot;</span
            ><span class="c2">;<br />$bob-&gt;company-&gt;name = </span
            ><span class="c9">&quot;Google&quot;</span
            ><span class="c2">; &nbsp; </span
            ><span class="c11">// schimb&#259;m numele companiei lui Bob</span
            ><span class="c2"><br /></span><span class="c1">echo</span
            ><span class="c2">&nbsp;$tom-&gt;company-&gt;name; </span
            ><span class="c11"
              >// Google - &#537;i la Tom s-a schimbat numele companiei</span
            >
          </p>
        </td>
      </tr>
    </table>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c6"
        >Aici ne confrunt&#259;m practic cu aceea&#537;i situa&#539;ie ca
        &icirc;n primul exemplu. Clasa Person con&#539;ine o proprietate care
        reprezint&#259; clasa Company. La clonarea obiectului:</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <a id="t.529b34b9119f5b6cf22a95dba0c2dd34e141974d"></a><a id="t.3"></a>
    <table class="c4">
      <tr class="c8">
        <td class="c10" colspan="1" rowspan="1">
          <p class="c5">
            <span class="c2">$bob = </span><span class="c1">clone</span
            ><span class="c2">&nbsp;$tom;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c6"
        >Ambele variabile $tom &#537;i $bob vor con&#539;ine o
        referin&#539;&#259; la acela&#537;i obiect Company. Prin urmare,
        dac&#259; schimb&#259;m propriet&#259;&#539;ile acestui obiect printr-o
        variabil&#259;:</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <a id="t.bb07b3382bb83313ca65aa2ae516663bdae90ec8"></a><a id="t.4"></a>
    <table class="c4">
      <tr class="c8">
        <td class="c10" colspan="1" rowspan="1">
          <p class="c5">
            <span class="c2">$bob-&gt;company-&gt;name = </span
            ><span class="c9">&quot;Google&quot;</span><span class="c2">;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c6"
        >schimbarea va afecta &#537;i cealalt&#259; variabil&#259;:</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <a id="t.40f85eeb5cfc5564cc6ac75fe19b5e7c21d5f17b"></a><a id="t.5"></a>
    <table class="c4">
      <tr class="c8">
        <td class="c10" colspan="1" rowspan="1">
          <p class="c5">
            <span class="c1">echo</span
            ><span class="c2">&nbsp;$tom-&gt;company-&gt;name; </span
            ><span class="c11">// Google</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c13"
        >Pentru a rezolva aceast&#259; problem&#259;, trebuie s&#259; definim
        metoda </span
      ><span class="c16">__clone</span
      ><span class="c6"
        >&nbsp;&icirc;n clas&#259;. Aceasta este apelat&#259; la clonare &#537;i
        poate fi utilizat&#259; pentru a clona obiectele
        &icirc;ncorporate:</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
    <a id="t.145b362a11876961bbb8a704fde5cfb47de2ccd6"></a><a id="t.6"></a>
    <table class="c4">
      <tr class="c8">
        <td class="c10" colspan="1" rowspan="1">
          <p class="c5">
            <span class="c1">class</span><span class="c2">&nbsp;</span
            ><span class="c7">Company</span
            ><span class="c2"
              >{<br />
              &nbsp; &nbsp;</span
            ><span class="c1">public</span
            ><span class="c2"
              >&nbsp;$name;<br />
              &nbsp; &nbsp;</span
            ><span class="c1">function</span><span class="c2">&nbsp;</span
            ><span class="c7">__construct</span><span class="c2">($name){ </span
            ><span class="c1">$this</span
            ><span class="c2">-&gt;name = $name; }<br />}<br /></span
            ><span class="c1">class</span><span class="c2">&nbsp;</span
            ><span class="c7">Person</span
            ><span class="c2"
              >{<br />
              &nbsp; &nbsp;</span
            ><span class="c1">public</span
            ><span class="c2"
              >&nbsp;$name, $company;<br />
              &nbsp; &nbsp;</span
            ><span class="c1">function</span><span class="c2">&nbsp;</span
            ><span class="c7">__construct</span
            ><span class="c2"
              >($name, $company)<br />
              &nbsp; &nbsp;{ <br />
              &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c1">$this</span
            ><span class="c2"
              >-&gt;name = $name; <br />
              &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c1">$this</span
            ><span class="c2"
              >-&gt;company = $company;<br />
              &nbsp; &nbsp;}<br />
              &nbsp; &nbsp;</span
            ><span class="c1">function</span><span class="c2">&nbsp;</span
            ><span class="c7">__clone</span
            ><span class="c2"
              >()<br />
              &nbsp; &nbsp;{<br />
              &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c1">$this</span><span class="c2">-&gt;company = </span
            ><span class="c1">clone</span><span class="c2">&nbsp;</span
            ><span class="c1">$this</span
            ><span class="c2"
              >-&gt;company;<br />
              &nbsp; &nbsp;}<br />}<br />$microsoft = </span
            ><span class="c1">new</span><span class="c2">&nbsp;Company(</span
            ><span class="c9">&quot;Microsoft&quot;</span
            ><span class="c2">);<br />$tom = </span><span class="c1">new</span
            ><span class="c2">&nbsp;Person(</span
            ><span class="c9">&quot;Tom&quot;</span
            ><span class="c2"
              >, $microsoft);<br />
              <br />$bob = </span
            ><span class="c1">clone</span
            ><span class="c2">&nbsp;$tom; &nbsp; &nbsp; &nbsp;</span
            ><span class="c11"
              >// copiem obiectul din $tom &icirc;n variabila $bob</span
            ><span class="c2"><br />$bob-&gt;name = </span
            ><span class="c9">&quot;Bob&quot;</span
            ><span class="c2">;<br />$bob-&gt;company-&gt;name = </span
            ><span class="c9">&quot;Google&quot;</span
            ><span class="c2">; &nbsp; </span
            ><span class="c11">// schimb&#259;m numele companiei lui Bob</span
            ><span class="c2"><br /></span><span class="c1">echo</span
            ><span class="c2">&nbsp;$tom-&gt;company-&gt;name; </span
            ><span class="c11"
              >// Microsoft - la Tom numele companiei nu s-a schimbat</span
            >
          </p>
        </td>
      </tr>
    </table>
    <p class="c0 c3"><span class="c6"></span></p>
    <p class="c0">
      <span class="c13">&Icirc;n acest caz, metoda</span
      ><span class="c12">&nbsp;__clone</span
      ><span class="c6"
        >&nbsp;din clasa Person cloneaz&#259; &#537;i obiectul Company,
        asigur&acirc;ndu-se astfel c&#259; variabilele $tom &#537;i $bob se
        refer&#259; la obiecte independente.</span
      >
    </p>
    <p class="c0 c3"><span class="c6"></span></p>
  </body>
</html>
