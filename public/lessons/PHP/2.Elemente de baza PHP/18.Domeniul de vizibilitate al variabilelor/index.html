<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
  </head>
  <body class="c18 doc-content">
    <h1 class="c11 c19">Domeniul de vizibilitate al variabilelor.</h1>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c16"
        >&nbsp;Variabile &icirc;n blocurile de cicluri &#537;i
        condi&#539;ionale.</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c5"
        >Blocurile de cicluri &#537;i construc&#539;iile condi&#539;ionale nu
        formeaz&#259; un domeniu de vizibilitate separat, iar variabilele
        definite &icirc;n aceste blocuri pot fi utilizate &icirc;n afara
        lor:</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.1e96730ad23fb75b347b32d2620c0d7141630fc2"></a><a id="t.0"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c2">$condition = </span><span class="c3">true</span
            ><span class="c2">;<br /></span><span class="c3">if</span
            ><span class="c2"
              >($condition){<br />
              &nbsp; &nbsp;$name = </span
            ><span class="c12">&quot;Tom&quot;</span
            ><span class="c2">;<br />}<br /></span><span class="c3">echo</span
            ><span class="c2">&nbsp;$name; </span><span class="c8">// Tom</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11"><span class="c5">sau</span></p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.d3641dad64366c8fbb4d1c3f8dc1a600aa803195"></a><a id="t.1"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c2">$i = </span><span class="c15">6</span
            ><span class="c2">;<br /></span><span class="c3">switch</span
            ><span class="c2"
              >($i){<br />
              &nbsp; &nbsp;</span
            ><span class="c3">case</span><span class="c2">&nbsp;</span
            ><span class="c15">5</span><span class="c2">: $name = </span
            ><span class="c12">&quot;Tom&quot;</span><span class="c2">; </span
            ><span class="c3">break</span
            ><span class="c2"
              >;<br />
              &nbsp; &nbsp;</span
            ><span class="c3">case</span><span class="c2">&nbsp;</span
            ><span class="c15">6</span><span class="c2">: $name = </span
            ><span class="c12">&quot;Bob&quot;</span><span class="c2">; </span
            ><span class="c3">break</span
            ><span class="c2"
              >;<br />
              &nbsp; &nbsp;</span
            ><span class="c3">default</span><span class="c2">: $name = </span
            ><span class="c12">&quot;Sam&quot;</span><span class="c2">; </span
            ><span class="c3">break</span><span class="c2">;<br />}<br /></span
            ><span class="c3">echo</span><span class="c2">&nbsp;$name; </span
            ><span class="c8">// Bob</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11"><span class="c16">&nbsp;Variabile locale.</span></p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c5"
        >Variabilele locale sunt create &icirc;n interiorul unei func&#539;ii.
        Aceste variabile pot fi accesate doar din interiorul func&#539;iei
        respective. De exemplu:</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.e592a90ecae530f61736fc29f23de2de62c2a9d7"></a><a id="t.2"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c6">&lt;?php</span><span class="c2"><br /></span
            ><span class="c3">function</span><span class="c2">&nbsp;</span
            ><span class="c13">showName</span
            ><span class="c2"
              >(){<br />
              &nbsp; &nbsp;$name = </span
            ><span class="c12">&quot;Tom&quot;</span
            ><span class="c2"
              >;<br />
              &nbsp; &nbsp;</span
            ><span class="c3">echo</span
            ><span class="c2"
              >&nbsp;$name;<br />}<br /><br />showName();<br /></span
            ><span class="c3">echo</span><span class="c2">&nbsp;$name; </span
            ><span class="c8">// nu func&#539;ioneaz&#259;, deoarece</span
            ><span class="c2"
              ><br />
              &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c8">// variabila $name exist&#259;</span
            ><span class="c2"
              ><br />
              &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span
            ><span class="c8"
              >// doar &icirc;n interiorul func&#539;iei showName()</span
            ><span class="c2"><br /></span><span class="c6">?&gt;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10">&Icirc;n acest caz, &icirc;n func&#539;ia </span
      ><span class="c0">showName()</span
      ><span class="c10">&nbsp;este definit&#259; variabila local&#259; </span
      ><span class="c0">$name</span
      ><span class="c10"
        >. Aceast&#259; variabil&#259; poate fi accesat&#259; doar &icirc;n
        interiorul func&#539;iei</span
      ><span class="c0">&nbsp;showName()</span
      ><span class="c5">, dar nu &#537;i &icirc;n afara ei.</span>
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c5"
        >Aceea&#537;i regul&#259; se aplic&#259; &#537;i parametrilor
        func&#539;iei: &icirc;n afara func&#539;iei, parametrii ei nu
        exist&#259;.</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11"><span class="c16">&nbsp;Variabile statice.</span></p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c5"
        >Variabilele statice sunt similare cu variabilele locale, dar au
        particularitatea c&#259; &icirc;&#537;i p&#259;streaz&#259; valoarea
        dup&#259; terminarea execu&#539;iei func&#539;iei. La fiecare nou apel
        al func&#539;iei, variabila static&#259; utilizeaz&#259; valoarea
        salvat&#259; anterior. De exemplu:</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.707324d1c5b3b5d552776612fd6fdf2f50deaff1"></a><a id="t.3"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c6">&lt;?php</span><span class="c2"><br /></span
            ><span class="c3">function</span><span class="c2">&nbsp;</span
            ><span class="c13">getCounter</span
            ><span class="c2"
              >()<br />{<br />
              &nbsp; &nbsp;</span
            ><span class="c3">static</span
            ><span class="c2">&nbsp;$counter = </span><span class="c15">0</span
            ><span class="c2"
              >;<br />
              &nbsp; &nbsp;$counter++;<br />
              &nbsp; &nbsp;</span
            ><span class="c3">echo</span
            ><span class="c2">&nbsp;$counter;<br />}<br />getCounter(); </span
            ><span class="c8">// counter=1</span
            ><span class="c2"><br />getCounter(); </span
            ><span class="c8">// counter=2</span
            ><span class="c2"><br />getCounter(); </span
            ><span class="c8">// counter=3</span><span class="c2"><br /></span
            ><span class="c6">?&gt;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10"
        >Pentru a specifica c&#259; o variabil&#259; este static&#259;, se
        adaug&#259; cuv&acirc;ntul cheie </span
      ><span class="c7">static</span
      ><span class="c10"
        >. La cele trei apeluri consecutive ale func&#539;iei </span
      ><span class="c0">getCounter()</span><span class="c10">, variabila</span
      ><span class="c0">&nbsp;$counte</span
      ><span class="c5">r va fi incrementat&#259; cu unu.</span>
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c5"
        >Dac&#259; variabila $counter ar fi fost o variabil&#259;
        obi&#537;nuit&#259; (non-static&#259;), atunci la fiecare apel al
        func&#539;iei getCounter(), ar fi afi&#537;at valoarea 1.</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c5"
        >De obicei, variabilele statice sunt utilizate pentru a crea
        diferi&#539;i contori, ca &icirc;n exemplul de mai sus.</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11"><span class="c16">&nbsp;Variabile globale.</span></p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c5"
        >Variabilele globale, &icirc;n mod implicit, nu sunt accesibile &icirc;n
        interiorul unei func&#539;ii. De exemplu:</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.563a9201bc58ad0c324845e47667939c83a2405f"></a><a id="t.4"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c6">&lt;?php</span
            ><span class="c2"><br />$name = </span
            ><span class="c12">&quot;Tom&quot;</span
            ><span class="c2">;<br /></span><span class="c3">function</span
            ><span class="c2">&nbsp;</span><span class="c13">hello</span
            ><span class="c2"
              >()<br />{<br />
              &nbsp; &nbsp;</span
            ><span class="c3">echo</span><span class="c2">&nbsp;</span
            ><span class="c12">&quot;Hello &quot;</span
            ><span class="c2">&nbsp;. $name;<br />}<br />hello();<br /></span
            ><span class="c6">?&gt;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10"
        >Acest cod nu va func&#539;iona, iar interpretatorul PHP ne va informa
        c&#259; variabila </span
      ><span class="c0">$name</span
      ><span class="c5">&nbsp;nu este definit&#259;.</span>
    </p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10"
        >Totu&#537;i, putem accesa variabilele globale &icirc;n interiorul unei
        func&#539;ii folosind cuv&acirc;ntul cheie </span
      ><span class="c7">global</span><span class="c5">:</span>
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.63f2f0de5b6d1282c8a85c3f9e2022746cb617ab"></a><a id="t.5"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c6">&lt;?php</span
            ><span class="c2"><br />$name = </span
            ><span class="c12">&quot;Tom&quot;</span
            ><span class="c2">;<br /></span><span class="c3">function</span
            ><span class="c2">&nbsp;</span><span class="c13">hello</span
            ><span class="c2"
              >()<br />{<br />
              &nbsp; &nbsp;</span
            ><span class="c3">global</span
            ><span class="c2"
              >&nbsp;$name;<br />
              &nbsp; &nbsp;</span
            ><span class="c3">echo</span><span class="c2">&nbsp;</span
            ><span class="c12">&quot;Hello &quot;</span
            ><span class="c2"
              >&nbsp;. $name;<br />}<br />hello(); &nbsp; &nbsp;</span
            ><span class="c8">// Hello Tom</span><span class="c2"><br /></span
            ><span class="c6">?&gt;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10"
        >Pentru a accesa o variabil&#259; global&#259; &icirc;ntr-o
        func&#539;ie, se declar&#259; variabila cu acela&#537;i nume folosind
        operatorul </span
      ><span class="c7">global</span><span class="c5">:</span>
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.eccf327e6dc962a70d395848b1815939f5cd4cc5"></a><a id="t.6"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c3">global</span><span class="c2">&nbsp;$name;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10">Dup&#259; aceasta, variabila global&#259;</span
      ><span class="c0">&nbsp;$name</span
      ><span class="c5"
        >&nbsp;poate fi accesat&#259; &icirc;n interiorul func&#539;iei. Putem
        nu doar s&#259; &icirc;i ob&#539;inem valoarea, ci &#537;i s&#259; o
        modific&#259;m:</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.5b62596a7768d36d39528f00fda30c7dca970d1a"></a><a id="t.7"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c6">&lt;?php</span
            ><span class="c2"><br />$name = </span
            ><span class="c12">&quot;Tom&quot;</span
            ><span class="c2">;<br /></span><span class="c3">function</span
            ><span class="c2">&nbsp;</span><span class="c13">changeName</span
            ><span class="c2"
              >()<br />{<br />
              &nbsp; &nbsp;</span
            ><span class="c3">global</span
            ><span class="c2"
              >&nbsp;$name;<br />
              &nbsp; &nbsp;$name = </span
            ><span class="c12">&quot;Tomas&quot;</span
            ><span class="c2">;<br />}<br />changeName(); &nbsp; <br /></span
            ><span class="c3">echo</span><span class="c2">&nbsp;$name; </span
            ><span class="c8">// Tomas</span><span class="c2"><br /></span
            ><span class="c6">?&gt;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10">Ca alternativ&#259; la operatorul </span
      ><span class="c7">global</span
      ><span class="c10">, putem folosi array-ul integrat </span
      ><span class="c7">$GLOBALS</span
      ><span class="c5">&nbsp;pentru a accesa variabilele globale:</span>
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.ef8d221615879a843219a498a1d2106be0709996"></a><a id="t.8"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c6">&lt;?php</span
            ><span class="c2"><br />$name = </span
            ><span class="c12">&quot;Tom&quot;</span
            ><span class="c2">;<br /></span><span class="c3">function</span
            ><span class="c2">&nbsp;</span><span class="c13">changeName</span
            ><span class="c2"
              >()<br />{<br />
              &nbsp; &nbsp;$username = $GLOBALS[</span
            ><span class="c12">&quot;name&quot;</span
            ><span class="c2"
              >];<br />
              &nbsp; &nbsp;</span
            ><span class="c3">echo</span><span class="c2">&nbsp;</span
            ><span class="c12"
              >&quot;Nume vechi: $username &lt;br&gt;&quot;</span
            ><span class="c2"
              >;<br />
              &nbsp; &nbsp;</span
            ><span class="c8">// modific&#259;m valoarea variabilei $name</span
            ><span class="c2"
              ><br />
              &nbsp; &nbsp;$GLOBALS[</span
            ><span class="c12">&quot;name&quot;</span
            ><span class="c2">] = </span
            ><span class="c12">&quot;Tomas&quot;</span
            ><span class="c2">;<br />}<br />changeName(); &nbsp; <br /></span
            ><span class="c3">echo</span><span class="c2">&nbsp;</span
            ><span class="c12">&quot;Nume nou: &quot;</span
            ><span class="c2">&nbsp;. $name;<br /></span
            ><span class="c6">?&gt;</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c4"><span class="c5"></span></p>
    <p class="c11">
      <span class="c10"
        >Pentru a accesa variabila global&#259; $name, se folose&#537;te
        expresia </span
      ><span class="c0">$GLOBALS[&quot;name&quot;] </span
      ><span class="c5"
        >- &icirc;n parantezele p&#259;trate se transmite numele variabilei
        (f&#259;r&#259; semnul $). Rezultatul scriptului:</span
      >
    </p>
    <p class="c4"><span class="c5"></span></p>
    <a id="t.8cb93d6461a2ec6b0dfc4d5ef5a5618a734d08fb"></a><a id="t.9"></a>
    <table class="c1">
      <tr class="c14">
        <td class="c9" colspan="1" rowspan="1">
          <p class="c17">
            <span class="c2">Nume vechi: Tom<br />Nume nou: Tomas</span>
          </p>
        </td>
      </tr>
    </table>
    <p class="c4"><span class="c5"></span></p>
    <p class="c4"><span class="c5"></span></p>
  </body>
</html>
