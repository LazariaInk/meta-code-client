<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        @import url(https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_aH4gUIUjZTH34PuvJkbTJT);

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c12 {
            border-right-style: solid;
            padding: 5pt 5pt 5pt 5pt;
            border-bottom-color: #000000;
            border-top-width: 0pt;
            border-right-width: 0pt;
            border-left-color: #000000;
            vertical-align: top;
            border-right-color: #000000;
            border-left-width: 0pt;
            border-top-style: solid;
            background-color: #333333;
            border-left-style: solid;
            border-bottom-width: 0pt;
            width: 468pt;
            border-top-color: #000000;
            border-bottom-style: solid
        }

        .c18 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 27pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c13 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 15pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c5 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left;
            height: 11pt
        }

        .c0 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c6 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c3 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #d36363;
            font-weight: 400
        }

        .c7 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #a2fca2;
            font-weight: 400
        }

        .c17 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #888888;
            font-weight: 400
        }

        .c1 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #ffffff;
            font-weight: 400
        }

        .c10 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #fcc28c;
            font-weight: 400
        }

        .c11 {
            border-spacing: 0;
            border-collapse: collapse;
            margin-right: auto
        }

        .c4 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.15;
            text-align: left
        }

        .c15 {
            font-size: 15pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c14 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c2 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c9 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 400
        }

        .c16 {
            height: 11pt
        }

        .c8 {
            height: 0pt
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body class="c14 doc-content">
    <h1 class="c6 c18">Construc»õia try...except...finally.</h1>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c9">&Icirc;n programarea cu Python, ne putem confrunta cu dou&#259; tipuri de erori.
            Primul tip este reprezentat de </span><span class="c2">erorile de sintax&#259; </span><span
            class="c0">(syntax error). Acestea apar atunci c&acirc;nd sintaxa limbajului de programare este
            &icirc;nc&#259;lcat&#259; &icirc;n timpul scrierii codului surs&#259;. &Icirc;n cadrul unor medii de
            dezvoltare, cum ar fi PyCharm, IDE-ul poate detecta automat erorile de sintax&#259; &#537;i le poate
            eviden&#539;ia &icirc;n vreun fel.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c9">Al doilea tip de erori este reprezentat de </span><span class="c2">erorile de
            execu&#539;ie</span><span class="c0">&nbsp;(runtime error). Acestea apar &icirc;n timpul rul&#259;rii
            programului. Aceste erori sunt numite &#537;i excep&#539;ii. De exemplu, &icirc;n lec&#539;iile anterioare
            am discutat despre conversia unui &#537;ir de caractere &icirc;ntr-un num&#259;r:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.1c8765199d95b83dd18213a8314bb95afa87b665"></a><a id="t.0"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c1">string = </span><span class="c7">&quot;5&quot;</span><span
                        class="c1"><br>number = int(string)<br>print(number)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Acest script va rula cu succes, deoarece &#537;irul &quot;5&quot; poate fi convertit
            &icirc;ntr-un num&#259;r. &Icirc;ns&#259; s&#259; lu&#259;m un alt exemplu:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.6fe526c19ccfa5f02d85258b75d00d9498b41b6e"></a><a id="t.1"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c1">string = </span><span class="c7">&quot;hello&quot;</span><span
                        class="c1"><br>number = int(string)<br>print(number)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">La rularea acestui script, va fi generat&#259; o excep&#539;ie ValueError, deoarece
            &#537;irul &quot;hello&quot; nu poate fi transformat &icirc;ntr-un num&#259;r:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.458b249fa91d98aa69599c22e77abeae6a9d397c"></a><a id="t.2"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c1">ValueError: invalid literal </span><span class="c10">for</span><span
                        class="c1">&nbsp;int() </span><span class="c10">with</span><span class="c1">&nbsp;base
                    </span><span class="c3">10</span><span class="c1">: </span><span class="c7">&#39;hello&#39;</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Pe de o parte, este evident c&#259; &#537;irul nu reprezint&#259; un num&#259;r, dar
            putem avea de-a face cu introducerea utilizatorului, care poate introduce &#537;i altceva dec&acirc;t ne
            a&#537;tept&#259;m:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.b7f63e95e8cf869df5105298d8877f3c5251097c"></a><a id="t.3"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c1">string = input(</span><span class="c7">&quot;Introduce&#539;i un
                        num&#259;r: &quot;</span><span class="c1">)<br>number = int(string)<br>print(number)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c9">C&acirc;nd apare o excep&#539;ie, execu&#539;ia programului este
            &icirc;ntrerupt&#259;, iar pentru a evita acest comportament &#537;i a gestiona excep&#539;iile &icirc;n
            Python, se folose&#537;te construc&#539;ia </span><span class="c2">try..except</span><span
            class="c0">.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c13">try..except</span></p>
    <p class="c6"><span class="c0">&nbsp; </span></p>
    <p class="c6"><span class="c9">Construc&#539;ia </span><span class="c2">try..except</span><span class="c0">&nbsp;are
            urm&#259;toarea defini&#539;ie formal&#259;:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.8d615caf3a4a036fe6810b4104ef8a6600d0493b"></a><a id="t.4"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c10">try</span><span class="c1">:<br> &nbsp;
                        &nbsp;instruc&#539;iuni<br></span><span class="c10">except</span><span
                        class="c1">&nbsp;[Tip_excep&#539;ie]:<br> &nbsp; &nbsp;instruc&#539;iuni</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c9">&Icirc;ntregul cod principal, &icirc;n care poten&#539;ial poate ap&#259;rea o
            excep&#539;ie, este plasat dup&#259; cuv&acirc;ntul-cheie </span><span class="c2">try</span><span
            class="c9">. Dac&#259; &icirc;n acest cod se genereaz&#259; o excep&#539;ie, execu&#539;ia codului din
            blocul try este &icirc;ntrerupt&#259;, iar execu&#539;ia trece la blocul </span><span
            class="c2">except</span><span class="c0">.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c9">Dup&#259; cuv&acirc;ntul-cheie </span><span class="c2">except</span><span
            class="c0">, op&#539;ional, se poate specifica ce tip de excep&#539;ie va fi tratat&#259; (de exemplu,
            ValueError sau KeyError). Dup&#259; cuv&acirc;ntul except, pe linia urm&#259;toare se afl&#259;
            instruc&#539;iunile blocului except, care se execut&#259; &icirc;n caz de apari&#539;ie a
            excep&#539;iei.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">S&#259; analiz&#259;m tratarea unei excep&#539;ii pe exemplul conversiei unui
            &#537;ir &icirc;ntr-un num&#259;r:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.e87748b98f6725ef48bc0312ef263bb9f803ed1d"></a><a id="t.5"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c10">try</span><span class="c1">:<br> &nbsp; &nbsp;number =
                        int(input(</span><span class="c7">&quot;Introduce&#539;i un num&#259;r: &quot;</span><span
                        class="c1">))<br> &nbsp; &nbsp;print(</span><span class="c7">&quot;Num&#259;rul
                        introdus:&quot;</span><span class="c1">, number)<br></span><span class="c10">except</span><span
                        class="c1">:<br> &nbsp; &nbsp;print(</span><span class="c7">&quot;Conversia a
                        e&#537;uat&quot;</span><span class="c1">)<br>print(</span><span class="c7">&quot;Finalizarea
                        programului&quot;</span><span class="c1">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Introduc&acirc;nd un &#537;ir:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.e31b43b77502f597998b77e863bfb1fcc58a9d95"></a><a id="t.6"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c1">plaintext<br>Introduce&#539;i un num&#259;r: hello<br>Conversia a
                        e&#537;uat<br>Finalizarea programului</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Dup&#259; cum se poate vedea din afi&#537;area pe consol&#259;, la introducerea unui
            &#537;ir, afi&#537;area num&#259;rului pe consol&#259; nu are loc, iar execu&#539;ia programului trece la
            blocul except.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Introduc&acirc;nd un num&#259;r corect:</span></p><a
        id="t.0539a8d78e6c3da25e277d06a9eed551b6241ac7"></a><a id="t.7"></a>
    <table class="c11">
        <tr class="c8"></tr>
    </table>
    <p class="c4 c16"><span class="c0"></span></p><a id="t.0fb80fde594116941d1dc3d1dae417bd2e662a02"></a><a
        id="t.8"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c1">Introduce&#539;i un num&#259;r: </span><span class="c3">22</span><span
                        class="c1"><br>Num&#259;rul introdus: </span><span class="c3">22</span><span
                        class="c1"><br>Finalizarea programului</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Acum totul se execut&#259; normal, excep&#539;ia nu apare, iar blocul except nu este
            executat.</span></p>
    <p class="c5"><span class="c13"></span></p>
    <p class="c6"><span class="c15">Blocul finally.</span><span class="c0">&nbsp; </span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c9">La tratarea excep&#539;iilor, se poate folosi &#537;i blocul op&#539;ional
        </span><span class="c2">finally</span><span class="c0">. Particularitatea acestui bloc este c&#259; se
            execut&#259; indiferent dac&#259; a fost generat&#259; sau nu o excep&#539;ie:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.a8439348aae2af9f1bb34822208eb331c6ddbf9c"></a><a id="t.9"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c10">try</span><span class="c1">:<br> &nbsp; &nbsp;number =
                        int(input(</span><span class="c7">&quot;Introduce&#539;i un num&#259;r: &quot;</span><span
                        class="c1">))<br> &nbsp; &nbsp;print(</span><span class="c7">&quot;Num&#259;rul
                        introdus:&quot;</span><span class="c1">, number)<br></span><span class="c10">except</span><span
                        class="c1">:<br> &nbsp; &nbsp;print(</span><span class="c7">&quot;Conversia a
                        e&#537;uat&quot;</span><span class="c1">)<br></span><span class="c10">finally</span><span
                        class="c1">:<br> &nbsp; &nbsp;print(</span><span class="c7">&quot;Blocul try a finalizat
                        execu&#539;ia&quot;</span><span class="c1">)<br>print(</span><span class="c7">&quot;Finalizarea
                        programului&quot;</span><span class="c1">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c0">De obicei, blocul finally este utilizat pentru eliberarea resurselor utilizate, de
            exemplu, pentru &icirc;nchiderea fi&#537;ierelor.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c6"><span class="c9">Este important de men&#539;ionat c&#259; blocul </span><span class="c2">finally
        </span><span class="c9">nu trateaz&#259; excep&#539;iile, &#537;i dac&#259; folosim acest bloc f&#259;r&#259;
            blocul </span><span class="c2">except</span><span class="c0">, atunci c&acirc;nd apare o eroare,
            aplica&#539;ia se va &icirc;nchide brusc, cum ar fi &icirc;n cazul urm&#259;tor la
            &icirc;mp&#259;r&#539;irea unui num&#259;r la zero:</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.845474654da4cc4a658d34ee8f8596510a92ec5f"></a><a id="t.10"></a>
    <table class="c11">
        <tr class="c8">
            <td class="c12" colspan="1" rowspan="1">
                <p class="c4"><span class="c10">try</span><span class="c1">:<br> &nbsp; &nbsp;number = </span><span
                        class="c3">3</span><span class="c1">&nbsp;/ </span><span class="c3">0</span><span
                        class="c1">&nbsp; </span><span class="c17"># genereaz&#259; excep&#539;ia
                        ZeroDivisionError</span><span class="c1"><br> &nbsp; &nbsp;print(number)<br></span><span
                        class="c10">finally</span><span class="c1">:<br> &nbsp; &nbsp;print(</span><span
                        class="c7">&quot;Blocul try a finalizat execu&#539;ia&quot;</span><span
                        class="c1">)<br>print(</span><span class="c7">&quot;Finalizarea programului&quot;</span><span
                        class="c1">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c5"><span class="c0"></span></p>
</body>

</html>