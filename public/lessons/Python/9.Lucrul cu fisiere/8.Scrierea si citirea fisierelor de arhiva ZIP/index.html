<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c21 doc-content">
    <h1 class="c10 c8 c19">Scrierea și citirea fișierelor de arhivă ZIP.</h1>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Formatul </span><span class="c15">ZIP </span><span class="c3">este cel mai popular
            format de arhivare &#537;i compresie a fi&#537;ierelor. Limbajul Python include un modul &icirc;ncorporat
            pentru lucrul cu acest tip de fi&#537;iere - </span><span class="c15">zipfile</span><span class="c8 c3">. Cu
            ajutorul acestui modul, putem crea, citi, scrie fi&#537;iere ZIP, ob&#539;ine con&#539;inutul acestora
            &#537;i ad&#259;uga fi&#537;iere noi &icirc;n arhiv&#259;. De asemenea, modulul suport&#259; criptarea
            fi&#537;ierelor, dar nu suport&#259; decriptarea acestora.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Pentru a reprezenta un fi&#537;ier ZIP, modulul define&#537;te clasa ZipFile.
            Aceasta are urm&#259;torul constructor:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">ZipFile(file, mode=</span><span class="c7">&#39;r&#39;</span><span
                        class="c0">, compression=ZIP_STORED, allowZip64=</span><span class="c9">True</span><span
                        class="c0">, compresslevel=</span><span class="c9">None</span><span class="c0">, *,
                        strict_timestamps=</span><span class="c9">True</span><span class="c0">,
                        metadata_encoding=</span><span class="c9">None</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Parametri:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <ul class="c13 lst-kix_pkch7hgo2rei-0 start">
        <li class="c10 c12 li-bullet-0"><span class="c3">&nbsp;</span><span class="c2">file</span><span class="c8 c3">:
                calea c&#259;tre fi&#537;ierul ZIP.</span></li>
    </ul>
    <p class="c5"><span class="c8 c3"></span></p>
    <ul class="c13 lst-kix_pkch7hgo2rei-0">
        <li class="c10 c12 li-bullet-0"><span class="c3">&nbsp;</span><span class="c2">mode</span><span class="c8 c3">:
                modul de deschidere a fi&#537;ierului. Poate avea urm&#259;toarele valori:</span></li>
    </ul>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10 c14"><span class="c3">&nbsp; - </span><span class="c2">r</span><span class="c8 c3">: pentru citirea
            unui fi&#537;ier existent.</span></p>
    <p class="c5 c14"><span class="c8 c3"></span></p>
    <p class="c10 c14"><span class="c3">&nbsp; - </span><span class="c2">w</span><span class="c8 c3">: pentru scrierea
            unui fi&#537;ier nou.</span></p>
    <p class="c5 c14"><span class="c8 c3"></span></p>
    <p class="c10 c14"><span class="c3">&nbsp; - </span><span class="c2">a</span><span class="c8 c3">: pentru
            ad&#259;ugarea de fi&#537;iere &icirc;ntr-un fi&#537;ier existent.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <ul class="c13 lst-kix_mluwuquvalxl-0 start">
        <li class="c10 c12 li-bullet-0"><span class="c2">compression</span><span class="c8 c3">: tipul de compresie
                utilizat la scrierea fi&#537;ierului. Poate avea valori precum:</span></li>
    </ul>
    <p class="c5 c14"><span class="c8 c3"></span></p>
    <p class="c10 c14"><span class="c3">&nbsp; -</span><span class="c2">&nbsp;ZIP_STORED</span><span class="c8 c3">:
            arhivare f&#259;r&#259; compresie (valoare implicit&#259;).</span></p>
    <p class="c5 c14"><span class="c8 c3"></span></p>
    <p class="c10 c14"><span class="c3">&nbsp; -</span><span class="c2">&nbsp;ZIP_DEFLATED</span><span class="c8 c3">:
            tipul standard de compresie ZIP.</span></p>
    <p class="c5 c14"><span class="c8 c3"></span></p>
    <p class="c10 c14"><span class="c3">&nbsp; - </span><span class="c2">ZIP_BZIP2</span><span class="c8 c3">: compresie
            utiliz&acirc;nd metoda BZIP2.</span></p>
    <p class="c5 c14"><span class="c8 c3"></span></p>
    <p class="c10 c14"><span class="c8 c3">&nbsp; - ZIP_LZMA: compresie utiliz&acirc;nd metoda LZMA.</span></p>
    <p class="c5 c14"><span class="c8 c3"></span></p>
    <ul class="c13 lst-kix_1qj1b1ayb6t7-0 start">
        <li class="c10 c12 li-bullet-0"><span class="c3">&nbsp;</span><span class="c2">allowZip64</span><span
                class="c8 c3">: dac&#259; este True, permite ca fi&#537;ierul ZIP s&#259; fie mai mare de 4 GB.</span>
        </li>
    </ul>
    <p class="c5"><span class="c8 c3"></span></p>
    <ul class="c13 lst-kix_1qj1b1ayb6t7-0">
        <li class="c10 c12 li-bullet-0"><span class="c3">&nbsp;</span><span class="c2">compresslevel</span><span
                class="c3">: nivelul de compresie la scrierea fi&#537;ierului. Nu se aplic&#259; pentru tipurile de
                compresie</span><span class="c2">&nbsp;ZIP_STORED</span><span class="c3">&nbsp;&#537;i </span><span
                class="c2">ZIP_LZMA</span><span class="c3">. Pentru </span><span class="c2">ZIP_DEFLATED</span><span
                class="c8 c3">, valorile permise sunt de la 0 la 9, iar pentru ZIP_BZIP2, de la 1 la 9.</span></li>
    </ul>
    <p class="c5"><span class="c8 c3"></span></p>
    <ul class="c13 lst-kix_1qj1b1ayb6t7-0">
        <li class="c10 c12 li-bullet-0"><span class="c3">&nbsp;</span><span class="c2">strict_timestamps</span><span
                class="c8 c3">: la False, permite lucrul cu fi&#537;iere ZIP create &icirc;nainte de 01.01.1980 &#537;i
                dup&#259; 31.12.2107.</span></li>
    </ul>
    <p class="c5"><span class="c8 c3"></span></p>
    <ul class="c13 lst-kix_1qj1b1ayb6t7-0">
        <li class="c10 c12 li-bullet-0"><span class="c2">metadata_encoding</span><span class="c8 c3">: utilizat pentru
                decodarea metadatelor fi&#537;ierului ZIP (de exemplu, comentarii).</span></li>
    </ul>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Clasa ZipFile ofer&#259; o serie de metode pentru lucrul cu fi&#537;iere:</span>
    </p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c15">close()</span><span class="c8 c3">: &icirc;nchide
            fi&#537;ierul ZIP.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c15">getinfo()</span><span class="c8 c3">: returneaz&#259;
            informa&#539;ii despre un fi&#537;ier din arhiv&#259; sub forma unui obiect ZipInfo.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">-</span><span class="c15">&nbsp;namelist()</span><span class="c8 c3">:
            returneaz&#259; o list&#259; cu numele fi&#537;ierelor din arhiv&#259;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c15">infolist()</span><span class="c8 c3">: returneaz&#259;
            informa&#539;ii despre toate fi&#537;ierele din arhiv&#259; sub forma unei liste de obiecte ZipInfo.</span>
    </p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">-</span><span class="c15">&nbsp;open()</span><span class="c8 c3">: ofer&#259; acces
            la unul dintre fi&#537;ierele din arhiv&#259;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">-</span><span class="c15">&nbsp;read()</span><span class="c8 c3">: cite&#537;te un
            fi&#537;ier din arhiv&#259; sub form&#259; de octe&#539;i.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c15">extract()</span><span class="c8 c3">: extrage un
            fi&#537;ier din arhiv&#259;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c15">extractall()</span><span class="c8 c3">: extrage toate
            elementele din arhiv&#259;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c15">setpassword()</span><span class="c8 c3">: stabile&#537;te
            o parol&#259; pentru fi&#537;ierul ZIP.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">-</span><span class="c15">&nbsp;printdir()</span><span class="c8 c3">:
            afi&#537;eaz&#259; pe consol&#259; con&#539;inutul arhivei.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c17">Crearea &#537;i &icirc;nchiderea unui fi&#537;ier ZIP.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Pentru a crea un fi&#537;ier ZIP, &icirc;n constructorul ZipFile se transmite
            modul w sau a:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br>myzip = ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;w&quot;</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Dup&#259; executarea acestui cod, &icirc;n folderul curent va fi creat un
            fi&#537;ier ZIP gol numit &quot;fdc.zip&quot;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Dup&#259; ce am terminat lucrul cu arhiva, trebuie s&#259; o &icirc;nchidem folosind
            metoda </span><span class="c2">close()</span><span class="c8 c3">:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br>myzip = ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;w&quot;</span><span class="c0">)<br>myzip.close()</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Deoarece ZipFile suport&#259; context managerul, putem folosi instruc&#539;iunea
        </span><span class="c15">with</span><span class="c8 c3">, care va &icirc;nchide automat fi&#537;ierul la
            finalizarea contextului:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;w&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;</span><span class="c9">pass</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c17">Scrierea fi&#537;ierelor &icirc;n arhiv&#259;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Pentru a scrie fi&#537;iere &icirc;n arhiv&#259;, se utilizeaz&#259;
            metoda</span><span class="c15">&nbsp;write()</span><span class="c8 c3">:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">write(filename, arcname=</span><span class="c9">None</span><span
                        class="c0">, compress_type=</span><span class="c9">None</span><span class="c0">,
                        compresslevel=</span><span class="c9">None</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Primul parametru reprezint&#259; fi&#537;ierul care va fi ad&#259;ugat &icirc;n
            arhiv&#259;. Al doilea parametru, arcname, permite setarea unui nume arbitrar pentru fi&#537;ierul din
            arhiv&#259; (implicit, este folosit numele fi&#537;ierului original). Al treilea parametru, </span><span
            class="c2">compress_type</span><span class="c3">, specific&#259; tipul de compresie, iar </span><span
            class="c2">compresslevel </span><span class="c8 c3">specific&#259; nivelul de compresie.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">De exemplu, s&#259; ad&#259;ug&#259;m fi&#537;ierul &quot;hello.txt&quot;
            &icirc;n arhiva &quot;fdc.zip&quot;:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;w&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;myzip.write(</span><span
                        class="c7">&quot;hello.txt&quot;</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Este important de re&#539;inut c&#259;, atunci c&acirc;nd deschidem fi&#537;ierul
            ZIP &icirc;n modul &quot;w&quot;, orice con&#539;inut anterior este suprascris. Dac&#259; dorim s&#259;
            ad&#259;ug&#259;m fi&#537;iere &icirc;ntr-un fi&#537;ier ZIP existent, trebuie s&#259; deschidem
            fi&#537;ierul &icirc;n modul &quot;a&quot;:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;a&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;myzip.write(</span><span
                        class="c7">&quot;hello2.txt&quot;</span><span class="c0">)<br> &nbsp;
                        &nbsp;myzip.write(</span><span class="c7">&quot;forest.jpg&quot;</span><span class="c0">)</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Implicit, compresia nu este aplicat&#259;. Dac&#259; dorim s&#259; aplic&#259;m o
            metod&#259; de compresie &#537;i un nivel de compresie, putem specifica ace&#537;ti parametri:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile, ZIP_DEFLATED<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;w&quot;</span><span class="c0">, compression=ZIP_DEFLATED,
                        compresslevel=</span><span class="c6">3</span><span class="c0">) </span><span
                        class="c9">as</span><span class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;myzip.write(</span><span
                        class="c7">&quot;hello.txt&quot;</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Dac&#259; &icirc;ncerc&#259;m s&#259; ad&#259;ug&#259;m &icirc;n arhiv&#259;
            fi&#537;iere cu nume deja existente, consola va afi&#537;a un avertisment. Pentru a evita conflictele de
            nume, putem specifica un nume unic pentru fi&#537;ierele din arhiv&#259; folosind al doilea parametru al
            metodei write:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;a&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;myzip.write(</span><span
                        class="c7">&quot;hello.txt&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;hello1.txt&quot;</span><span class="c0">)<br> &nbsp;
                        &nbsp;myzip.write(</span><span class="c7">&quot;hello.txt&quot;</span><span class="c0">,
                    </span><span class="c7">&quot;hello2.txt&quot;</span><span class="c0">)<br> &nbsp;
                        &nbsp;myzip.write(</span><span class="c7">&quot;hello.txt&quot;</span><span class="c0">,
                    </span><span class="c7">&quot;hello3.txt&quot;</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c3 c8"></span></p>
    <p class="c10"><span class="c8 c17">Ob&#539;inerea informa&#539;iilor despre fi&#537;ierele din arhiv&#259;.</span>
    </p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Metoda</span><span class="c15">&nbsp;infolist() </span><span
            class="c8 c3">returneaz&#259; informa&#539;ii despre fi&#537;ierele din arhiv&#259; sub form&#259; de
            list&#259;, unde fiecare fi&#537;ier este reprezentat de un obiect ZipInfo:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;a&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;print(myzip.infolist())</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Clasa </span><span class="c15">ZipInfo </span><span class="c8 c3">ofer&#259; o serie
            de atribute pentru stocarea informa&#539;iilor despre fi&#537;ier. Cele mai importante sunt:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c2">filename</span><span class="c8 c3">: numele
            fi&#537;ierului.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c2">date_time</span><span class="c8 c3">: data &#537;i ora
            ultimei modific&#259;ri a fi&#537;ierului sub forma unui tuplu &icirc;n formatul (an, lun&#259;, zi,
            or&#259;, minut, secund&#259;).</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c2">compress_type</span><span class="c8 c3">: tipul de
            compresie.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c2">compress_size</span><span class="c8 c3">: dimensiunea
            dup&#259; compresie.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">- </span><span class="c2">file_size</span><span class="c8 c3">: dimensiunea
            original&#259; a fi&#537;ierului &icirc;nainte de compresie.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Putem ob&#539;ine aceste date pentru fiecare fi&#537;ier din arhiv&#259;:</span>
    </p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;r&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;</span><span class="c9">for</span><span
                        class="c0">&nbsp;item </span><span class="c9">in</span><span
                        class="c0">&nbsp;myzip.infolist():<br> &nbsp; &nbsp; &nbsp; &nbsp;print(</span><span
                        class="c7">f&quot;File Name: {item.filename} Date: {item.date_time} Size:
                        {item.file_size}&quot;</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Ie&#537;irea pe consol&#259; ar putea ar&#259;ta astfel:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">File Name: hello.txt &nbsp;Date: (</span><span
                        class="c6">2022</span><span class="c0">, </span><span class="c6">11</span><span class="c0">,
                    </span><span class="c6">23</span><span class="c0">, </span><span class="c6">20</span><span
                        class="c0">, </span><span class="c6">21</span><span class="c0">, </span><span
                        class="c6">34</span><span class="c0">) &nbsp;Size: </span><span class="c6">18</span><span
                        class="c0"><br>File Name: forest.jpg &nbsp;Date: (</span><span class="c6">2022</span><span
                        class="c0">, </span><span class="c6">11</span><span class="c0">, </span><span
                        class="c6">19</span><span class="c0">, </span><span class="c6">20</span><span class="c0">,
                    </span><span class="c6">46</span><span class="c0">, </span><span class="c6">52</span><span
                        class="c0">) &nbsp;Size: </span><span class="c6">103956</span><span class="c0"><br>File Name:
                        hello1.txt &nbsp;Date: (</span><span class="c6">2022</span><span class="c0">, </span><span
                        class="c6">11</span><span class="c0">, </span><span class="c6">23</span><span class="c0">,
                    </span><span class="c6">20</span><span class="c0">, </span><span class="c6">21</span><span
                        class="c0">, </span><span class="c6">34</span><span class="c0">) &nbsp;Size: </span><span
                        class="c6">18</span><span class="c0"><br>File Name: hello2.txt &nbsp;Date: (</span><span
                        class="c6">2022</span><span class="c0">, </span><span class="c6">11</span><span class="c0">,
                    </span><span class="c6">23</span><span class="c0">, </span><span class="c6">20</span><span
                        class="c0">, </span><span class="c6">21</span><span class="c0">, </span><span
                        class="c6">34</span><span class="c0">) &nbsp;Size: </span><span class="c6">18</span><span
                        class="c0"><br>File Name: hello3.txt &nbsp;Date: (</span><span class="c6">2022</span><span
                        class="c0">, </span><span class="c6">11</span><span class="c0">, </span><span
                        class="c6">23</span><span class="c0">, </span><span class="c6">20</span><span class="c0">,
                    </span><span class="c6">21</span><span class="c0">, </span><span class="c6">34</span><span
                        class="c0">) &nbsp;Size: </span><span class="c6">18</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Cu ajutorul metodei </span><span class="c2">is_dir()</span><span
            class="c8 c3">&nbsp;putem verifica dac&#259; un element din arhiv&#259; este un folder:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;r&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;</span><span class="c9">for</span><span
                        class="c0">&nbsp;item </span><span class="c9">in</span><span
                        class="c0">&nbsp;myzip.infolist():<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c9">if</span><span class="c0">&nbsp;item.is_dir(): &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp;print(</span><span class="c7">f&quot;Folder: {item.filename}&quot;</span><span
                        class="c0">)<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c9">else</span><span
                        class="c0">: &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(</span><span
                        class="c7">f&quot;File: {item.filename}&quot;</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Pentru a ob&#539;ine doar lista de nume ale fi&#537;ierelor din arhiv&#259;, putem
            folosi metoda </span><span class="c8 c15">namelist():</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;r&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;</span><span class="c9">for</span><span
                        class="c0">&nbsp;item </span><span class="c9">in</span><span
                        class="c0">&nbsp;myzip.namelist():<br> &nbsp; &nbsp; &nbsp; &nbsp;print(item)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Ie&#537;irea pe consol&#259; ar putea fi:</span></p>
    <table class="c1">
        <tr class="c4"></tr>
    </table>
    <p class="c16 c18"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">hello.txt<br>forest.jpg<br>hello1.txt<br>hello2.txt<br>hello3.txt</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Cu ajutorul metodei </span><span class="c15">getinfo()</span><span class="c8 c3">,
            putem ob&#539;ine date despre un anumit fi&#537;ier arhivat, transmi&#539;&acirc;nd numele acestuia &icirc;n
            arhiv&#259; ca parametru. Rezultatul metodei este un obiect ZipInfo:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;r&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;</span><span class="c9">try</span><span
                        class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;hello_file = myzip.getinfo(</span><span
                        class="c7">&quot;hello.txt&quot;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;print(hello_file.file_size)<br> &nbsp; &nbsp;</span><span class="c9">except</span><span
                        class="c0">&nbsp;KeyError:<br> &nbsp; &nbsp; &nbsp; &nbsp;print(</span><span
                        class="c7">&quot;Fi&#537;ierul specificat nu exist&#259;&quot;</span><span class="c0">)</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Dac&#259; elementul cu numele specificat nu este g&#259;sit &icirc;n arhiv&#259;,
            metoda va genera o excep&#539;ie KeyError.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c17">Extrac&#539;ia fi&#537;ierelor din arhiv&#259;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Pentru a extrage toate fi&#537;ierele din arhiv&#259;, se folose&#537;te metoda
        </span><span class="c15">extractall()</span><span class="c8 c3">:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">extractall(path=</span><span class="c9">None</span><span class="c0">,
                        members=</span><span class="c9">None</span><span class="c0">, pwd=</span><span
                        class="c9">None</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Primul parametru al metodei specific&#259; directorul &icirc;n care se vor extrage
            fi&#537;ierele (implicit, se extrag &icirc;n directorul curent). Parametrul </span><span class="c2">members
        </span><span class="c8 c3">reprezint&#259; o list&#259; de &#537;iruri - lista de nume ale fi&#537;ierelor care
            trebuie extrase din arhiv&#259;. Al treilea parametru, pwd, reprezint&#259; parola &icirc;n cazul &icirc;n
            care arhiva este protejat&#259; cu parol&#259;.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">De exemplu, pentru a extrage toate fi&#537;ierele din arhiv&#259;:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;r&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;myzip.extractall()</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Extrac&#539;ia &icirc;ntr-un folder specific:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">myzip.extractall(path=</span><span
                        class="c7">&quot;fdc&quot;</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Extrac&#539;ia unui subset de fi&#537;iere:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c20"># extragem fi&#537;ierele &quot;hello.txt&quot;, &quot;forest.jpg&quot;
                        &icirc;n folderul &quot;fdc2&quot;</span><span class="c0"><br>myzip.extractall(path=</span><span
                        class="c7">&quot;fdc2&quot;</span><span class="c0">, members=[</span><span
                        class="c7">&quot;hello.txt&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;forest.jpg&quot;</span><span class="c0">])</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Pentru a extrage un singur fi&#537;ier, se folose&#537;te metoda </span><span
            class="c15">extract()</span><span class="c8 c3">, c&#259;reia i se transmite numele fi&#537;ierului care
            trebuie extras:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">myzip.extract(</span><span class="c7">&quot;hello.txt&quot;</span><span
                        class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c17">Citirea unui fi&#537;ier.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Metoda</span><span class="c15">&nbsp;read() </span><span class="c8 c3">permite
            citirea con&#539;inutului unui fi&#537;ier din arhiv&#259; sub form&#259; de octe&#539;i:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;r&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;content = myzip.read(</span><span
                        class="c7">&quot;hello5.txt&quot;</span><span class="c0">)<br> &nbsp;
                        &nbsp;print(content)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c17">Deschiderea unui fi&#537;ier.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Metoda</span><span class="c15">&nbsp;open()</span><span class="c8 c3">&nbsp;permite
            deschiderea fi&#537;ierelor din arhiv&#259; f&#259;r&#259; a le extrage efectiv:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c0">open(name, mode=</span><span class="c7">&#39;r&#39;</span><span
                        class="c0">, pwd=</span><span class="c9">None</span><span class="c0">, *,
                        force_zip64=</span><span class="c9">False</span><span class="c0">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c3">Primul parametru obligatoriu este numele fi&#537;ierului din arhiv&#259;. Al doilea
            parametru, mode, stabile&#537;te modul de deschidere. Parametrul </span><span class="c2">pwd </span><span
            class="c3">specific&#259; parola, dac&#259; fi&#537;ierul este protejat. Parametrul</span><span
            class="c2">&nbsp;force_zip64</span><span class="c3">, la True, permite deschiderea fi&#537;ierelor mai mari
            de </span><span class="c2">4 GB</span><span class="c8 c3">.</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c10"><span class="c8 c3">Aceast&#259; metod&#259; este util&#259; pentru manipularea fi&#537;ierelor, de
            exemplu, pentru citirea con&#539;inutului sau, dimpotriv&#259;, pentru scrierea acestora. De exemplu,
            s&#259; deschidem un fi&#537;ier &#537;i s&#259; citim con&#539;inutul acestuia:</span></p>
    <p class="c5"><span class="c8 c3"></span></p>
    <table class="c1">
        <tr class="c4">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c16"><span class="c9">from</span><span class="c0">&nbsp;zipfile </span><span
                        class="c9">import</span><span class="c0">&nbsp;ZipFile<br> <br></span><span
                        class="c9">with</span><span class="c0">&nbsp;ZipFile(</span><span
                        class="c7">&quot;fdc.zip&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;a&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;myzip:<br> &nbsp; &nbsp;</span><span class="c20"># scriem un nou fi&#537;ier
                        &quot;hello5.txt&quot; &icirc;n arhiv&#259;</span><span class="c0"><br> &nbsp;
                        &nbsp;</span><span class="c9">with</span><span class="c0">&nbsp;myzip.open(</span><span
                        class="c7">&quot;hello5.txt&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;w&quot;</span><span class="c0">) </span><span class="c9">as</span><span
                        class="c0">&nbsp;hello_file:<br> &nbsp; &nbsp; &nbsp; &nbsp;encoded_str = bytes(</span><span
                        class="c7">&quot;Python...&quot;</span><span class="c0">, </span><span
                        class="c7">&quot;UTF-8&quot;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;hello_file.write(encoded_str)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c8 c3"></span></p>
    <p class="c5"><span class="c8 c3"></span></p>
</body>

</html>