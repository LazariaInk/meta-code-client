<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c2 doc-content">
    <h1 class="c8 c17">Domeniul de vizibilitate al variabilelor </h1>
    <p class="c12"><span class="c0">Domeniul de vizibilitate sau scope-ul determin&#259; contextul unei variabile,
            &icirc;n cadrul c&#259;ruia aceasta poate fi utilizat&#259;. &Icirc;n Python exist&#259; dou&#259; tipuri de
            context: global &#537;i local.</span></p>
    <p class="c8"><span class="c14">Contextul global</span></p>
    <p class="c12"><span class="c0">Contextul global implic&#259; faptul c&#259; o variabil&#259; este global&#259;,
            adic&#259; este definit&#259; &icirc;n afara oric&#259;rei func&#539;ii &#537;i este accesibil&#259;
            oric&#259;rei func&#539;ii din program. De exemplu:</span></p>
    <p class="c3"><span class="c0"></span></p><a id="t.56676496365076e1d2b2a7309de95249c8d91e06"></a><a id="t.0"></a>
    <table class="c16">
        <tr class="c15">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c7"><span class="c4">name = </span><span class="c9">&quot;Tom&quot;</span><span
                        class="c4"><br></span><span class="c10">def</span><span class="c4">&nbsp;</span><span
                        class="c5">say_hi</span><span class="c4">():<br> &nbsp; &nbsp;print(</span><span
                        class="c9">&quot;Hello&quot;</span><span class="c4">, name)<br></span><span
                        class="c10">def</span><span class="c4">&nbsp;</span><span class="c5">say_bye</span><span
                        class="c4">():<br> &nbsp; &nbsp;print(</span><span class="c9">&quot;Good bye&quot;</span><span
                        class="c4">, name)<br>say_hi()<br>say_bye()</span></p>
            </td>
        </tr>
    </table>
    <p class="c3"><span class="c0"></span></p>
    <p class="c12"><span class="c1">Aici, variabila </span><span class="c1">name</span><span class="c0">&nbsp;este
            global&#259; &#537;i are un domeniu de vizibilitate global. Ambele func&#539;ii definite aici o pot utiliza
            liber.</span></p>
    <p class="c8 c11"><span class="c0"></span></p>
    <p class="c8"><span class="c14">Contextul local</span></p>
    <p class="c12"><span class="c0">Spre deosebire de variabilele globale, o variabil&#259; local&#259; este
            definit&#259; &icirc;n interiorul unei func&#539;ii &#537;i este accesibil&#259; doar din acea func&#539;ie,
            adic&#259; are un domeniu de vizibilitate local:</span></p>
    <p class="c12 c11"><span class="c0"></span></p><a id="t.b0f9091492b03edb833a7170d9c642a985a27319"></a><a
        id="t.1"></a>
    <table class="c16">
        <tr class="c15">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c7"><span class="c10">def</span><span class="c4">&nbsp;</span><span
                        class="c5">say_hi</span><span class="c4">():<br> &nbsp; &nbsp;name = </span><span
                        class="c9">&quot;Sam&quot;</span><span class="c4"><br> &nbsp; &nbsp;surname = </span><span
                        class="c9">&quot;Johnson&quot;</span><span class="c4"><br> &nbsp; &nbsp;print(</span><span
                        class="c9">&quot;Hello&quot;</span><span class="c4">, name, surname)<br><br></span><span
                        class="c10">def</span><span class="c4">&nbsp;</span><span class="c5">say_bye</span><span
                        class="c4">():<br> &nbsp; &nbsp;name = </span><span class="c9">&quot;Tom&quot;</span><span
                        class="c4"><br> &nbsp; &nbsp;print(</span><span class="c9">&quot;Good bye&quot;</span><span
                        class="c4">, name)<br><br>say_hi()<br>say_bye()</span></p>
            </td>
        </tr>
    </table>
    <p class="c3"><span class="c0"></span></p>
    <p class="c12"><span class="c1">&Icirc;n acest caz, &icirc;n fiecare dintre cele dou&#259; func&#539;ii este
            definit&#259; o variabil&#259; local&#259; </span><span class="c1">name</span><span class="c1">. De&#537;i
            aceste variabile au acelea&#537;i nume, ele sunt dou&#259; variabile diferite, fiecare fiind accesibil&#259;
            doar &icirc;n cadrul func&#539;iei sale. De asemenea, &icirc;n func&#539;ia </span><span
            class="c1">say_hi()</span><span class="c1">&nbsp;este definit&#259; variabila </span><span
            class="c1">surname</span><span class="c1">, care este de asemenea local&#259;, a&#537;a c&#259; nu putem
            s&#259; o folosim &icirc;n func&#539;ia </span><span class="c1">say_bye()</span><span class="c0">.</span>
    </p>
    <p class="c8 c11"><span class="c0"></span></p>
    <p class="c8"><span class="c14">Ascunderea variabilelor</span></p>
    <p class="c12"><span class="c0">Exist&#259; &#537;i o alt&#259; situa&#539;ie &icirc;n care o variabil&#259;
            local&#259; ascunde o variabil&#259; global&#259; cu acela&#537;i nume:</span></p>
    <p class="c3"><span class="c0"></span></p><a id="t.b0c046de9de9e600bf2916a511bd320d78177df2"></a><a id="t.2"></a>
    <table class="c16">
        <tr class="c15">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c7"><span class="c4">name = </span><span class="c9">&quot;Tom&quot;</span><span
                        class="c4"><br></span><span class="c10">def</span><span class="c4">&nbsp;</span><span
                        class="c5">say_hi</span><span class="c4">():<br> &nbsp; &nbsp;name = </span><span
                        class="c9">&quot;Bob&quot;</span><span class="c4">&nbsp; </span><span class="c6"># ascunde
                        valoarea variabilei globale</span><span class="c4"><br> &nbsp; &nbsp;print(</span><span
                        class="c9">&quot;Hello&quot;</span><span class="c4">, name)<br></span><span
                        class="c10">def</span><span class="c4">&nbsp;</span><span class="c5">say_bye</span><span
                        class="c4">():<br> &nbsp; &nbsp;print(</span><span class="c9">&quot;Good bye&quot;</span><span
                        class="c4">, name)<br>say_hi() &nbsp; &nbsp;</span><span class="c6"># Hello Bob</span><span
                        class="c4"><br>say_bye() &nbsp; </span><span class="c6"># Good bye Tom</span></p>
            </td>
        </tr>
    </table>
    <p class="c3"><span class="c0"></span></p>
    <p class="c12"><span class="c1">Aici, este definit&#259; o variabil&#259; global&#259; </span><span
            class="c1">name</span><span class="c1">. Totu&#537;i, &icirc;n func&#539;ia </span><span
            class="c1">say_hi</span><span class="c1">&nbsp;este definit&#259; o variabil&#259; local&#259; cu
            acela&#537;i nume </span><span class="c1">name</span><span class="c1">. &#536;i dac&#259; func&#539;ia
        </span><span class="c1">say_bye</span><span class="c1">&nbsp;folose&#537;te variabila global&#259;, func&#539;ia
        </span><span class="c1">say_hi</span><span class="c0">&nbsp;folose&#537;te variabila local&#259;, care ascunde
            variabila global&#259;.</span></p>
    <p class="c12"><span class="c1">Dac&#259; dorim s&#259; modific&#259;m variabila global&#259; &icirc;ntr-o
            func&#539;ie local&#259;, &#537;i nu s&#259; definim una local&#259;, trebuie s&#259; folosim cuv&acirc;ntul
            cheie </span><span class="c1">global</span><span class="c0">:</span></p>
    <p class="c3"><span class="c0"></span></p><a id="t.2327c883340d0e00f1d3c1d9681e2d8c1f517f40"></a><a id="t.3"></a>
    <table class="c16">
        <tr class="c15">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c7"><span class="c4">name = </span><span class="c9">&quot;Tom&quot;</span><span
                        class="c4"><br></span><span class="c10">def</span><span class="c4">&nbsp;</span><span
                        class="c5">say_hi</span><span class="c4">():<br> &nbsp; &nbsp;</span><span
                        class="c10">global</span><span class="c4">&nbsp;name<br> &nbsp; &nbsp;name = </span><span
                        class="c9">&quot;Bob&quot;</span><span class="c4">&nbsp; </span><span class="c6"># modific&#259;
                        valoarea variabilei globale</span><span class="c4"><br> &nbsp; &nbsp;print(</span><span
                        class="c9">&quot;Hello&quot;</span><span class="c4">, name)<br></span><span
                        class="c10">def</span><span class="c4">&nbsp;</span><span class="c5">say_bye</span><span
                        class="c4">():<br> &nbsp; &nbsp;print(</span><span class="c9">&quot;Good bye&quot;</span><span
                        class="c4">, name)<br>say_hi() &nbsp; &nbsp;</span><span class="c6"># Hello Bob</span><span
                        class="c4"><br>say_bye() &nbsp; </span><span class="c6"># Good bye Bob</span></p>
            </td>
        </tr>
    </table>
    <p class="c3"><span class="c0"></span></p>
    <p class="c8 c11"><span class="c0"></span></p>
    <p class="c8"><span class="c14">nonlocal</span></p>
    <p class="c12"><span class="c1">Expresia </span><span class="c1">nonlocal</span><span
            class="c1">&nbsp;ata&#537;eaz&#259; un identificator la o variabil&#259; din cel mai apropiat context
            &icirc;nconjur&#259;tor (cu excep&#539;ia contextului global). De obicei, </span><span
            class="c1">nonlocal</span><span class="c0">&nbsp;se folose&#537;te &icirc;n func&#539;iile imbricate,
            c&acirc;nd trebuie s&#259; ata&#537;&#259;m un identificator la o variabil&#259; sau parametru al
            func&#539;iei exterioare &icirc;nconjur&#259;toare. S&#259; analiz&#259;m o situa&#539;ie &icirc;n care
            aceast&#259; expresie poate fi util&#259;:</span></p>
    <p class="c3"><span class="c0"></span></p><a id="t.504760a12a6c557806c6ecf4af35403658fe7169"></a><a id="t.4"></a>
    <table class="c16">
        <tr class="c15">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c7"><span class="c10">def</span><span class="c4">&nbsp;</span><span
                        class="c5">outer</span><span class="c4">(): &nbsp;</span><span class="c6"># func&#539;ie
                        exterioar&#259;</span><span class="c4"><br> &nbsp; &nbsp;n = </span><span
                        class="c9">5</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c10">def</span><span
                        class="c4">&nbsp;</span><span class="c5">inner</span><span class="c4">(): &nbsp;</span><span
                        class="c6"># func&#539;ie imbricat&#259;</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;print(n)<br> &nbsp; &nbsp;inner() &nbsp;</span><span class="c6"># 5</span><span
                        class="c4"><br> &nbsp; &nbsp;print(n)<br>outer() &nbsp;</span><span class="c6"># 5</span></p>
            </td>
        </tr>
    </table>
    <p class="c3"><span class="c0"></span></p>
    <p class="c12"><span class="c1">Aici, func&#539;ia local&#259; imbricat&#259; </span><span
            class="c1">inner()</span><span class="c1">&nbsp;afi&#537;eaz&#259; pe consol&#259; valoarea variabilei
        </span><span class="c1">n</span><span class="c1">, care este definit&#259; &icirc;n func&#539;ia exterioar&#259;
        </span><span class="c1">outer()</span><span class="c1">. Apoi, &icirc;n func&#539;ia </span><span
            class="c1">outer()</span><span class="c1">, se apeleaz&#259; func&#539;ia intern&#259; </span><span
            class="c1">inner()</span><span class="c0">.</span></p>
    <p class="c12"><span class="c1">La apelul func&#539;iei </span><span class="c1">outer()</span><span class="c1">, vom
            vedea a&#537;teptat pe consol&#259; de dou&#259; ori num&#259;rul 5. Totu&#537;i, &icirc;n acest caz,
            func&#539;ia imbricat&#259; </span><span class="c1">inner()</span><span class="c0">&nbsp;doar acceseaz&#259;
            valoarea. Acum s&#259; lu&#259;m o alt&#259; situa&#539;ie &icirc;n care func&#539;ia imbricat&#259;
            atribuie o valoare variabilei:</span></p>
    <p class="c3"><span class="c0"></span></p><a id="t.1f679229f6edf8656d70eb2c49a900d34c946965"></a><a id="t.5"></a>
    <table class="c16">
        <tr class="c15">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c7"><span class="c10">def</span><span class="c4">&nbsp;</span><span
                        class="c5">outer</span><span class="c4">(): &nbsp;</span><span class="c6"># func&#539;ie
                        exterioar&#259;</span><span class="c4"><br> &nbsp; &nbsp;n = </span><span
                        class="c9">5</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c10">def</span><span
                        class="c4">&nbsp;</span><span class="c5">inner</span><span class="c4">(): &nbsp;</span><span
                        class="c6"># func&#539;ie imbricat&#259;</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;n = </span><span class="c9">25</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;print(n)<br> &nbsp; &nbsp;inner() &nbsp;</span><span class="c6"># 25</span><span
                        class="c4"><br> &nbsp; &nbsp;print(n)<br>outer() &nbsp;</span><span class="c6"># 5 </span><span
                        class="c4"><br></span><span class="c6"># 25 &nbsp; &nbsp;- inner</span><span
                        class="c4"><br></span><span class="c6"># 5 &nbsp; &nbsp; - outer</span></p>
            </td>
        </tr>
    </table>
    <p class="c3"><span class="c0"></span></p>
    <p class="c12"><span class="c1">La atribuirea valorii &icirc;n func&#539;ia imbricat&#259;: </span><span
            class="c1">n = 25</span><span class="c1">&nbsp;va fi creat&#259; o nou&#259; variabil&#259; </span><span
            class="c1">n</span><span class="c1">, care va ascunde variabila </span><span class="c1">n</span><span
            class="c1">&nbsp;din func&#539;ia exterioar&#259; </span><span class="c1">outer</span><span class="c1">.
            &Icirc;n final, vom ob&#539;ine la afi&#537;are dou&#259; numere diferite. Pentru a specifica &icirc;n
            func&#539;ia imbricat&#259; c&#259; identificatorul din func&#539;ia imbricat&#259; va reprezenta variabila
            din func&#539;ia &icirc;nconjur&#259;toare, se folose&#537;te expresia </span><span
            class="c1">nonlocal</span><span class="c0">:</span></p>
    <p class="c3"><span class="c0"></span></p><a id="t.9848f635b022dd1bed811e903adaec4c6f10d013"></a><a id="t.6"></a>
    <table class="c16">
        <tr class="c15">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c7"><span class="c10">def</span><span class="c4">&nbsp;</span><span
                        class="c5">outer</span><span class="c4">(): &nbsp;</span><span class="c6"># func&#539;ie
                        exterioar&#259;</span><span class="c4"><br> &nbsp; &nbsp;n = </span><span
                        class="c9">5</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c10">def</span><span
                        class="c4">&nbsp;</span><span class="c5">inner</span><span class="c4">(): &nbsp;</span><span
                        class="c6"># func&#539;ie imbricat&#259;</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c10">nonlocal</span><span class="c4">&nbsp;n &nbsp;</span><span
                        class="c6"># indic&#259;m c&#259; n este o variabil&#259; din func&#539;ia
                        &icirc;nconjur&#259;toare</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;n =
                    </span><span class="c9">25</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;print(n)<br>
                        &nbsp; &nbsp;inner() &nbsp;</span><span class="c6"># 25</span><span class="c4"><br> &nbsp;
                        &nbsp;print(n)<br>outer() &nbsp;</span><span class="c6"># 25</span></p>
            </td>
        </tr>
    </table>
    <p class="c3"><span class="c0"></span></p>
</body>

</html>