<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c16 doc-content">
    <h1 class="c0 c15">Modulul locale.</h1>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">&Icirc;n formatul implicit al numerelor, Python folose&#537;te sistemul anglo-saxon,
            &icirc;n care miile sunt separate prin virgule, iar partea zecimal&#259; este separat&#259; de partea
            &icirc;ntreag&#259; prin punct. &Icirc;n Europa continental&#259;, de exemplu, se folose&#537;te un alt
            sistem, &icirc;n care miile sunt separate prin punct, iar partea zecimal&#259; de partea &icirc;ntreag&#259;
            prin virgul&#259;:</span></p>
    <table class="c12">
        <tr class="c4">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c5"><span class="c7"># sistemul anglo-saxon</span><span class="c3"><br></span><span
                        class="c11">1</span><span class="c3">,</span><span class="c11">234.567</span><span
                        class="c3"><br></span><span class="c7"># sistemul european</span><span
                        class="c3"><br></span><span class="c11">1.234</span><span class="c3">,</span><span
                        class="c11">567</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">Pentru a rezolva problema format&#259;rii &icirc;n func&#539;ie de o anumit&#259;
            cultur&#259;, Python include modulul integrat </span><span class="c13">locale</span><span
            class="c1">.</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">Pentru a seta cultura local&#259;, &icirc;n modulul locale este definit&#259;
            func&#539;ia </span><span class="c13">setlocale()</span><span class="c1">, care accept&#259; doi
            parametri:</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <table class="c12">
        <tr class="c4">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c5"><span class="c3">setlocale(category, locale)</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Primul parametru indic&#259; categoria la care se aplic&#259; func&#539;ia - pentru
            numere, valute sau pentru ambele. Ca valoare pentru acest parametru, putem transmite una dintre
            urm&#259;toarele constante:</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c13">LC_ALL</span><span class="c1">: aplic&#259; localizarea la
            toate categoriile - pentru formatul numerelor, valutelor, datelor etc.</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">-</span><span class="c13">&nbsp;LC_NUMERIC</span><span class="c1">: aplic&#259;
            localizarea pentru numere</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">-</span><span class="c13">&nbsp;LC_MONETARY</span><span class="c1">: aplic&#259;
            localizarea pentru valute</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c13">LC_TIME</span><span class="c1">: aplic&#259; localizarea
            pentru date &#537;i ore</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c13">LC_CTYPE</span><span class="c1">: aplic&#259; localizarea
            la conversia caracterelor &icirc;n majuscule sau minuscule</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c13">LC_COLLATE</span><span class="c1">: aplic&#259;
            localizarea la compararea &#537;irurilor de caractere</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Al doilea parametru al func&#539;iei setlocale specific&#259; cultura local&#259;
            care trebuie utilizat&#259;. Pe sistemele Windows, se poate folosi codul &#539;&#259;rii conform
            standardului ISO din dou&#259; caractere, de exemplu, pentru Statele Unite - &quot;us&quot;, pentru Germania
            - &quot;de&quot;, pentru Rom&acirc;nia - &quot;ro&quot;. Pe MacOS, trebuie specificat codul limbii &#537;i
            codul &#539;&#259;rii, de exemplu, pentru englez&#259; &icirc;n Statele Unite - &quot;en_US&quot;, pentru
            german&#259; &icirc;n Germania - &quot;de_DE&quot;, pentru rom&acirc;n&#259; &icirc;n Rom&acirc;nia -
            &quot;ro_RO&quot;. Implicit, se utilizeaz&#259; cultura &quot;en_US&quot;.</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Pentru formatul numerelor &#537;i valutelor, modulul locale ofer&#259; dou&#259;
            func&#539;ii:</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">-</span><span class="c2 c8">&nbsp;currency(num)</span><span class="c1">:
            formateaz&#259; valuta</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c2 c8">format_string(str, num)</span><span class="c1">:
            &icirc;nlocuie&#537;te num&#259;rul num &icirc;n &#537;irul str</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Se folosesc urm&#259;torii placeholderi:</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c2 c8">d</span><span class="c1">: pentru numere
            &icirc;ntregi</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c2 c8">f</span><span class="c1">: pentru numere cu virgul&#259;
            mobil&#259;</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">- </span><span class="c2 c8">e</span><span class="c1">: pentru scrierea
            exponen&#539;ial&#259; a numerelor</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">&Icirc;naintea fiec&#259;rui placeholder se pune semnul procent %, de exemplu:</span>
    </p>
    <p class="c0 c6"><span class="c1"></span></p>
    <table class="c12">
        <tr class="c4">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c5"><span class="c10">&quot;%d&quot;</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">La afi&#537;area numerelor zecimale, dup&#259; punct, &icirc;nainte de placeholder,
            se poate specifica c&acirc;te zecimale s&#259; fie afi&#537;ate:</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <table class="c12">
        <tr class="c4">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c5"><span class="c3">%</span><span class="c11">.2</span><span class="c3">f &nbsp; &nbsp;
                        &nbsp; &nbsp;</span><span class="c7"># dou&#259; zecimale</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">S&#259; aplic&#259;m localizarea pentru numere &#537;i valute &icirc;n cultura
            german&#259;:</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <table class="c12">
        <tr class="c4">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c5"><span class="c14">import</span><span class="c3">&nbsp;locale<br>
                        <br>locale.setlocale(locale.LC_ALL, </span><span class="c10">&quot;de&quot;</span><span
                        class="c3">) &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7"># pentru Windows</span><span
                        class="c3"><br></span><span class="c7"># locale.setlocale(locale.LC_ALL, &quot;de_DE&quot;)
                        &nbsp; # pentru MacOS</span><span class="c3"><br> <br>number = </span><span
                        class="c11">12345.6789</span><span class="c3"><br>formatted = locale.format_string(</span><span
                        class="c10">&quot;%f&quot;</span><span class="c3">, number)<br>print(formatted) &nbsp;
                        &nbsp;</span><span class="c7"># 12345,678900</span><span class="c3"><br> <br>formatted =
                        locale.format_string(</span><span class="c10">&quot;%.2f&quot;</span><span class="c3">,
                        number)<br>print(formatted) &nbsp; &nbsp;</span><span class="c7"># 12345,68</span><span
                        class="c3"><br> <br>formatted = locale.format_string(</span><span
                        class="c10">&quot;%d&quot;</span><span class="c3">, number)<br>print(formatted) &nbsp;
                        &nbsp;</span><span class="c7"># 12345</span><span class="c3"><br> <br>formatted =
                        locale.format_string(</span><span class="c10">&quot;%e&quot;</span><span class="c3">,
                        number)<br>print(formatted) &nbsp; &nbsp;</span><span class="c7"># 1,234568e+04</span><span
                        class="c3"><br> <br>money = </span><span class="c11">234.678</span><span
                        class="c3"><br>formatted = locale.currency(money)<br>print(formatted) &nbsp; &nbsp;</span><span
                        class="c7"># 234,68 &euro;</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c2">Dac&#259;, &icirc;n loc de un cod specific, al doilea parametru este un &#537;ir gol,
            Python va folosi cultura care este utilizat&#259; pe ma&#537;ina curent&#259;. Cu ajutorul func&#539;iei
        </span><span class="c13">getlocale()</span><span class="c1">&nbsp;se poate ob&#539;ine aceast&#259;
            cultur&#259;:</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
    <table class="c12">
        <tr class="c4">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c5"><span class="c14">import</span><span class="c3">&nbsp;locale<br>
                        <br>locale.setlocale(locale.LC_ALL, </span><span class="c10">&quot;&quot;</span><span
                        class="c3">)<br> <br>number = </span><span class="c11">12345.6789</span><span
                        class="c3"><br>formatted = locale.format_string(</span><span
                        class="c10">&quot;%.02f&quot;</span><span class="c3">, number)<br>print(formatted) &nbsp;
                        &nbsp;</span><span class="c7"># 12345,68</span><span class="c3"><br>print(locale.getlocale())
                        &nbsp; <br></span><span class="c7"># (&#39;Romanian_Romania&#39;, &#39;1251&#39;) -
                        Windows</span><span class="c3"><br></span><span class="c7"># (&#39;ro_RO&#39;, &#39;UTF-8&#39;)
                        &nbsp;- MacOS</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Este important de men&#539;ionat c&#259;, &icirc;n func&#539;ie de sistem, rezultatul
            afi&#537;at poate diferi.</span></p>
    <p class="c0 c6"><span class="c1"></span></p>
</body>

</html>