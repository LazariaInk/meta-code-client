<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c16 doc-content">
    <h1 class="c5 c3 c15">Împachetarea și despachetarea în parametrii
            funcțiilor.</h1>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Una dintre utiliz&#259;rile comune ale &icirc;mpachet&#259;rii &#537;i
            despachet&#259;rii este &icirc;n parametrii func&#539;iilor. Astfel, &icirc;n defini&#539;iile diferitelor
            func&#539;ii, este frecvent s&#259; vedem c&#259; ele accept&#259; parametri precum *</span><span
            class="c0 c12">args</span><span class="c0">&nbsp;&#537;i **</span><span class="c0 c12">kwargs</span><span
            class="c3 c0">.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Termenii args &#537;i kwargs sunt conven&#539;ii de programare &icirc;n Python;
            &icirc;n realitate, &icirc;n locul lor pot fi utilizate orice denumiri. </span><span
            class="c1">*args</span><span class="c0">&nbsp;reprezint&#259; parametrii care sunt transmi&#537;i pe
            pozi&#539;ie, &icirc;n timp ce </span><span class="c1">**kwargs</span><span class="c3 c0">&nbsp;se
            refer&#259; la parametrii transmi&#537;i pe nume.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Operatorul </span><span class="c1">*</span><span class="c0">&nbsp;poate fi utilizat
            cu orice obiect iterabil (de exemplu, tupluri, liste &#537;i &#537;iruri de caractere), &icirc;n timp ce
            operatorul</span><span class="c1">&nbsp;**</span><span class="c3 c0">&nbsp;poate fi utilizat doar cu
            dic&#539;ionare.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c14">*args</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Operatorul </span><span class="c1">*</span><span class="c3 c0">&nbsp;permite
            transmiterea mai multor valori &icirc;ntr-o func&#539;ie, iar toate vor fi &icirc;mpachetate &icirc;ntr-un
            tuplu:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">fun</span><span class="c9">(*args):<br> &nbsp; &nbsp;</span><span class="c13">#
                        acces&#259;m primul element al tuplului</span><span class="c9"><br> &nbsp;
                        &nbsp;print(args[</span><span class="c8">0</span><span class="c9">])<br> &nbsp;<br> &nbsp;
                        &nbsp;</span><span class="c13"># afi&#537;&#259;m &icirc;ntregul tuplu</span><span
                        class="c9"><br> &nbsp; &nbsp;print(args)<br> &nbsp;<br>fun(</span><span
                        class="c7">&quot;Python&quot;</span><span class="c9">, </span><span
                        class="c7">&quot;C++&quot;</span><span class="c9">, </span><span
                        class="c7">&quot;Java&quot;</span><span class="c9">, </span><span
                        class="c7">&quot;C#&quot;</span><span class="c9">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Aici, func&#539;ia </span><span class="c0 c12">fun </span><span
            class="c3 c0">accept&#259; un tuplu de valori. La apelare, putem transmite un num&#259;r variabil de valori.
            &Icirc;n exemplul de mai sus, sunt transmise patru &#537;iruri de caractere, care formeaz&#259; un tuplu.
            Ie&#537;irea &icirc;n consol&#259; a programului:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c9">Python<br>(</span><span class="c7">&#39;Python&#39;</span><span
                        class="c9">, </span><span class="c7">&#39;C++&#39;</span><span class="c9">, </span><span
                        class="c7">&#39;Java&#39;</span><span class="c9">, </span><span
                        class="c7">&#39;C#&#39;</span><span class="c9">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">Datorit&#259; acestei capacit&#259;&#539;i, putem transmite un num&#259;r variabil
            de valori &icirc;ntr-o func&#539;ie:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">sum</span><span class="c9">(*args):<br> &nbsp; &nbsp;result = </span><span
                        class="c8">0</span><span class="c9"><br> &nbsp; &nbsp;</span><span class="c6">for</span><span
                        class="c9">&nbsp;arg </span><span class="c6">in</span><span class="c9">&nbsp;args: <br> &nbsp;
                        &nbsp; &nbsp; &nbsp;result += arg<br> &nbsp; &nbsp;</span><span class="c6">return</span><span
                        class="c9">&nbsp;result<br> &nbsp;<br>print(sum(</span><span class="c8">1</span><span
                        class="c9">, </span><span class="c8">2</span><span class="c9">, </span><span
                        class="c8">3</span><span class="c9">)) &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c13">#
                        6</span><span class="c9"><br>print(sum(</span><span class="c8">1</span><span class="c9">,
                    </span><span class="c8">2</span><span class="c9">, </span><span class="c8">3</span><span
                        class="c9">, </span><span class="c8">4</span><span class="c9">)) &nbsp; &nbsp;
                        &nbsp;</span><span class="c13"># 10</span><span class="c9"><br>print(sum(</span><span
                        class="c8">1</span><span class="c9">, </span><span class="c8">2</span><span class="c9">,
                    </span><span class="c8">3</span><span class="c9">, </span><span class="c8">4</span><span
                        class="c9">, </span><span class="c8">5</span><span class="c9">)) &nbsp; </span><span
                        class="c13"># 15</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c14">**kwargs</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Operatorul </span><span class="c1">**</span><span
            class="c3 c0">&nbsp;&icirc;mpacheteaz&#259; argumentele transmise pe nume &icirc;ntr-un dic&#539;ionar.
            Numele parametrilor devin chei. De exemplu, s&#259; definim o func&#539;ie care doar va afi&#537;a to&#539;i
            parametrii transmi&#537;i:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">fun</span><span class="c9">(**kwargs):<br> &nbsp; &nbsp;print(kwargs) &nbsp;
                    </span><span class="c13"># afi&#537;&#259;m dic&#539;ionarul &icirc;n consol&#259;</span><span
                        class="c9"><br> &nbsp;<br>fun(name=</span><span class="c7">&quot;Tom&quot;</span><span
                        class="c9">, age=</span><span class="c7">&quot;38&quot;</span><span class="c9">,
                        company=</span><span class="c7">&quot;Google&quot;</span><span
                        class="c9">)<br>fun(language=</span><span class="c7">&quot;Python&quot;</span><span class="c9">,
                        version=</span><span class="c7">&quot;3.11&quot;</span><span class="c9">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">Ie&#537;irea &icirc;n consol&#259; a programului:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c9">{</span><span class="c7">&#39;name&#39;</span><span class="c9">:
                    </span><span class="c7">&#39;Tom&#39;</span><span class="c9">, </span><span
                        class="c7">&#39;age&#39;</span><span class="c9">: </span><span
                        class="c7">&#39;38&#39;</span><span class="c9">, </span><span
                        class="c7">&#39;company&#39;</span><span class="c9">: </span><span
                        class="c7">&#39;Google&#39;</span><span class="c9">}<br>{</span><span
                        class="c7">&#39;language&#39;</span><span class="c9">: </span><span
                        class="c7">&#39;Python&#39;</span><span class="c9">, </span><span
                        class="c7">&#39;version&#39;</span><span class="c9">: </span><span
                        class="c7">&#39;3.11&#39;</span><span class="c9">}</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">Deoarece argumentele sunt transmise func&#539;iei sub form&#259; de
            dic&#539;ionar, putem accesa valorile lor &icirc;n interiorul func&#539;iei prin chei:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">fun</span><span class="c9">(**kwargs):<br> &nbsp; &nbsp;</span><span
                        class="c6">for</span><span class="c9">&nbsp;key </span><span class="c6">in</span><span
                        class="c9">&nbsp;kwargs:<br> &nbsp; &nbsp; &nbsp; &nbsp;print(</span><span
                        class="c7">f&quot;{key} = {kwargs[key]}&quot;</span><span class="c9">)<br>
                        &nbsp;<br>fun(name=</span><span class="c7">&quot;Tom&quot;</span><span class="c9">,
                        age=</span><span class="c7">&quot;38&quot;</span><span class="c9">, company=</span><span
                        class="c7">&quot;Google&quot;</span><span class="c9">)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0 c3">Ie&#537;irea &icirc;n consol&#259; a programului:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c9">name = Tom<br>age = </span><span class="c8">38</span><span
                        class="c9"><br>company = Google</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c14">Despachetarea argumentelor.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Mai sus am descris cum operatorii </span><span class="c1">*</span><span
            class="c0">&nbsp;&#537;i </span><span class="c1">**</span><span class="c3 c0">&nbsp;sunt utiliza&#539;i
            pentru &icirc;mpachetarea argumentelor &icirc;ntr-un tuplu &#537;i dic&#539;ionar, respectiv. Dar
            aceia&#537;i operatori pot fi folosi&#539;i &#537;i pentru despachetare.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c14">Operatorul * &#537;i despachetarea.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">S&#259; analiz&#259;m mai &icirc;nt&acirc;i o situa&#539;ie unde acest lucru poate
            fi util. S&#259; presupunem c&#259; transmitem un tuplu &icirc;ntr-o func&#539;ie:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">sum</span><span class="c9">(*args):<br> &nbsp;result = </span><span
                        class="c8">0</span><span class="c9"><br> &nbsp;</span><span class="c6">for</span><span
                        class="c9">&nbsp;arg </span><span class="c6">in</span><span class="c9">&nbsp;args:<br> &nbsp;
                        &nbsp;result += arg<br> &nbsp;</span><span class="c6">return</span><span
                        class="c9">&nbsp;result<br> &nbsp;<br>numbers = (</span><span class="c8">1</span><span
                        class="c9">, </span><span class="c8">2</span><span class="c9">, </span><span
                        class="c8">3</span><span class="c9">, </span><span class="c8">4</span><span class="c9">,
                    </span><span class="c8">5</span><span class="c9">)<br>print(sum(numbers))</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Aici, tuplul numbers este transmis func&#539;iei sum. Parametrul </span><span
            class="c0 c12">*args</span><span class="c3 c0">, de asemenea, reprezint&#259; un tuplu, &#537;i pare c&#259;
            totul ar trebui s&#259; func&#539;ioneze. Cu toate acestea, vom &icirc;nt&acirc;mpina o eroare:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c9">TypeError: unsupported operand type(s) </span><span
                        class="c6">for</span><span class="c9">&nbsp;+=: </span><span
                        class="c7">&#39;int&#39;</span><span class="c9">&nbsp;</span><span class="c6">and</span><span
                        class="c9">&nbsp;</span><span class="c7">&#39;tuple&#39;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">&Icirc;n acest caz, tuplul numbers este transmis ca element al tuplului
            *args.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">Pentru ca elementele tuplului s&#259; fie transmise &icirc;n tuplul *args ca
            valori separate, trebuie s&#259; efectu&#259;m despachetarea acestora:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">sum</span><span class="c9">(*args):<br> &nbsp;result = </span><span
                        class="c8">0</span><span class="c9"><br> &nbsp;</span><span class="c6">for</span><span
                        class="c9">&nbsp;arg </span><span class="c6">in</span><span class="c9">&nbsp;args:<br> &nbsp;
                        &nbsp;result += arg<br> &nbsp;</span><span class="c6">return</span><span
                        class="c9">&nbsp;result<br> &nbsp;<br>numbers = (</span><span class="c8">1</span><span
                        class="c9">, </span><span class="c8">2</span><span class="c9">, </span><span
                        class="c8">3</span><span class="c9">, </span><span class="c8">4</span><span class="c9">,
                    </span><span class="c8">5</span><span class="c9">)<br></span><span class="c13"># aplic&#259;m
                        despachetarea - *numbers</span><span class="c9"><br>print(sum(*numbers)) &nbsp; &nbsp;
                    </span><span class="c13"># 15</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Aici, la transmiterea tuplului numbers &icirc;n func&#539;ia sum, se aplic&#259;
            despachetarea: </span><span class="c0 c12 c19">*numbers</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">Un alt caz de despachetare poate fi situa&#539;ia &icirc;n care func&#539;ia
            accept&#259; mai mul&#539;i parametri, iar noi transmitem un singur tuplu sau list&#259;:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">print_person</span><span class="c9">(name, age, company):<br>
                        &nbsp;print(</span><span class="c7">f&quot;Name:{name}, Age: {age}, Company:
                        {company}&quot;</span><span class="c9">)<br> &nbsp;<br>person =(</span><span
                        class="c7">&quot;Tom&quot;</span><span class="c9">, </span><span class="c8">38</span><span
                        class="c9">, </span><span class="c7">&quot;Google&quot;</span><span class="c9">)<br></span><span
                        class="c13"># efectu&#259;m despachetarea tuplului person</span><span
                        class="c9"><br>print_person(*person) &nbsp; </span><span class="c13"># Name:Tom, Age: 38,
                        Company: Google</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">&Icirc;n acest caz, expresia</span><span class="c0 c12">&nbsp;*person</span><span
            class="c3 c0">&nbsp;despacheteaz&#259; tuplul person &icirc;n valori separate, care sunt transmise
            parametrilor name, age &#537;i company.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c14">Operatorul ** &#537;i despachetarea.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c0">Operatorul ** este utilizat pentru despachetarea dic&#539;ionarelor:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">print_person</span><span class="c9">(name, age, company):<br>
                        &nbsp;print(</span><span class="c7">f&quot;Name:{name}, Age: {age}, Company:
                        {company}&quot;</span><span class="c9">)<br> &nbsp;<br>tom ={</span><span
                        class="c7">&quot;name&quot;</span><span class="c9">:</span><span
                        class="c7">&quot;Tom&quot;</span><span class="c9">, </span><span
                        class="c7">&quot;age&quot;</span><span class="c9">:</span><span class="c8">38</span><span
                        class="c9">, </span><span class="c7">&quot;company&quot;</span><span class="c9">:</span><span
                        class="c7">&quot;Google&quot;</span><span class="c9">}<br></span><span class="c13">#
                        efectu&#259;m despachetarea dic&#539;ionarului tom</span><span
                        class="c9"><br>print_person(**tom) </span><span class="c13"># Name:Tom, Age: 38, Company:
                        Google</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Aici, expresia</span><span class="c0 c12">&nbsp;**tom</span><span
            class="c3 c0">&nbsp;despacheteaz&#259; dic&#539;ionarul &icirc;n valori separate, care sunt transmise
            parametrilor name, age &#537;i company pe baza numelor cheilor.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c3 c14">Combinarea parametrilor.</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5"><span class="c0">Parametrii</span><span class="c0 c12">&nbsp;*args</span><span
            class="c0">&nbsp;&#537;i </span><span class="c0 c12">**kwargs</span><span class="c3 c0">&nbsp;pot fi
            utiliza&#539;i &icirc;mpreun&#259; cu al&#539;i parametri &icirc;ntr-o func&#539;ie. De exemplu:</span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <table class="c11">
        <tr class="c4">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c18"><span class="c6">def</span><span class="c9">&nbsp;</span><span
                        class="c17">sum</span><span class="c9">(num1, num2, *nums):<br> &nbsp;
                        &nbsp;result=num1+num2<br> &nbsp; &nbsp;</span><span class="c6">for</span><span
                        class="c9">&nbsp;n </span><span class="c6">in</span><span class="c9">&nbsp;nums:<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;result += n<br> &nbsp; &nbsp;</span><span class="c6">return</span><span
                        class="c9">&nbsp;result<br> <br>print(sum(</span><span class="c8">1</span><span
                        class="c9">,</span><span class="c8">2</span><span class="c9">,</span><span
                        class="c8">3</span><span class="c9">)) &nbsp; &nbsp; &nbsp; </span><span class="c13">#
                        6</span><span class="c9"><br>print(sum(</span><span class="c8">1</span><span
                        class="c9">,</span><span class="c8">2</span><span class="c9">,</span><span
                        class="c8">3</span><span class="c9">,</span><span class="c8">4</span><span class="c9">)) &nbsp;
                        &nbsp; </span><span class="c13"># 10</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c10"><span class="c3 c0"></span></p>
    <p class="c5 c10"><span class="c3 c0"></span></p>
</body>

</html>