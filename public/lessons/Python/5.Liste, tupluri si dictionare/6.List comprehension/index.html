<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c15 doc-content">
    <h1 class="c9 c19">List comprehension.</h1>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">Func&#539;ionalitatea </span><span class="c20">list comprehension</span><span
            class="c7">&nbsp;ofer&#259; o sintax&#259; mai scurt&#259; &#537;i concis&#259; pentru a crea liste pe baza
            altor seturi de date. Aceasta are urm&#259;toarea sintax&#259;:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">newlist = [expression </span><span class="c6">for</span><span
                        class="c5">&nbsp;item </span><span class="c6">in</span><span class="c5">&nbsp;iterable
                        (</span><span class="c6">if</span><span class="c5">&nbsp;condition)]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">Sintaxa </span><span class="c10">list comprehension</span><span
            class="c7">&nbsp;const&#259; din urm&#259;toarele componente:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <ul class="c14 lst-kix_pp4kz87n6jh2-0 start">
        <li class="c9 c18 c16 li-bullet-0"><span class="c10">iterable</span><span class="c12">: sursa de date
                iterabil&#259;, care poate fi o list&#259;, o mul&#539;ime, o secven&#539;&#259; sau chiar o
                func&#539;ie care returneaz&#259; un set de date, de exemplu,</span><span
                class="c10 c21">&nbsp;range()</span></li>
    </ul>
    <p class="c8 c16"><span class="c7"></span></p>
    <ul class="c14 lst-kix_pp4kz87n6jh2-0">
        <li class="c9 c18 c16 li-bullet-0"><span class="c10">item</span><span class="c7">: elementul extras din sursa de
                date</span></li>
    </ul>
    <p class="c8 c16"><span class="c7"></span></p>
    <ul class="c14 lst-kix_pp4kz87n6jh2-0">
        <li class="c9 c18 c16 li-bullet-0"><span class="c10">expression</span><span class="c7">: expresia care
                returneaz&#259; o valoare. Aceast&#259; valoare este apoi inclus&#259; &icirc;n lista
                generat&#259;</span></li>
    </ul>
    <p class="c8 c16"><span class="c7"></span></p>
    <ul class="c14 lst-kix_pp4kz87n6jh2-0">
        <li class="c9 c16 c18 li-bullet-0"><span class="c10">condition</span><span class="c7">: condi&#539;ia pe care
                trebuie s&#259; o &icirc;ndeplineasc&#259; elementele extrase din sursa de date. Dac&#259; un element NU
                &icirc;ndepline&#537;te condi&#539;ia, acesta NU este selectat. Parametru op&#539;ional.</span></li>
    </ul>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c7">S&#259; lu&#259;m un exemplu simplu. S&#259; presupunem c&#259; trebuie s&#259;
            select&#259;m dintr-o list&#259; toate numerele care sunt mai mari de 0. &Icirc;n mod normal, am putea scrie
            astfel:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">numbers = [</span><span class="c2">-3</span><span class="c5">,
                    </span><span class="c2">-2</span><span class="c5">, </span><span class="c2">-1</span><span
                        class="c5">, </span><span class="c2">0</span><span class="c5">, </span><span
                        class="c2">1</span><span class="c5">, </span><span class="c2">2</span><span class="c5">,
                    </span><span class="c2">3</span><span class="c5">]<br>positive_numbers = []<br></span><span
                        class="c6">for</span><span class="c5">&nbsp;n </span><span class="c6">in</span><span
                        class="c5">&nbsp;numbers:<br> &nbsp; &nbsp;</span><span class="c6">if</span><span
                        class="c5">&nbsp;n &gt; </span><span class="c2">0</span><span class="c5">:<br> &nbsp; &nbsp;
                        &nbsp; &nbsp;positive_numbers.append(n)<br><br>print(positive_numbers) &nbsp; &nbsp;
                    </span><span class="c4"># [1, 2, 3]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c7">Acum, vom modifica acest cod folosind list comprehension:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">numbers = [</span><span class="c2">-3</span><span class="c5">,
                    </span><span class="c2">-2</span><span class="c5">, </span><span class="c2">-1</span><span
                        class="c5">, </span><span class="c2">0</span><span class="c5">, </span><span
                        class="c2">1</span><span class="c5">, </span><span class="c2">2</span><span class="c5">,
                    </span><span class="c2">3</span><span class="c5">]<br>positive_numbers = [n </span><span
                        class="c6">for</span><span class="c5">&nbsp;n </span><span class="c6">in</span><span
                        class="c5">&nbsp;numbers </span><span class="c6">if</span><span class="c5">&nbsp;n &gt;
                    </span><span class="c2">0</span><span class="c5">]<br><br>print(positive_numbers) &nbsp; &nbsp;
                    </span><span class="c4"># [1, 2, 3]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">Expresia</span><span class="c10">&nbsp;[n for n in numbers if n &gt; 0]</span><span
            class="c7">&nbsp;indic&#259; s&#259; select&#259;m din lista numbers fiecare element &icirc;n variabila n,
            dac&#259; n este mai mare de 0 &#537;i s&#259; return&#259;m n &icirc;n lista rezultat&#259;.</span></p>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c17">Sursa de date iterable.</span></p>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">Ca surs&#259; de date iterable poate fi utilizat orice obiect iterabil, de exemplu,
            o alt&#259; list&#259;, un dic&#539;ionar etc. De exemplu, func&#539;ia </span><span
            class="c10">range()</span><span class="c7">&nbsp;returneaz&#259; toate numerele de la zero p&acirc;n&#259;
            la pragul specificat, f&#259;r&#259; a-l include:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">numbers = [n </span><span class="c6">for</span><span class="c5">&nbsp;n
                    </span><span class="c6">in</span><span class="c5">&nbsp;range(</span><span class="c2">10</span><span
                        class="c5">)]<br>print(numbers) &nbsp; &nbsp; &nbsp;</span><span class="c4"># [0, 1, 2, 3, 4, 5,
                        6, 7, 8, 9]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c7">Deseori, aceast&#259; construc&#539;ie este utilizat&#259; pentru a crea o list&#259;
            dintr-un dic&#539;ionar. De exemplu, s&#259; select&#259;m toate cheile dintr-un dic&#539;ionar:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">dictionary = {</span><span class="c1">&quot;red&quot;</span><span
                        class="c5">: </span><span class="c1">&quot;ro&#537;u&quot;</span><span class="c5">, </span><span
                        class="c1">&quot;blue&quot;</span><span class="c5">: </span><span
                        class="c1">&quot;albastru&quot;</span><span class="c5">, </span><span
                        class="c1">&quot;green&quot;</span><span class="c5">: </span><span
                        class="c1">&quot;verde&quot;</span><span class="c5">}<br>words = [word </span><span
                        class="c6">for</span><span class="c5">&nbsp;word </span><span class="c6">in</span><span
                        class="c5">&nbsp;dictionary]<br>print(words) &nbsp; &nbsp;</span><span class="c4">#
                        [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c17">Returnarea rezultatului.</span></p>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c7">Parametrul expression reprezint&#259; expresia care returneaz&#259; o valoare.
            Aceast&#259; valoare este apoi plasat&#259; &icirc;n lista generat&#259;. &Icirc;n exemplele de mai sus,
            aceasta era elementul curent extras din sursa de date:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">numbers = [</span><span class="c2">-3</span><span class="c5">,
                    </span><span class="c2">-2</span><span class="c5">, </span><span class="c2">-1</span><span
                        class="c5">, </span><span class="c2">0</span><span class="c5">, </span><span
                        class="c2">1</span><span class="c5">, </span><span class="c2">2</span><span class="c5">,
                    </span><span class="c2">3</span><span class="c5">]<br>new_numbers = [n </span><span
                        class="c6">for</span><span class="c5">&nbsp;n </span><span class="c6">in</span><span
                        class="c5">&nbsp;numbers]<br>print(new_numbers) &nbsp; &nbsp; &nbsp;</span><span class="c4">#
                        [-3, -2, -1, 0, 1, 2, 3]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">&Icirc;n acest caz, parametrul </span><span class="c10">expression </span><span
            class="c7">reprezint&#259; direct elementul n extras din lista numbers. Dar pot fi &#537;i valori mai
            complexe. De exemplu, s&#259; return&#259;m valoarea dublat&#259; a unui num&#259;r:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">numbers = [</span><span class="c2">-3</span><span class="c5">,
                    </span><span class="c2">-2</span><span class="c5">, </span><span class="c2">-1</span><span
                        class="c5">, </span><span class="c2">0</span><span class="c5">, </span><span
                        class="c2">1</span><span class="c5">, </span><span class="c2">2</span><span class="c5">,
                    </span><span class="c2">3</span><span class="c5">]<br>new_numbers = [n * </span><span
                        class="c2">2</span><span class="c5">&nbsp;</span><span class="c6">for</span><span
                        class="c5">&nbsp;n </span><span class="c6">in</span><span
                        class="c5">&nbsp;numbers]<br>print(new_numbers) &nbsp; &nbsp; &nbsp;</span><span class="c4">#
                        [-6, -4, -2, 0, 2, 4, 6]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">Aici, expression reprezint&#259; expresia </span><span class="c10 c21">n * 2</span>
    </p>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c7">Pot fi &#537;i expresii mai complexe:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">numbers = [</span><span class="c2">-3</span><span class="c5">,
                    </span><span class="c2">-2</span><span class="c5">, </span><span class="c2">-1</span><span
                        class="c5">, </span><span class="c2">0</span><span class="c5">, </span><span
                        class="c2">1</span><span class="c5">, </span><span class="c2">2</span><span class="c5">,
                    </span><span class="c2">3</span><span class="c5">]<br>new_numbers = [n * </span><span
                        class="c2">2</span><span class="c5">&nbsp;</span><span class="c6">if</span><span
                        class="c5">&nbsp;n &gt; </span><span class="c2">0</span><span class="c5">&nbsp;</span><span
                        class="c6">else</span><span class="c5">&nbsp;n </span><span class="c6">for</span><span
                        class="c5">&nbsp;n </span><span class="c6">in</span><span
                        class="c5">&nbsp;numbers]<br>print(new_numbers) &nbsp; &nbsp; &nbsp;</span><span class="c4">#
                        [-3, -2, -1, 0, 2, 4, 6]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">Aici, parametrul expression reprezint&#259; expresia </span><span class="c10">n * 2
            if n &gt; 0 else n</span><span class="c12">. &Icirc;n acest caz, indic&#259;m s&#259; returneze
            valoarea</span><span class="c10">&nbsp;n * 2</span><span class="c12">, dac&#259; </span><span class="c10">n
            &gt; 0</span><span class="c12">, altfel returneaz&#259; </span><span class="c10">n</span><span
            class="c7">.</span></p>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c7">&Icirc;n expression se pot efectua diverse transform&#259;ri asupra datelor. De
            exemplu, s&#259; return&#259;m &#537;i valoarea din dic&#539;ionar dup&#259; cheie:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">dictionary = {</span><span class="c1">&quot;red&quot;</span><span
                        class="c5">: </span><span class="c1">&quot;ro&#537;u&quot;</span><span class="c5">, </span><span
                        class="c1">&quot;blue&quot;</span><span class="c5">: </span><span
                        class="c1">&quot;albastru&quot;</span><span class="c5">, </span><span
                        class="c1">&quot;green&quot;</span><span class="c5">: </span><span
                        class="c1">&quot;verde&quot;</span><span class="c5">}<br>words = [</span><span
                        class="c1">f&quot;{key}: {dictionary[key]}&quot;</span><span class="c5">&nbsp;</span><span
                        class="c6">for</span><span class="c5">&nbsp;key </span><span class="c6">in</span><span
                        class="c5">&nbsp;dictionary]<br>print(words) &nbsp; &nbsp;</span><span class="c4"># [&#39;red:
                        ro&#537;u&#39;, &#39;blue: albastru&#39;, &#39;green: verde&#39;]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c17">Condi&#539;ia.</span></p>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c12">Condi&#539;ia - parametrul </span><span class="c10">condition </span><span
            class="c7">define&#537;te un filtru pentru selectarea elementelor din sursa de date. Aplic&#259;m
            condi&#539;ia pentru a specifica selec&#539;ia, de exemplu, s&#259; select&#259;m doar numerele pare:</span>
    </p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">numbers = [n </span><span class="c6">for</span><span class="c5">&nbsp;n
                    </span><span class="c6">in</span><span class="c5">&nbsp;range(</span><span class="c2">10</span><span
                        class="c5">) </span><span class="c6">if</span><span class="c5">&nbsp;n % </span><span
                        class="c2">2</span><span class="c5">&nbsp;== </span><span class="c2">0</span><span
                        class="c5">]<br>print(numbers) &nbsp; &nbsp; &nbsp;</span><span class="c4"># [0, 2, 4, 6,
                        8]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
    <p class="c9"><span class="c7">S&#259; select&#259;m doar acele chei din dic&#539;ionar, a c&#259;ror lungime este
            mai mare de 3:</span></p>
    <p class="c8"><span class="c7"></span></p>
    <table class="c11">
        <tr class="c13">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">dictionary = {</span><span class="c1">&quot;red&quot;</span><span
                        class="c5">: </span><span class="c1">&quot;ro&#537;u&quot;</span><span class="c5">, </span><span
                        class="c1">&quot;blue&quot;</span><span class="c5">: </span><span
                        class="c1">&quot;albastru&quot;</span><span class="c5">, </span><span
                        class="c1">&quot;green&quot;</span><span class="c5">: </span><span
                        class="c1">&quot;verde&quot;</span><span class="c5">}<br>words = [</span><span
                        class="c1">f&quot;{key}: {dictionary[key]}&quot;</span><span class="c5">&nbsp;</span><span
                        class="c6">for</span><span class="c5">&nbsp;key </span><span class="c6">in</span><span
                        class="c5">&nbsp;dictionary </span><span class="c6">if</span><span class="c5">&nbsp;len(key)
                        &gt; </span><span class="c2">3</span><span class="c5">]<br>print(words) &nbsp;
                        &nbsp;</span><span class="c4"># [&#39;blue: albastru&#39;, &#39;green: verde&#39;]</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c7"></span></p>
</body>

</html>