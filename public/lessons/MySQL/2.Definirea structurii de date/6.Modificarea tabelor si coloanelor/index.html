<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c17 doc-content">
    <h1 class="c7 c14">Modificarea tabelor È™i coloanelor. </h1>
    <p class="c5"><span class="c6"></span></p>
    <p class="c7"><span class="c16">Dac&#259; tabela a fost deja creat&#259; &#537;i trebuie modificat&#259;, atunci se
            utilizeaz&#259; comanda </span><span class="c11">ALTER TABLE</span><span class="c4">. Forma sa
            sintactic&#259; abreviat&#259; este:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.5a0cfff7570681700e5e09dc3afc07b7bb61acdd"></a><a id="t.0"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span
                        class="c1">&nbsp;&#1085;&#1072;&#1079;&#1074;&#1072;&#1085;&#1080;&#1077;_&#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1099;<br>{
                    </span><span class="c3">ADD</span><span
                        class="c1">&nbsp;&#1085;&#1072;&#1079;&#1074;&#1072;&#1085;&#1080;&#1077;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;
                        &#1090;&#1080;&#1087;_&#1076;&#1072;&#1085;&#1085;&#1099;&#1093;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;
                        [&#1072;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;&#1099;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;]
                        |<br> &nbsp;</span><span class="c3">DROP</span><span class="c1">&nbsp;</span><span
                        class="c3">COLUMN</span><span
                        class="c1">&nbsp;&#1085;&#1072;&#1079;&#1074;&#1072;&#1085;&#1080;&#1077;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;
                        |<br> &nbsp;</span><span class="c3">MODIFY</span><span class="c1">&nbsp;</span><span
                        class="c3">COLUMN</span><span
                        class="c1">&nbsp;&#1085;&#1072;&#1079;&#1074;&#1072;&#1085;&#1080;&#1077;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;
                        &#1090;&#1080;&#1087;_&#1076;&#1072;&#1085;&#1085;&#1099;&#1093;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;
                        [&#1072;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;&#1099;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;]
                        |<br> &nbsp;</span><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">COLUMN</span><span
                        class="c1">&nbsp;&#1085;&#1072;&#1079;&#1074;&#1072;&#1085;&#1080;&#1077;_&#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1072;
                    </span><span class="c3">SET</span><span class="c1">&nbsp;</span><span class="c3">DEFAULT</span><span
                        class="c1">&nbsp;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;_&#1087;&#1086;_&#1091;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102;
                        |<br> &nbsp;</span><span class="c3">ADD</span><span class="c1">&nbsp;[</span><span
                        class="c3">CONSTRAINT</span><span class="c1">]
                        &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1077;_&#1086;&#1075;&#1088;&#1072;&#1085;&#1080;&#1095;&#1077;&#1085;&#1080;&#1103;
                        |<br> &nbsp;</span><span class="c3">DROP</span><span class="c1">&nbsp;[</span><span
                        class="c3">CONSTRAINT</span><span class="c1">]
                        &#1080;&#1084;&#1103;_&#1086;&#1075;&#1088;&#1072;&#1085;&#1080;&#1095;&#1077;&#1085;&#1080;&#1103;}</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c4">Aceast&#259; comand&#259; &icirc;n general suport&#259; multe op&#539;iuni &#537;i
            func&#539;ionalit&#259;&#539;i. Toate acestea pot fi consultate &icirc;n documenta&#539;ie. Vom examina doar
            scenariile de baz&#259; cu care ne putem &icirc;nt&acirc;lni.</span></p>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c15">Ad&#259;ugarea unei noi coloane.</span></p>
    <p class="c5"><span class="c6"></span></p>
    <p class="c7"><span class="c16">Vom ad&#259;uga &icirc;n tabela &quot;</span><span class="c11">Customers</span><span
            class="c16">&quot; o nou&#259; coloan&#259; numit&#259; &quot;</span><span class="c11">Address</span><span
            class="c4">&quot;:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.70ec4dad35f2e62299d1bf3212ba5e2bcca863ac"></a><a id="t.1"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Customers<br></span><span
                        class="c3">ADD</span><span class="c1">&nbsp;Address </span><span class="c9">VARCHAR</span><span
                        class="c1">(</span><span class="c8">50</span><span class="c1">) </span><span
                        class="c3">NULL</span><span class="c1">;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c16">&Icirc;n acest caz, coloana &quot;</span><span class="c11">Address</span><span
            class="c16">&quot; are tipul VARCHAR &#537;i pentru ea este definit atributul </span><span
            class="c11">NULL</span><span class="c4">.</span></p>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c15">&#536;tergerea coloanei.</span></p>
    <p class="c5"><span class="c6"></span></p>
    <p class="c7"><span class="c16">Vom &#537;terge coloana &quot;</span><span class="c11">Address</span><span
            class="c16">&quot; din tabela &quot;</span><span class="c11">Customers</span><span class="c4">&quot;:</span>
    </p>
    <p class="c5"><span class="c4"></span></p><a id="t.30724175742b9794bc835320f80acc7c93d813fe"></a><a id="t.2"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Customers<br></span><span
                        class="c3">DROP</span><span class="c1">&nbsp;</span><span class="c3">COLUMN</span><span
                        class="c1">&nbsp;Address;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c15">Schimbarea valorii implicite.</span></p>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c16">Vom schimba valoarea implicit&#259; &icirc;n tabela &quot;</span><span
            class="c11">Customers</span><span class="c16">&quot; pentru coloana &quot;</span><span
            class="c11">Age</span><span class="c4">&quot; la 22:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.672a16717744a5a98b0fbb5c55916b935e084da4"></a><a id="t.3"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Customers<br></span><span
                        class="c3">ALTER</span><span class="c1">&nbsp;</span><span class="c3">COLUMN</span><span
                        class="c1">&nbsp;Age </span><span class="c3">SET</span><span class="c1">&nbsp;</span><span
                        class="c3">DEFAULT</span><span class="c1">&nbsp;</span><span class="c8">22</span><span
                        class="c1">;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c15">Schimbarea tipului de date.</span></p>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c16">Vom schimba tipul de date al coloanei &quot;</span><span
            class="c11">FirstName</span><span class="c16">&quot; &icirc;n tabela &quot;</span><span
            class="c11">Customers</span><span class="c16">&quot; la</span><span class="c11">&nbsp;CHAR(100)</span><span
            class="c16">&nbsp;&#537;i vom seta atributul </span><span class="c11">NULL </span><span class="c4">pentru
            aceasta:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.23e95d3c2f3758706ee49028e0e3885be2d7a2d0"></a><a id="t.4"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Customers<br></span><span
                        class="c3">MODIFY</span><span class="c1">&nbsp;</span><span class="c3">COLUMN</span><span
                        class="c1">&nbsp;FirstName </span><span class="c9">CHAR</span><span class="c1">(</span><span
                        class="c8">100</span><span class="c1">) </span><span class="c3">NULL</span><span
                        class="c1">;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c6"></span></p>
    <p class="c7"><span class="c15">Ad&#259;ugarea &#537;i &#537;tergerea unei chei externe.</span></p>
    <p class="c5"><span class="c6"></span></p>
    <p class="c7"><span class="c4">S&#259; presupunem c&#259; ini&#539;ial &icirc;n baza de date sunt ad&#259;ugate
            dou&#259; tabele care nu sunt legate &icirc;ntre ele:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.044db8bd345f94c39bcd5281548eef6e9fd4587a"></a><a id="t.5"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">CREATE</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Customers<br>(<br> &nbsp; &nbsp;</span><span
                        class="c3">Id</span><span class="c1">&nbsp;</span><span class="c9">INT</span><span
                        class="c1">&nbsp;PRIMARY </span><span class="c3">KEY</span><span
                        class="c1">&nbsp;AUTO_INCREMENT,<br> &nbsp; &nbsp;Age </span><span class="c9">INT</span><span
                        class="c1">, <br> &nbsp; &nbsp;FirstName </span><span class="c9">VARCHAR</span><span
                        class="c1">(</span><span class="c8">20</span><span class="c1">) </span><span
                        class="c3">NOT</span><span class="c1">&nbsp;</span><span class="c3">NULL</span><span
                        class="c1">,<br> &nbsp; &nbsp;LastName </span><span class="c9">VARCHAR</span><span
                        class="c1">(</span><span class="c8">20</span><span class="c1">) </span><span
                        class="c3">NOT</span><span class="c1">&nbsp;</span><span class="c3">NULL</span><span
                        class="c1"><br>);<br></span><span class="c3">CREATE</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Orders<br>(<br> &nbsp; &nbsp;</span><span
                        class="c3">Id</span><span class="c1">&nbsp;</span><span class="c9">INT</span><span
                        class="c1">&nbsp;PRIMARY </span><span class="c3">KEY</span><span
                        class="c1">&nbsp;AUTO_INCREMENT,<br> &nbsp; &nbsp;CustomerId </span><span
                        class="c9">INT</span><span class="c1">,<br> &nbsp; &nbsp;CreatedAt </span><span
                        class="c9">Date</span><span class="c1"><br>);</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c16">Vom ad&#259;uga o restric&#539;ie de cheie extern&#259; la coloana
            &quot;</span><span class="c11">CustomerId</span><span class="c16">&quot; a tabelei &quot;</span><span
            class="c11">Orders</span><span class="c4">&quot;:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.621477246736822eef4f973daf48df4cacea06fc"></a><a id="t.6"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Orders<br></span><span class="c3">ADD</span><span
                        class="c1">&nbsp;FOREIGN </span><span class="c3">KEY</span><span class="c1">(CustomerId)
                    </span><span class="c3">REFERENCES</span><span class="c1">&nbsp;Customers(</span><span
                        class="c3">Id</span><span class="c1">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c16">La ad&#259;ugarea constr&acirc;ngerilor, putem specifica un nume pentru ele folosind
            operatorul </span><span class="c11">CONSTRAINT</span><span class="c4">, dup&#259; care se indic&#259; numele
            constr&acirc;ngerii:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.4f3356914170926909907487ae9c26be7d00644e"></a><a id="t.7"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Orders<br></span><span class="c3">ADD</span><span
                        class="c1">&nbsp;</span><span class="c3">CONSTRAINT</span><span
                        class="c1">&nbsp;orders_customers_fk <br>FOREIGN </span><span class="c3">KEY</span><span
                        class="c1">(CustomerId) </span><span class="c3">REFERENCES</span><span
                        class="c1">&nbsp;Customers(</span><span class="c3">Id</span><span class="c1">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c16">&Icirc;n acest caz, constr&acirc;ngerea cheii externe se nume&#537;te </span><span
            class="c11">orders_customers_fk</span><span class="c4">. Ulterior, folosind acest nume, putem &#537;terge
            constr&acirc;ngerea:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.588b0c413a31ba7c07bbb0ea3a631d98ecd8a90f"></a><a id="t.8"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Orders<br></span><span class="c3">DROP</span><span
                        class="c1">&nbsp;FOREIGN </span><span class="c3">KEY</span><span
                        class="c1">&nbsp;orders_customers_fk;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c15">Ad&#259;ugarea &#537;i &#537;tergerea cheii primare.</span></p>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c16">Vom ad&#259;uga o cheie primar&#259; &icirc;n tabela &quot;</span><span
            class="c11">Products</span><span class="c4">&quot;:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.f33f959797f9a9f180696aed596d7ade9331a74c"></a><a id="t.9"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">CREATE</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Products<br>(<br> &nbsp; &nbsp;</span><span
                        class="c3">Id</span><span class="c1">&nbsp;</span><span class="c9">INT</span><span
                        class="c1">,<br> &nbsp; &nbsp;</span><span class="c3">Model</span><span
                        class="c1">&nbsp;</span><span class="c9">VARCHAR</span><span class="c1">(</span><span
                        class="c8">20</span><span class="c1">)<br>);<br> <br></span><span class="c3">ALTER</span><span
                        class="c1">&nbsp;</span><span class="c3">TABLE</span><span
                        class="c1">&nbsp;Products<br></span><span class="c3">ADD</span><span class="c1">&nbsp;PRIMARY
                    </span><span class="c3">KEY</span><span class="c1">&nbsp;(</span><span class="c3">Id</span><span
                        class="c1">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
    <p class="c7"><span class="c4">Acum vom &#537;terge cheia primar&#259;:</span></p>
    <p class="c5"><span class="c4"></span></p><a id="t.67e14143d276c154a171c1854afca8a479de493a"></a><a id="t.10"></a>
    <table class="c10">
        <tr class="c2">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c12"><span class="c3">ALTER</span><span class="c1">&nbsp;</span><span
                        class="c3">TABLE</span><span class="c1">&nbsp;Products<br></span><span
                        class="c3">DROP</span><span class="c1">&nbsp;PRIMARY </span><span class="c3">KEY</span><span
                        class="c1">;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c4"></span></p>
</body>

</html>