<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c17 doc-content">
    <h1 class="c8 3">Interfe»õe.</h1>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Interfa&#539;a reprezint&#259; un tip de referin&#539;&#259; care poate defini o
            anumit&#259; func&#539;ionalitate - un set de metode &#537;i propriet&#259;&#539;i f&#259;r&#259;
            implementare. Apoi aceast&#259; func&#539;ionalitate este implementat&#259; de clase &#537;i structuri care
            aplic&#259; aceste interfe&#539;e.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c7">&nbsp;Definirea interfe&#539;ei.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c12">Pentru definirea unei interfe&#539;e se folose&#537;te cuv&acirc;ntul cheie
        </span><span class="c14">interface</span><span class="c12">. De obicei, denumirile interfe&#539;elor &icirc;n C#
            &icirc;ncep cu litera mare </span><span class="c14">I</span><span class="c5">, de exemplu, IComparable,
            IEnumerable (a&#537;a-numita nota&#539;ie maghiar&#259;), &icirc;ns&#259; acesta nu este un
            cerin&#539;&#259; obligatorie, ci mai mult un stil de programare.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Ce poate defini o interfa&#539;&#259;? &Icirc;n general, interfe&#539;ele pot defini
            urm&#259;toarele entit&#259;&#539;i:</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">- Metode</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">- Propriet&#259;&#539;i</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">- Indexatori</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">- Evenimente</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">- C&acirc;mpuri &#537;i constante statice (&icirc;ncep&acirc;nd cu versiunea C#
            8.0)</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Cu toate acestea, interfe&#539;ele nu pot defini variabile nestatice. De exemplu, o
            interfa&#539;&#259; simpl&#259; care define&#537;te toate aceste componente:</span></p>
    <p class="c8 c9"><span class="c5"></span></p><a id="t.8e29d0c84a9d40095fb27f76a26eb20d3e683172"></a><a id="t.0"></a>
    <table class="c13">
        <tr class="c6">
            <td class="c15" colspan="1" rowspan="1">
                <p class="c0"><span class="c1">interface</span><span class="c4">&nbsp;</span><span
                        class="c11">IMovable</span><span class="c4"><br>{<br> &nbsp; &nbsp;</span><span class="c2">//
                        constant&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">const</span><span class="c4">&nbsp;</span><span class="c1">int</span><span
                        class="c4">&nbsp;minSpeed = </span><span class="c10">0</span><span class="c4">; &nbsp; &nbsp;
                    </span><span class="c2">// viteza minim&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c2">// variabil&#259; static&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">static</span><span class="c4">&nbsp;</span><span class="c1">int</span><span
                        class="c4">&nbsp;maxSpeed = </span><span class="c10">60</span><span class="c4">; &nbsp;
                    </span><span class="c2">// viteza maxim&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c2">// metod&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c11">Move</span><span
                        class="c4">(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">//
                        mi&#537;care</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">//
                        proprietate</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c1">string</span><span
                        class="c4">&nbsp;Name { </span><span class="c1">get</span><span class="c4">; </span><span
                        class="c1">set</span><span class="c4">; } &nbsp; </span><span class="c2">// denumire</span><span
                        class="c4"><br> &nbsp; &nbsp; <br> &nbsp; &nbsp;</span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c11">MoveHandler</span><span class="c4">(</span><span class="c1">string</span><span
                        class="c4">&nbsp;message); &nbsp;</span><span class="c2">// definirea delegatului pentru
                        eveniment</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">//
                        eveniment</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c1">event</span><span
                        class="c4">&nbsp;MoveHandler MoveEvent; &nbsp; &nbsp;</span><span class="c2">// evenimentul de
                        mi&#537;care</span><span class="c4"><br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">&Icirc;n acest caz, este definit&#259; interfa&#539;a IMovable, care reprezint&#259;
            un obiect mobil. Aceast&#259; interfa&#539;&#259; con&#539;ine diverse componente care descriu
            capabilit&#259;&#539;ile obiectului mobil. Adic&#259;, interfa&#539;a descrie o anumit&#259;
            func&#539;ionalitate care ar trebui s&#259; existe la un obiect mobil.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Metodele &#537;i propriet&#259;&#539;ile interfe&#539;ei pot s&#259; nu aib&#259;
            implementare, &icirc;n acest aspect se aseam&#259;n&#259; cu metodele &#537;i propriet&#259;&#539;ile
            abstracte ale claselor abstracte. &Icirc;n acest caz, interfa&#539;a define&#537;te metoda Move, care va
            reprezenta o anumit&#259; deplasare. Aceasta nu are implementare, nu accept&#259; niciun parametru &#537;i
            nu returneaz&#259; nimic.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Acela&#537;i lucru este valabil &#537;i pentru proprietatea Name. La prima vedere,
            aceasta pare a fi o proprietate automat&#259;. Dar, &icirc;n realitate, aceasta este o defini&#539;ie a unei
            propriet&#259;&#539;i &icirc;ntr-o interfa&#539;&#259;, care nu are implementare, nu o proprietate
            automat&#259;.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c7">&nbsp;Modificatori de acces.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c12">Un alt aspect &icirc;n declararea unei interfe&#539;e: dac&#259; membrii s&#259;i -
            metodele &#537;i propriet&#259;&#539;ile - nu au modificatori de acces, atunci de fapt, implicit, accesul
            este </span><span class="c14">public</span><span class="c5">, deoarece scopul interfe&#539;ei este definirea
            func&#539;ionalit&#259;&#539;ii pentru implementarea ei de c&#259;tre o clas&#259;. Acest lucru se
            aplic&#259; &#537;i constantelor &#537;i variabilelor statice, care &icirc;n clase &#537;i structuri,
            implicit, au modificatorul private. &Icirc;n interfe&#539;e, acestea au implicit modificatorul public. De
            exemplu, am putea accesa constanta minSpeed &#537;i variabila maxSpeed a interfe&#539;ei IMovable:</span>
    </p>
    <p class="c8 c9"><span class="c5"></span></p><a id="t.2efd39f7e047c9eded9bccadaac40beb891bc930"></a><a id="t.1"></a>
    <table class="c13">
        <tr class="c6">
            <td class="c15" colspan="1" rowspan="1">
                <p class="c0"><span class="c4">Console.WriteLine(IMovable.maxSpeed); &nbsp; </span><span class="c2">//
                        60</span><span class="c4"><br>Console.WriteLine(IMovable.minSpeed); &nbsp; </span><span
                        class="c2">// 0</span></p>
            </td>
        </tr>
    </table>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Dar, de asemenea, &icirc;ncep&acirc;nd cu versiunea C# 8.0, putem specifica explicit
            modificatorii de acces ai componentelor interfe&#539;ei:</span></p>
    <p class="c8 c9"><span class="c5"></span></p><a id="t.43774d8b734da421e6279827f71cb155424b2794"></a><a id="t.2"></a>
    <table class="c13">
        <tr class="c6">
            <td class="c15" colspan="1" rowspan="1">
                <p class="c0"><span class="c1">interface</span><span class="c4">&nbsp;</span><span
                        class="c11">IMovable</span><span class="c4"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c4">&nbsp;</span><span class="c1">const</span><span
                        class="c4">&nbsp;</span><span class="c1">int</span><span class="c4">&nbsp;minSpeed =
                    </span><span class="c10">0</span><span class="c4">; &nbsp; &nbsp; </span><span class="c2">// viteza
                        minim&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c1">private</span><span
                        class="c4">&nbsp;</span><span class="c1">static</span><span class="c4">&nbsp;</span><span
                        class="c1">int</span><span class="c4">&nbsp;maxSpeed = </span><span class="c10">60</span><span
                        class="c4">; &nbsp; </span><span class="c2">// viteza maxim&#259;</span><span class="c4"><br>
                        &nbsp; &nbsp;</span><span class="c1">public</span><span class="c4">&nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c11">Move</span><span
                        class="c4">();<br> &nbsp; &nbsp;</span><span class="c1">protected</span><span
                        class="c4">&nbsp;</span><span class="c1">internal</span><span class="c4">&nbsp;</span><span
                        class="c1">string</span><span class="c4">&nbsp;Name { </span><span class="c1">get</span><span
                        class="c4">; </span><span class="c1">set</span><span class="c4">; } &nbsp; &nbsp;</span><span
                        class="c2">// denumire</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c4">&nbsp;</span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c11">MoveHandler</span><span class="c4">(</span><span class="c1">string</span><span
                        class="c4">&nbsp;message); &nbsp;</span><span class="c2">// definirea delegatului pentru
                        eveniment</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c1">public</span><span
                        class="c4">&nbsp;</span><span class="c1">event</span><span class="c4">&nbsp;MoveHandler
                        MoveEvent; &nbsp; &nbsp;</span><span class="c2">// evenimentul de mi&#537;care</span><span
                        class="c4"><br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c12">La fel ca &#537;i clasele, interfe&#539;ele implicit au nivelul de acces
        </span><span class="c14">internal</span><span class="c5">, adic&#259; o astfel de interfa&#539;&#259; este
            accesibil&#259; doar &icirc;n cadrul proiectului curent. Dar cu ajutorul modificatorului public putem face
            interfa&#539;a accesibil&#259; public:</span></p>
    <p class="c8 c9"><span class="c5"></span></p><a id="t.08d096575d6e7035a715629ba4552bad05f00cfb"></a><a id="t.3"></a>
    <table class="c13">
        <tr class="c6">
            <td class="c15" colspan="1" rowspan="1">
                <p class="c0"><span class="c1">public</span><span class="c4">&nbsp;</span><span
                        class="c1">interface</span><span class="c4">&nbsp;</span><span class="c11">IMovable</span><span
                        class="c4"><br>{<br> &nbsp; &nbsp;</span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c11">Move</span><span class="c4">();<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c7">&nbsp;Implementarea implicit&#259;.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">De asemenea, &icirc;ncep&acirc;nd cu versiunea C# 8.0, interfe&#539;ele suport&#259;
            implementarea implicit&#259; a metodelor &#537;i propriet&#259;&#539;ilor. Aceasta &icirc;nseamn&#259;
            c&#259; putem defini &icirc;n interfe&#539;e metode &#537;i propriet&#259;&#539;i complete, care au
            implementare ca &icirc;n clasele &#537;i structurile obi&#537;nuite. De exemplu, s&#259; definim
            implementarea implicit&#259; a metodei Move:</span></p>
    <p class="c8 c9"><span class="c5"></span></p><a id="t.2b7e0e15ac0dbd04fae2646f810f3ad8cf091000"></a><a id="t.4"></a>
    <table class="c13">
        <tr class="c6">
            <td class="c15" colspan="1" rowspan="1">
                <p class="c0"><span class="c1">interface</span><span class="c4">&nbsp;</span><span
                        class="c11">IMovable</span><span class="c4"><br>{<br> &nbsp; &nbsp;</span><span class="c2">//
                        implementarea implicit&#259; a metodei</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c11">Move</span><span
                        class="c4">()<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(</span><span
                        class="c16">&quot;Walking&quot;</span><span class="c4">);<br> &nbsp; &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Cu implementarea implicit&#259; a propriet&#259;&#539;ilor &icirc;n interfe&#539;e
            este pu&#539;in mai complicat, deoarece nu putem defini variabile nestatice &icirc;n interfe&#539;e, astfel
            &icirc;nc&acirc;t &icirc;n propriet&#259;&#539;ile interfe&#539;ei nu putem manipula starea obiectului.
            Totu&#537;i, putem defini &#537;i implementarea implicit&#259; pentru propriet&#259;&#539;i:</span></p>
    <p class="c8 c9"><span class="c5"></span></p><a id="t.b9c853b5132fa53e4bb5dfc094ea904a8dbec032"></a><a id="t.5"></a>
    <table class="c13">
        <tr class="c6">
            <td class="c15" colspan="1" rowspan="1">
                <p class="c0"><span class="c1">interface</span><span class="c4">&nbsp;</span><span
                        class="c11">IMovable</span><span class="c4"><br>{<br> &nbsp; &nbsp;</span><span class="c2">//
                        implementarea implicit&#259; a metodei</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c11">Move</span><span
                        class="c4">() =&gt; Console.WriteLine(</span><span class="c16">&quot;Walking&quot;</span><span
                        class="c4">);<br> &nbsp; &nbsp;</span><span class="c2">// implementarea implicit&#259; a
                        propriet&#259;&#539;ii</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">//
                        proprietate doar pentru citire</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">int</span><span class="c4">&nbsp;MaxSpeed { </span><span class="c1">get</span><span
                        class="c4">&nbsp;{ </span><span class="c1">return</span><span class="c4">&nbsp;</span><span
                        class="c10">0</span><span class="c4">; } }<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">Este de remarcat c&#259;, dac&#259; interfa&#539;a are metode &#537;i
            propriet&#259;&#539;i private (adic&#259; cu modificatorul private), acestea trebuie s&#259; aib&#259;
            implementare implicit&#259;. Acela&#537;i lucru se aplic&#259; &#537;i metodelor statice (nu neap&#259;rat
            private):</span></p>
    <p class="c8 c9"><span class="c5"></span></p><a id="t.41f19ac91ce03eb7821ac27819e60e59afce41a5"></a><a id="t.6"></a>
    <table class="c13">
        <tr class="c6">
            <td class="c15" colspan="1" rowspan="1">
                <p class="c0"><span class="c4">Console.WriteLine(IMovable.MaxSpeed); &nbsp; </span><span class="c2">//
                        60</span><span class="c4"><br>IMovable.MaxSpeed = </span><span class="c10">65</span><span
                        class="c4">;<br>Console.WriteLine(IMovable.MaxSpeed); &nbsp; </span><span class="c2">//
                        65</span><span class="c4"><br></span><span class="c1">double</span><span class="c4">&nbsp;time =
                        IMovable.GetTime(</span><span class="c10">500</span><span class="c4">, </span><span
                        class="c10">10</span><span class="c4">);<br>Console.WriteLine(time); &nbsp; &nbsp;</span><span
                        class="c2">// 50</span><span class="c4"><br> <br></span><span class="c1">interface</span><span
                        class="c4">&nbsp;</span><span class="c11">IMovable</span><span class="c4"><br>{<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c4">&nbsp;</span><span
                        class="c1">const</span><span class="c4">&nbsp;</span><span class="c1">int</span><span
                        class="c4">&nbsp;minSpeed = </span><span class="c10">0</span><span class="c4">; &nbsp; &nbsp;
                    </span><span class="c2">// viteza minim&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">private</span><span class="c4">&nbsp;</span><span class="c1">static</span><span
                        class="c4">&nbsp;</span><span class="c1">int</span><span class="c4">&nbsp;maxSpeed =
                    </span><span class="c10">60</span><span class="c4">; &nbsp; </span><span class="c2">// viteza
                        maxim&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">// calcul&#259;m
                        timpul necesar pentru a parcurge distan&#539;a distance cu viteza speed</span><span
                        class="c4"><br> &nbsp; &nbsp;</span><span class="c1">static</span><span
                        class="c4">&nbsp;</span><span class="c1">double</span><span class="c4">&nbsp;</span><span
                        class="c11">GetTime</span><span class="c4">(</span><span class="c1">double</span><span
                        class="c4">&nbsp;distance, </span><span class="c1">double</span><span class="c4">&nbsp;speed)
                        =&gt; distance / speed;<br> &nbsp; &nbsp;</span><span class="c1">static</span><span
                        class="c4">&nbsp;</span><span class="c1">int</span><span class="c4">&nbsp;MaxSpeed<br> &nbsp;
                        &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">get</span><span
                        class="c4">&nbsp;=&gt; maxSpeed;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c1">set</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp;</span><span class="c1">if</span><span class="c4">&nbsp;(</span><span
                        class="c1">value</span><span class="c4">&nbsp;&gt; </span><span class="c10">0</span><span
                        class="c4">) maxSpeed = </span><span class="c1">value</span><span class="c4">;<br> &nbsp; &nbsp;
                        &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c7">&nbsp;Ad&#259;ugarea unei interfe&#539;e.</span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c12">Este de men&#539;ionat c&#259; &icirc;n Visual Studio exist&#259; un component
            special pentru ad&#259;ugarea unei noi interfe&#539;e &icirc;ntr-un fi&#537;ier separat. Pentru a
            ad&#259;uga o interfa&#539;&#259; &icirc;n proiect, putem face click dreapta pe proiect &#537;i &icirc;n
            meniul contextual care apare, select&#259;m</span><span class="c14">&nbsp;Add -&gt; New Item...</span><span
            class="c5">&nbsp;&#537;i &icirc;n fereastra de dialog pentru ad&#259;ugarea unui nou component select&#259;m
            op&#539;iunea Interface:</span></p>
    <p class="c8"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 296.00px;"><img
                alt="" src="images/image1.png"
                style="width: 624.00px; height: 296.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c8 c9"><span class="c5"></span></p>
    <p class="c8"><span class="c5">De&#537;i putem ad&#259;uga, de asemenea, un fi&#537;ier standard de clas&#259; sau
            orice alt fi&#537;ier de cod C# &#537;i &icirc;n el s&#259; definim interfa&#539;a.</span></p>
</body>

</html>