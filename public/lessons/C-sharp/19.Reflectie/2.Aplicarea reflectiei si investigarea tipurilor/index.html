<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_aH4gUIUjZTH34PuvJkbTJT);.lst-kix_l5jjipcsld0u-3>li:before{content:"\0025cf   "}.lst-kix_l5jjipcsld0u-2>li:before{content:"\0025a0   "}.lst-kix_l5jjipcsld0u-4>li:before{content:"\0025cb   "}.lst-kix_l5jjipcsld0u-1>li:before{content:"\0025cb   "}.lst-kix_l5jjipcsld0u-5>li:before{content:"\0025a0   "}ul.lst-kix_hfhrmhi8g8zv-7{list-style-type:none}.lst-kix_l5jjipcsld0u-7>li:before{content:"\0025cb   "}ul.lst-kix_hfhrmhi8g8zv-6{list-style-type:none}.lst-kix_l5jjipcsld0u-0>li:before{content:"\0025cf   "}.lst-kix_l5jjipcsld0u-6>li:before{content:"\0025cf   "}.lst-kix_l5jjipcsld0u-8>li:before{content:"\0025a0   "}ul.lst-kix_hfhrmhi8g8zv-8{list-style-type:none}ul.lst-kix_hfhrmhi8g8zv-3{list-style-type:none}.lst-kix_hfhrmhi8g8zv-1>li:before{content:"\0025cb   "}ul.lst-kix_hfhrmhi8g8zv-2{list-style-type:none}ul.lst-kix_hfhrmhi8g8zv-5{list-style-type:none}ul.lst-kix_hfhrmhi8g8zv-4{list-style-type:none}ul.lst-kix_at46ou1oyxnq-7{list-style-type:none}.lst-kix_at46ou1oyxnq-0>li:before{content:"\0025cf   "}.lst-kix_at46ou1oyxnq-1>li:before{content:"\0025cb   "}ul.lst-kix_at46ou1oyxnq-6{list-style-type:none}ul.lst-kix_at46ou1oyxnq-8{list-style-type:none}.lst-kix_hfhrmhi8g8zv-0>li:before{content:"\0025cf   "}ul.lst-kix_l5jjipcsld0u-3{list-style-type:none}ul.lst-kix_l5jjipcsld0u-2{list-style-type:none}ul.lst-kix_l5jjipcsld0u-1{list-style-type:none}ul.lst-kix_l5jjipcsld0u-0{list-style-type:none}.lst-kix_at46ou1oyxnq-8>li:before{content:"\0025a0   "}.lst-kix_at46ou1oyxnq-4>li:before{content:"\0025cb   "}.lst-kix_at46ou1oyxnq-2>li:before{content:"\0025a0   "}.lst-kix_at46ou1oyxnq-3>li:before{content:"\0025cf   "}ul.lst-kix_hfhrmhi8g8zv-1{list-style-type:none}ul.lst-kix_hfhrmhi8g8zv-0{list-style-type:none}.lst-kix_at46ou1oyxnq-5>li:before{content:"\0025a0   "}.lst-kix_at46ou1oyxnq-6>li:before{content:"\0025cf   "}.lst-kix_at46ou1oyxnq-7>li:before{content:"\0025cb   "}ul.lst-kix_l5jjipcsld0u-8{list-style-type:none}ul.lst-kix_l5jjipcsld0u-7{list-style-type:none}.lst-kix_hfhrmhi8g8zv-8>li:before{content:"\0025a0   "}ul.lst-kix_l5jjipcsld0u-6{list-style-type:none}ul.lst-kix_l5jjipcsld0u-5{list-style-type:none}ul.lst-kix_l5jjipcsld0u-4{list-style-type:none}ul.lst-kix_at46ou1oyxnq-1{list-style-type:none}ul.lst-kix_at46ou1oyxnq-0{list-style-type:none}ul.lst-kix_at46ou1oyxnq-3{list-style-type:none}ul.lst-kix_at46ou1oyxnq-2{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_at46ou1oyxnq-5{list-style-type:none}ul.lst-kix_at46ou1oyxnq-4{list-style-type:none}.lst-kix_hfhrmhi8g8zv-2>li:before{content:"\0025a0   "}.lst-kix_hfhrmhi8g8zv-3>li:before{content:"\0025cf   "}.lst-kix_hfhrmhi8g8zv-4>li:before{content:"\0025cb   "}.lst-kix_hfhrmhi8g8zv-6>li:before{content:"\0025cf   "}.lst-kix_hfhrmhi8g8zv-7>li:before{content:"\0025cb   "}.lst-kix_hfhrmhi8g8zv-5>li:before{content:"\0025a0   "}ol{margin:0;padding:0}table td,table th{padding:0}.c4{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Open Sans";font-style:normal}.c18{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:27pt;font-family:"Open Sans";font-style:normal}.c2{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Open Sans";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left;height:11pt}.c21{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:15pt;font-family:"Open Sans";font-style:normal}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c10{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#a2fca2;font-weight:400}.c8{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#ffffaa;font-weight:400}.c17{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#888888;font-weight:400}.c6{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#fcc28c;font-weight:400}.c3{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#ffffff;font-weight:400}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c14{border-spacing:0;border-collapse:collapse;margin-right:auto}.c20{padding-top:0pt;padding-bottom:0pt;line-height:1.5;text-align:left}.c5{font-size:12pt;font-family:"Open Sans";font-style:italic;font-weight:400}.c19{font-size:12pt;font-family:"Open Sans";font-weight:400}.c12{font-size:12pt;font-family:"Open Sans";font-weight:700}.c22{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c13{margin-left:36pt;padding-left:0pt}.c7{padding:0;margin:0}.c16{margin-left:36pt}.c15{height:0pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c22 doc-content"><p class="c11"><span class="c18">Aplicarea reflec&#539;iei &#537;i investigarea tipurilor.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c21">Ob&#539;inerea tuturor componentelor unui tip.</span></p><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c19">Metoda </span><span class="c12">GetMembers() </span><span class="c19">returneaz&#259; toate componentele disponibile ale unui tip sub form&#259; de obiecte </span><span class="c12">MemberInfo</span><span class="c0">. Acest obiect permite extragerea anumitor informa&#539;ii despre componenta tipului. &Icirc;n particular, unele dintre propriet&#259;&#539;ile sale sunt:</span></p><p class="c1"><span class="c0"></span></p><ul class="c7 lst-kix_at46ou1oyxnq-0 start"><li class="c11 c13 li-bullet-0"><span class="c12">DeclaringType</span><span class="c0">: returneaz&#259; numele complet al tipului.</span></li></ul><p class="c1 c16"><span class="c0"></span></p><ul class="c7 lst-kix_at46ou1oyxnq-0"><li class="c11 c13 li-bullet-0"><span class="c12">MemberType</span><span class="c19">: returneaz&#259; o valoare din enumera&#539;ia </span><span class="c5">MemberTypes</span><span class="c0">:</span></li></ul><p class="c1 c16"><span class="c0"></span></p><p class="c11"><span class="c2">&nbsp; - MemberTypes.Constructor</span></p><p class="c1"><span class="c2"></span></p><p class="c11"><span class="c2">&nbsp; - MemberTypes.Method</span></p><p class="c1"><span class="c2"></span></p><p class="c11"><span class="c2">&nbsp; - MemberTypes.Field</span></p><p class="c1"><span class="c2"></span></p><p class="c11"><span class="c2">&nbsp; - MemberTypes.Event</span></p><p class="c1"><span class="c2"></span></p><p class="c11"><span class="c2">&nbsp; - MemberTypes.Property</span></p><p class="c1"><span class="c2"></span></p><p class="c11"><span class="c2">&nbsp; - MemberTypes.NestedType</span></p><p class="c1"><span class="c0"></span></p><ul class="c7 lst-kix_l5jjipcsld0u-0 start"><li class="c11 c13 li-bullet-0"><span class="c12">Name</span><span class="c0">: returneaz&#259; numele componentei.</span></li></ul><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c0">Aplicarea metodei GetMembers pentru a afi&#537;a toate elementele disponibile ale unui tip:</span></p><p class="c1"><span class="c0"></span></p><a id="t.de006988218654c1fb90164c3e11d164a73a01b3"></a><a id="t.0"></a><table class="c14"><tr class="c15"><td class="c4" colspan="1" rowspan="1"><p class="c20"><span class="c6">using</span><span class="c3">&nbsp;System.Reflection; &nbsp; &nbsp; </span><span class="c17">// ad&#259;ug&#259;m func&#539;ionalitatea reflec&#539;iei</span><span class="c3"><br> <br>Type myType = </span><span class="c6">typeof</span><span class="c3">(Person);<br> <br></span><span class="c6">foreach</span><span class="c3">&nbsp;(MemberInfo member </span><span class="c6">in</span><span class="c3">&nbsp;myType.GetMembers())<br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c10">$&quot;{member.DeclaringType} {member.MemberType} {member.Name}&quot;</span><span class="c3">);<br>}<br> <br></span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c6">class</span><span class="c3">&nbsp;</span><span class="c8">Person</span><span class="c3"><br>{<br> &nbsp; &nbsp;</span><span class="c6">string</span><span class="c3">&nbsp;name;<br> &nbsp; &nbsp;</span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c6">int</span><span class="c3">&nbsp;Age { </span><span class="c6">get</span><span class="c3">; </span><span class="c6">set</span><span class="c3">; }<br> &nbsp; &nbsp;</span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c8">Person</span><span class="c3">(</span><span class="c6">string</span><span class="c3">&nbsp;name, </span><span class="c6">int</span><span class="c3">&nbsp;age)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c6">this</span><span class="c3">.name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c6">this</span><span class="c3">.Age = age;<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c6">void</span><span class="c3">&nbsp;</span><span class="c8">Print</span><span class="c3">() =&gt; Console.WriteLine(</span><span class="c10">$&quot;Name: {name} Age: {Age}&quot;</span><span class="c3">);<br>}</span></p></td></tr></table><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c0">&Icirc;n acest caz, vom ob&#539;ine to&#539;i membrii publici ai clasei Person:</span></p><p class="c1"><span class="c0"></span></p><a id="t.885dc9c9871289abc637360fd04c626f7d98d173"></a><a id="t.1"></a><table class="c14"><tr class="c15"><td class="c4" colspan="1" rowspan="1"><p class="c20"><span class="c3">Person Method get_Age<br>Person Method set_Age<br>Person Method Print<br>System.Object Method GetType<br>System.Object Method ToString<br>System.Object Method Equals<br>System.Object Method GetHashCode<br>Person Constructor .ctor<br>Person Property Age</span></p></td></tr></table><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c0">Observa&#539;i c&#259; &icirc;n acest caz ob&#539;inem doar membrii publici ai clasei &#537;i nu se afi&#537;eaz&#259; informa&#539;ii despre variabila privat&#259; name. De asemenea, pentru proprietate sunt afi&#537;ate metodele de acces - getter-ul (get_Age) &#537;i setter-ul (set_Age). &Icirc;n mod implicit, ob&#539;inem toate func&#539;ionalit&#259;&#539;ile, inclusiv cele mo&#537;tenite de la clasele de baz&#259; (&icirc;n acest caz, func&#539;ionalitatea clasei de baz&#259; Object).</span></p><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c21">BindingFlags.</span></p><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c19">&Icirc;n exemplul de mai sus, am folosit forma simpl&#259; a metodei </span><span class="c5">GetMembers()</span><span class="c19">, care extrage toate metodele publice disponibile. Dar putem folosi &#537;i o alt&#259; form&#259; a metodei:</span><span class="c5">&nbsp;MembersInfo[] GetMembers(BindingFlags)</span><span class="c0">. Enumera&#539;ia BindingFlags poate accepta diverse valori:</span></p><p class="c1"><span class="c0"></span></p><ul class="c7 lst-kix_hfhrmhi8g8zv-0 start"><li class="c11 c13 li-bullet-0"><span class="c12">DeclaredOnly</span><span class="c0">: ob&#539;ine doar metodele specificate direct &icirc;n clasa curent&#259;, metodele mo&#537;tenite nu sunt extrase.</span></li></ul><p class="c1"><span class="c0"></span></p><ul class="c7 lst-kix_hfhrmhi8g8zv-0"><li class="c11 c13 li-bullet-0"><span class="c12">Instance</span><span class="c0">: ob&#539;ine doar metodele instan&#539;ei.</span></li></ul><p class="c1"><span class="c0"></span></p><ul class="c7 lst-kix_hfhrmhi8g8zv-0"><li class="c11 c13 li-bullet-0"><span class="c12">NonPublic</span><span class="c0">: extrage metodele non-publice.</span></li></ul><p class="c1"><span class="c0"></span></p><ul class="c7 lst-kix_hfhrmhi8g8zv-0"><li class="c11 c13 li-bullet-0"><span class="c12">Public</span><span class="c0">: ob&#539;ine doar metodele publice.</span></li></ul><p class="c1"><span class="c0"></span></p><ul class="c7 lst-kix_hfhrmhi8g8zv-0"><li class="c11 c13 li-bullet-0"><span class="c12">Static</span><span class="c0">: ob&#539;ine doar metodele statice.</span></li></ul><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c0">Combin&acirc;nd aceste valori folosind opera&#539;ia bitwise OR, putem combina rezultatele. De exemplu, ob&#539;inem doar componentele clasei directe f&#259;r&#259; cele mo&#537;tenite, at&acirc;t publice, c&acirc;t &#537;i non-publice:</span></p><p class="c1"><span class="c0"></span></p><a id="t.44515bcdb83c05639e5d5fae5b28c7ad089e87ae"></a><a id="t.2"></a><table class="c14"><tr class="c15"><td class="c4" colspan="1" rowspan="1"><p class="c9"><span class="c6">using</span><span class="c3">&nbsp;System.Reflection; &nbsp; &nbsp; </span><span class="c17">// ad&#259;ug&#259;m func&#539;ionalitatea reflec&#539;iei</span><span class="c3"><br> <br>Type myType = </span><span class="c6">typeof</span><span class="c3">(Person);<br> <br></span><span class="c6">foreach</span><span class="c3">&nbsp;(MemberInfo member </span><span class="c6">in</span><span class="c3">&nbsp;myType.GetMembers(BindingFlags.DeclaredOnly<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Public))<br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c10">$&quot;{member.DeclaringType} {member.MemberType} {member.Name}&quot;</span><span class="c3">);<br>}<br> <br></span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c6">class</span><span class="c3">&nbsp;</span><span class="c8">Person</span><span class="c3"><br>{<br> &nbsp; &nbsp;</span><span class="c6">string</span><span class="c3">&nbsp;name;<br> &nbsp; &nbsp;</span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c6">int</span><span class="c3">&nbsp;Age { </span><span class="c6">get</span><span class="c3">; </span><span class="c6">set</span><span class="c3">; }<br> &nbsp; &nbsp;</span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c8">Person</span><span class="c3">(</span><span class="c6">string</span><span class="c3">&nbsp;name, </span><span class="c6">int</span><span class="c3">&nbsp;age)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c6">this</span><span class="c3">.name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c6">this</span><span class="c3">.Age = age;<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c6">public</span><span class="c3">&nbsp;</span><span class="c6">void</span><span class="c3">&nbsp;</span><span class="c8">Print</span><span class="c3">() =&gt; Console.WriteLine(</span><span class="c10">$&quot;Name: {name} Age: {Age}&quot;</span><span class="c3">);<br>}</span></p></td></tr></table><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c0">&Icirc;n acest caz, vom ob&#539;ine un rezultat diferit:</span></p><p class="c1"><span class="c0"></span></p><a id="t.c211918b59fe9c801ad025995e042dddf987fde6"></a><a id="t.3"></a><table class="c14"><tr class="c15"><td class="c4" colspan="1" rowspan="1"><p class="c9"><span class="c3">Person Method get_Age<br>Person Method set_Age<br>Person Method Print<br>Person Constructor .ctor<br>Person Property Age<br>Person Field name<br>Person Field &lt;Age&gt;k__BackingField</span></p></td></tr></table><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c21">Ob&#539;inerea unei singure componente dup&#259; nume.</span></p><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c19">Pentru a ob&#539;ine o singur&#259; component&#259;, putem folosi metoda</span><span class="c5">&nbsp;GetMember()</span><span class="c0">, c&#259;reia &icirc;i transmitem numele componentei. Op&#539;ional, putem transmite &#537;i valorile BindingFlags.</span></p><p class="c1"><span class="c0"></span></p><a id="t.1f3908688aa2ec4c496821930e038ddfa6cf37f7"></a><a id="t.4"></a><table class="c14"><tr class="c15"><td class="c4" colspan="1" rowspan="1"><p class="c9"><span class="c3">Type myType = </span><span class="c6">typeof</span><span class="c3">(Person);<br> <br></span><span class="c17">// ob&#539;inem metoda Print</span><span class="c3"><br>MemberInfo[] print = myType.GetMember(</span><span class="c10">&quot;Print&quot;</span><span class="c3">, BindingFlags.Instance | BindingFlags.Public);<br></span><span class="c6">foreach</span><span class="c3">&nbsp;(MemberInfo member </span><span class="c6">in</span><span class="c3">&nbsp;print)<br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c10">$&quot;{member.MemberType} {member.Name}&quot;</span><span class="c3">);<br>}</span></p></td></tr></table><p class="c1"><span class="c0"></span></p><p class="c11"><span class="c0">Este important de men&#539;ionat c&#259; la ob&#539;inerea unui membru al tipului, se returneaz&#259; din nou un array de MemberInfo[], deoarece &icirc;ntr-o clas&#259; pot exista mai multe elemente cu acela&#537;i nume, de exemplu, mai multe versiuni suprasolicitate ale metodei Print.</span></p><p class="c1"><span class="c0"></span></p></body></html>