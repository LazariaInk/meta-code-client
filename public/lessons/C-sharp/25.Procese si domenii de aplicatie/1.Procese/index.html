<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_aH4gUIUjZTH34PuvJkbTJT);ol{margin:0;padding:0}table td,table th{padding:0}.c13{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c0{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:15pt;font-family:"Open Sans";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Open Sans";font-style:normal}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left;height:11pt}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c6{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#fcc28c;font-weight:400}.c10{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#ffffff;font-weight:400}.c12{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#888888;font-weight:400}.c3{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#a2fca2;font-weight:400}.c2{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#d36363;font-weight:400}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c14{border-spacing:0;border-collapse:collapse;margin-right:auto}.c16{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c17{font-weight:700;font-size:27pt;font-family:"Open Sans"}.c18{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c7{font-size:12pt;font-family:"Open Sans";font-weight:700}.c8{font-size:12pt;font-family:"Open Sans";font-weight:400}.c15{font-style:italic}.c9{height:0pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c18 doc-content"><p class="c5"><span class="c16 c17">Procese.</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">La lansarea unei aplica&#539;ii, sistemul de operare creeaz&#259; pentru aceasta un proces separat, c&#259;ruia i se aloc&#259; un spa&#539;iu de adres&#259; specific &icirc;n memorie &#537;i care este izolat de alte procese. Un proces poate avea mai multe fire de execu&#539;ie (threads). &Icirc;n mod minim, un proces con&#539;ine un fir de execu&#539;ie principal. &Icirc;ntr-o aplica&#539;ie C#, punctul de intrare al programului este metoda Main. Apelul acestei metode creeaz&#259; automat firul de execu&#539;ie principal, iar din acest fir pot fi lansate fire de execu&#539;ie secundare.</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">&Icirc;n .NET, un proces este reprezentat de clasa </span><span class="c7">Process </span><span class="c8">din spa&#539;iul de nume </span><span class="c7">System.Diagnostics</span><span class="c1">. Aceast&#259; clas&#259; permite gestionarea proceselor deja lansate, precum &#537;i lansarea unor procese noi. &Icirc;n aceast&#259; clas&#259; sunt definite mai multe propriet&#259;&#539;i &#537;i metode care permit ob&#539;inerea informa&#539;iilor despre procese &#537;i gestionarea lor:</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">Handle</span><span class="c1">: returneaz&#259; descriptorul procesului</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">Id</span><span class="c1">: ob&#539;ine identificatorul unic al procesului &icirc;n cadrul sesiunii curente a sistemului de operare</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">MachineName</span><span class="c1">: returneaz&#259; numele calculatorului pe care este lansat procesul</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">MainModule</span><span class="c8">: reprezint&#259; modulul principal &ndash; fi&#537;ierul executabil al programului, reprezentat de un obiect de tip </span><span class="c7 c16">ProcessModule</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">Modules</span><span class="c1">: ob&#539;ine accesul la colec&#539;ia ProcessModuleCollection, care stocheaz&#259;, sub form&#259; de obiecte ProcessModule, setul de module (de exemplu, fi&#537;iere dll &#537;i exe) &icirc;nc&#259;rcate &icirc;n cadrul procesului respectiv</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">ProcessName</span><span class="c1">: returneaz&#259; numele procesului, care adesea coincide cu numele aplica&#539;iei</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">StartTime</span><span class="c1">: returneaz&#259; ora la care a fost lansat procesul</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">PageMemorySize64</span><span class="c1">: returneaz&#259; volumul de memorie alocat pentru acest proces</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">VirtualMemorySize64</span><span class="c1">: returneaz&#259; volumul de memorie virtual&#259; alocat pentru acest proces</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">Metode importante:</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">CloseMainWindow()</span><span class="c1">: &icirc;nchide fereastra procesului care are interfa&#539;&#259; grafic&#259;</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">-</span><span class="c7">&nbsp;GetProcesses()</span><span class="c1">: returneaz&#259; un array cu toate procesele lansate</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">GetProcessesByName()</span><span class="c1">: returneaz&#259; procesele dup&#259; numele lor (pot fi lansate mai multe instan&#539;e ale acelea&#537;i aplica&#539;ii, deci returneaz&#259; un array)</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">GetProcessById()</span><span class="c1">: returneaz&#259; procesul dup&#259; Id (pot fi lansate mai multe instan&#539;e ale acelea&#537;i aplica&#539;ii, deci returneaz&#259; un array)</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">-</span><span class="c7">&nbsp;Kill()</span><span class="c1">: opre&#537;te procesul</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">-</span><span class="c7">&nbsp;Start()</span><span class="c1">: lanseaz&#259; un proces nou</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">De exemplu, s&#259; analiz&#259;m procesul curent:</span></p><p class="c4"><span class="c1"></span></p><a id="t.b9770da38507ea6bf24595d3f00830f1705a4a96"></a><a id="t.0"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c6">using</span><span class="c10">&nbsp;System.Diagnostics;<br><br></span><span class="c6">var</span><span class="c10">&nbsp;process = Process.GetCurrentProcess();<br>Console.WriteLine(</span><span class="c3">$&quot;Id: {process.Id}&quot;</span><span class="c10">);<br>Console.WriteLine(</span><span class="c3">$&quot;Name: {process.ProcessName}&quot;</span><span class="c10">);<br>Console.WriteLine(</span><span class="c3">$&quot;VirtualMemory: {process.VirtualMemorySize64}&quot;</span><span class="c10">);</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">Pentru a ob&#539;ine toate procesele lansate:</span></p><p class="c4"><span class="c1"></span></p><a id="t.00d91c0f9c2b90c84468b40bab129bc6387c0218"></a><a id="t.1"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c6">using</span><span class="c10">&nbsp;System.Diagnostics;<br><br></span><span class="c6">foreach</span><span class="c10">(Process process </span><span class="c6">in</span><span class="c10">&nbsp;Process.GetProcesses())<br>{<br> &nbsp; &nbsp;</span><span class="c12">// afi&#537;&#259;m id &#537;i numele procesului</span><span class="c10"><br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c3">$&quot;ID: {process.Id} &nbsp;Name: {process.ProcessName}&quot;</span><span class="c10">);<br>}</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">Pentru a ob&#539;ine ID-urile proceselor care reprezint&#259; instan&#539;ele lansate ale Visual Studio:</span></p><p class="c4"><span class="c1"></span></p><a id="t.4e04a678c3815aa2d76577f1140ad6db6422ba2f"></a><a id="t.2"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c6">using</span><span class="c10">&nbsp;System.Diagnostics;<br><br>Process[] vsProcs = Process.GetProcessesByName(</span><span class="c3">&quot;devenv&quot;</span><span class="c10">); &nbsp; </span><span class="c12">// pentru Windows</span><span class="c10"><br></span><span class="c12">// Process[] vsProcs = Process.GetProcessesByName(&quot;VisualStudio&quot;); // pentru MacOS</span><span class="c10"><br></span><span class="c6">foreach</span><span class="c10">&nbsp;(</span><span class="c6">var</span><span class="c10">&nbsp;proc </span><span class="c6">in</span><span class="c10">&nbsp;vsProcs)<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c3">$&quot;ID: {proc.Id}&quot;</span><span class="c10">);</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c0">Firele de execu&#539;ie ale procesului.</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">Proprietatea </span><span class="c7">Threads </span><span class="c8">reprezint&#259; colec&#539;ia firelor de execu&#539;ie ale procesului - un obiect </span><span class="c8 c15">ProcessThreadCollection</span><span class="c8">, fiecare fir de execu&#539;ie fiind un obiect </span><span class="c7">ProcessThread</span><span class="c1">. &Icirc;n aceast&#259; clas&#259;, se remarc&#259; urm&#259;toarele propriet&#259;&#539;i:</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">CurrentPriority</span><span class="c1">: returneaz&#259; prioritatea curent&#259; a firului de execu&#539;ie</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">Id</span><span class="c1">: identificatorul firului de execu&#539;ie</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">IdealProcessor</span><span class="c1">: permite setarea procesorului pentru executarea firului de execu&#539;ie</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">PriorityLevel</span><span class="c1">: nivelul de prioritate al firului de execu&#539;ie</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">StartAddress</span><span class="c1">: adresa &icirc;n memorie a func&#539;iei care a lansat firul de execu&#539;ie</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">StartTime</span><span class="c1">: ora lans&#259;rii firului de execu&#539;ie (suportat&#259; doar pe Windows &#537;i Linux)</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">De exemplu, s&#259; ob&#539;inem toate firele de execu&#539;ie ale procesului Visual Studio:</span></p><p class="c4"><span class="c1"></span></p><a id="t.d90ff829868546f5c726b5eef9a7a864d887efe6"></a><a id="t.3"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c6">using</span><span class="c10">&nbsp;System.Diagnostics;<br><br>Process proc = Process.GetProcessesByName(</span><span class="c3">&quot;devenv&quot;</span><span class="c10">)[</span><span class="c2">0</span><span class="c10">]; &nbsp;</span><span class="c12">// Windows</span><span class="c10"><br></span><span class="c12">// Process proc = Process.GetProcessesByName(&quot;VisualStudio&quot;)[0]; &nbsp;// MacOS</span><span class="c10"><br>ProcessThreadCollection processThreads = proc.Threads;<br><br></span><span class="c6">foreach</span><span class="c10">(ProcessThread thread </span><span class="c6">in</span><span class="c10">&nbsp;processThreads)<br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c3">$&quot;ThreadId: {thread.Id}&quot;</span><span class="c10">);<br>}</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c0">Modulele procesului.</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">O aplica&#539;ie poate folosi un set de biblioteci &#537;i module ter&#539;e. Pentru a le ob&#539;ine, clasa Process are proprietatea </span><span class="c8 c15">Modules</span><span class="c8">, care reprezint&#259; un obiect </span><span class="c8 c15">ProcessModuleCollection</span><span class="c8">. Fiecare modul este reprezentat de clasa </span><span class="c7">ProcessModule</span><span class="c1">, care include urm&#259;toarele propriet&#259;&#539;i:</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">BaseAddress</span><span class="c1">: adresa modulului &icirc;n memorie</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">FileName</span><span class="c1">: calea complet&#259; c&#259;tre fi&#537;ierul modulului</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">EntryPointAddress</span><span class="c1">: adresa func&#539;iei &icirc;n memorie care a lansat modulul</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">ModuleName</span><span class="c1">: numele modulului (numele scurt al fi&#537;ierului)</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">- </span><span class="c7">ModuleMemorySize</span><span class="c1">: returneaz&#259; volumul de memorie necesar pentru &icirc;nc&#259;rcarea modulului</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">Pentru a ob&#539;ine toate modulele folosite de Visual Studio:</span></p><p class="c4"><span class="c1"></span></p><a id="t.672980cd34189def1795665d390344a725eb20d0"></a><a id="t.4"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c6">using</span><span class="c10">&nbsp;System.Diagnostics;<br><br>Process proc = Process.GetProcessesByName(</span><span class="c3">&quot;devenv&quot;</span><span class="c10">)[</span><span class="c2">0</span><span class="c10">]; </span><span class="c12">// pentru Windows</span><span class="c10"><br></span><span class="c12">// Process proc = Process.GetProcessesByName(&quot;VisualStudio&quot;)[0]; // pentru MacOS</span><span class="c10"><br>ProcessModuleCollection modules = proc.Modules;<br><br></span><span class="c6">foreach</span><span class="c10">(ProcessModule module </span><span class="c6">in</span><span class="c10">&nbsp;modules)<br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c3">$&quot;Name: {module.ModuleName} &nbsp;FileName: {module.FileName}&quot;</span><span class="c10">);<br>}</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c0">Lansarea unui nou proces.</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">Cu ajutorul metodei statice</span><span class="c7">&nbsp;Process.Start()</span><span class="c1">, se poate lansa un nou proces. De exemplu:</span></p><p class="c4"><span class="c1"></span></p><a id="t.2bcaf0c7c0a73f99fef4df0bdf2a43126c2e99aa"></a><a id="t.5"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c12">// lansarea unei aplica&#539;ii</span><span class="c10"><br>Process.Start(</span><span class="c3">@&quot;C:\Program Files\Google\Chrome\Application\chrome&quot;</span><span class="c10">);<br><br></span><span class="c12">// Process.Start(&quot;/Applications/Google Chrome.app/Contents/MacOS/Google Chrome&quot;); // pe MacOS</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">&Icirc;n acest caz, se lanseaz&#259; browserul Google Chrome.</span></p><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">&Icirc;n cazul lans&#259;rii unor programe, poate fi necesar s&#259; le transmitem diferi&#539;i parametri. &Icirc;n acest caz, se poate folosi o versiune suprasolicitat&#259; a metodei, unde se transmit parametrii:</span></p><p class="c4"><span class="c1"></span></p><a id="t.49f4412b84c5e7ee536970511197ac4592804e30"></a><a id="t.6"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c10">Process.Start(</span><span class="c3">@&quot;C:\Program Files\Google\Chrome\Application\chrome&quot;</span><span class="c10">, </span><span class="c3">&quot;https://metanit.com&quot;</span><span class="c10">);</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c8">Pentru a separa configurarea parametrilor de lansare de lansarea propriu-zis&#259;, se poate folosi clasa </span><span class="c7">ProcessStartInfo</span><span class="c1">:</span></p><p class="c4"><span class="c1"></span></p><a id="t.9a438b3c2c020dc880240a009adb20bfeb0b1caf"></a><a id="t.7"></a><table class="c14"><tr class="c9"><td class="c13" colspan="1" rowspan="1"><p class="c11"><span class="c10">ProcessStartInfo procInfo = </span><span class="c6">new</span><span class="c10">&nbsp;ProcessStartInfo();<br></span><span class="c12">// fi&#537;ierul executabil al programului - browserul Chrome</span><span class="c10"><br>procInfo.FileName = </span><span class="c3">@&quot;C:\Program Files\Google\Chrome\Application\chrome&quot;</span><span class="c10">;<br></span><span class="c12">// argumentele de lansare - adresa resursei internet</span><span class="c10"><br>procInfo.Arguments = </span><span class="c3">&quot;https://metanit.com&quot;</span><span class="c10">;<br>Process.Start(procInfo);</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c5"><span class="c1">Aceste metode permit gestionarea eficient&#259; a proceselor &#537;i resurselor utilizate de aplica&#539;iile .NET.</span></p><p class="c4"><span class="c1"></span></p></body></html>