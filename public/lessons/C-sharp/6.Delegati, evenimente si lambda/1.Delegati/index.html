<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        @import url(https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_aH4gUIUjZTH34PuvJkbTJT);

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c10 {
            border-right-style: solid;
            padding: 5pt 5pt 5pt 5pt;
            border-bottom-color: #000000;
            border-top-width: 0pt;
            border-right-width: 0pt;
            border-left-color: #000000;
            vertical-align: top;
            border-right-color: #000000;
            border-left-width: 0pt;
            border-top-style: solid;
            background-color: #333333;
            border-left-style: solid;
            border-bottom-width: 0pt;
            width: 468pt;
            border-top-color: #000000;
            border-bottom-style: solid
        }

        .c6 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c14 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 15pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c2 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c1 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #fcc28c;
            font-weight: 400
        }

        .c4 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #ffffff;
            font-weight: 400
        }

        .c5 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #888888;
            font-weight: 400
        }

        .c13 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #a2fca2;
            font-weight: 400
        }

        .c3 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #d36363;
            font-weight: 400
        }

        .c7 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #ffffaa;
            font-weight: 400
        }

        .c0 {
            border-spacing: 0;
            border-collapse: collapse;
            margin-right: auto
        }

        .c18 {
            color: #000000;
            text-decoration: none;
            vertical-align: baseline;
            font-style: normal
        }

        .c11 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.15;
            text-align: left
        }

        .c8 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 400
        }

        .c17 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c19 {
            font-weight: 700;
            font-size: 27pt;
            font-family: "Open Sans"
        }

        .c16 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c15 {
            font-style: italic
        }

        .c12 {
            height: 0pt
        }

        .c9 {
            height: 11pt
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body class="c17 doc-content">
    <h1 class="c2 c18 c19">Delega»õi.</h1>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Delega&#539;ii reprezint&#259; obiecte care indic&#259; spre metode. Cu alte cuvinte,
            delega&#539;ii sunt pointeri c&#259;tre metode &#537;i cu ajutorul delega&#539;ilor putem apela aceste
            metode.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Definirea delega&#539;ilor.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">Pentru a declara un delegat se folose&#537;te cuv&acirc;ntul cheie </span><span
            class="c16">delegate</span><span class="c6">, urmat de tipul returnat, numele &#537;i parametrii. De
            exemplu:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.218fd99268de23dd20a5d6fba15ae4f693b8a002"></a><a id="t.0"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">delegate</span><span class="c4">&nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">Message</span><span
                        class="c4">();</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">Delegatul Message are tipul de returnare </span><span class="c8 c15">void
        </span><span class="c6">(adic&#259; nu returneaz&#259; nimic) &#537;i nu accept&#259; niciun parametru. Acest
            lucru &icirc;nseamn&#259; c&#259; acest delegat poate indica orice metod&#259; care nu accept&#259;
            parametri &#537;i nu returneaz&#259; nimic.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">S&#259; vedem cum putem folosi acest delegat:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.3a32402453727d46c04c74f92296ecc3a3bccbeb"></a><a id="t.1"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message mes; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">// 2. Cre&#259;m o variabil&#259; delegat</span><span class="c4"><br>mes = Hello;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">// 3. Atribuim acestei
                        variabile adresa metodei</span><span class="c4"><br>mes(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">// 4. Apel&#259;m metoda</span><span
                        class="c4"><br><br></span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Hello</span><span class="c4">() =&gt; Console.WriteLine(</span><span
                        class="c13">&quot;Hello FDC.COM&quot;</span><span class="c4">);<br><br></span><span
                        class="c1">delegate</span><span class="c4">&nbsp;</span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Message</span><span class="c4">(); </span><span
                        class="c5">// 1. Declar&#259;m delegatul</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Primul pas este definirea delegatului:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.171c59f20d40d5c74e7e6db295790e37277e8bc2"></a><a id="t.2"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">delegate</span><span class="c4">&nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">Message</span><span
                        class="c4">(); </span><span class="c5">// 1. Declar&#259;m delegatul</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Pentru a utiliza delegatul, declar&#259;m o variabil&#259; a acestui delegat:</span>
    </p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.6ea12836846eb76739605d4d26a67e45623c9e43"></a><a id="t.3"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message mes; </span><span class="c5">// 2. Cre&#259;m o variabil&#259;
                        delegat</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Apoi, atribuim delegatului adresa unei metode (&icirc;n cazul nostru, metoda Hello).
            Observa&#539;i c&#259; aceast&#259; metod&#259; are acela&#537;i tip de returnare &#537;i acela&#537;i set
            de parametri (&icirc;n acest caz, lipsa parametrilor) ca &#537;i delegatul.</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.356875d7846c518256f3a8d13ce1dc5bab93031f"></a><a id="t.4"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">mes = Hello; </span><span class="c5">// 3. Atribuim acestei variabile
                        adresa metodei</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Apoi, apel&#259;m metoda prin intermediul delegatului:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.853e45be8a8428ad56df28f9e7dc969004fecffa"></a><a id="t.5"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">mes(); </span><span class="c5">// 4. Apel&#259;m metoda</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Apelul delegatului se face similar cu apelul unei metode.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Delega&#539;ii nu trebuie neap&#259;rat s&#259; indice doar metode definite &icirc;n
            aceea&#537;i clas&#259; &icirc;n care este definit&#259; variabila delegatului. Ace&#537;tia pot indica
            &#537;i metode din alte clase &#537;i structuri.</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.eee6dd540e3e3994a4c82ccf6d4d424238cf81b0"></a><a id="t.6"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message message1 = Welcome.Print;<br>Message message2 = </span><span
                        class="c1">new</span><span class="c4">&nbsp;Hello().Display;<br><br>message1(); </span><span
                        class="c5">// Welcome</span><span class="c4"><br>message2(); </span><span class="c5">//
                        &#1055;&#1088;&#1080;&#1074;&#1077;&#1090;</span><span class="c4"><br><br></span><span
                        class="c1">delegate</span><span class="c4">&nbsp;</span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Message</span><span class="c4">();<br><br></span><span
                        class="c1">class</span><span class="c4">&nbsp;</span><span class="c7">Welcome</span><span
                        class="c4"><br>{<br> &nbsp; &nbsp;</span><span class="c1">public</span><span
                        class="c4">&nbsp;</span><span class="c1">static</span><span class="c4">&nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">Print</span><span
                        class="c4">() =&gt; Console.WriteLine(</span><span class="c13">&quot;Welcome&quot;</span><span
                        class="c4">);<br>}<br></span><span class="c1">class</span><span class="c4">&nbsp;</span><span
                        class="c7">Hello</span><span class="c4"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c4">&nbsp;</span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Display</span><span class="c4">() =&gt;
                        Console.WriteLine(</span><span class="c13">&quot;Salut&quot;</span><span
                        class="c4">);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Locul definirii delegatului.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Dac&#259; definim un delegat &icirc;ntr-un program de nivel superior (top-level
            program), care este reprezentat implicit de fi&#537;ierul Program.cs &icirc;ncep&acirc;nd cu versiunea C#
            10, ca &icirc;n exemplul de mai sus, atunci delegatul se define&#537;te la sf&acirc;r&#537;itul codului, la
            fel ca &#537;i alte tipuri. Totu&#537;i, delegatul poate fi definit &#537;i &icirc;n interiorul unei
            clase:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.00b450416fdc71e776d2bca3b844cfc5a3be0553"></a><a id="t.7"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">class</span><span class="c4">&nbsp;</span><span
                        class="c7">Program</span><span class="c4"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">delegate</span><span class="c4">&nbsp;</span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Message</span><span class="c4">(); </span><span
                        class="c5">// 1. Declar&#259;m delegatul</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c1">static</span><span class="c4">&nbsp;</span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Main</span><span class="c4">()<br> &nbsp; &nbsp;{<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;Message mes; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">// 2. Cre&#259;m o variabil&#259; delegat</span><span class="c4"><br> &nbsp; &nbsp;
                        &nbsp; &nbsp;mes = Hello; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">// 3.
                        Atribuim acestei variabile adresa metodei</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;mes(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">// 4. Apel&#259;m metoda</span><span class="c4"><br><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Hello</span><span class="c4">() =&gt; Console.WriteLine(</span><span
                        class="c13">&quot;Hello FDC.COM&quot;</span><span class="c4">);<br> &nbsp; &nbsp;}<br>}</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Sau &icirc;n afara clasei:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.e38eb5f9ec3646598e4af3a7305e22fbdf5b3d74"></a><a id="t.8"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">delegate</span><span class="c4">&nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">Message</span><span
                        class="c4">(); </span><span class="c5">// Declar&#259;m delegatul</span><span
                        class="c4"><br><br></span><span class="c1">class</span><span class="c4">&nbsp;</span><span
                        class="c7">Program</span><span class="c4"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">static</span><span class="c4">&nbsp;</span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Main</span><span class="c4">()<br> &nbsp; &nbsp;{<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;Message mes; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">// Cre&#259;m o variabil&#259; delegat</span><span class="c4"><br> &nbsp; &nbsp;
                        &nbsp; &nbsp;mes = Hello; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">//
                        Atribuim acestei variabile adresa metodei</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;mes(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">// Apel&#259;m metoda</span><span class="c4"><br><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Hello</span><span class="c4">() =&gt; Console.WriteLine(</span><span
                        class="c13">&quot;Hello FDC.COM&quot;</span><span class="c4">);<br> &nbsp; &nbsp;}<br>}</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Parametrii &#537;i rezultatul delegatului.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">S&#259; vedem cum putem defini &#537;i utiliza un delegat care accept&#259; parametri
            &#537;i returneaz&#259; un rezultat:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.9a7b8176089a72daab0c24c907654ceed881b6ba"></a><a id="t.9"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Operation operation = Add; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">// delegatul indic&#259; spre metoda Add</span><span class="c4"><br></span><span
                        class="c1">int</span><span class="c4">&nbsp;result = operation(</span><span
                        class="c3">4</span><span class="c4">, </span><span class="c3">5</span><span class="c4">); &nbsp;
                    </span><span class="c5">// efectiv Add(4, 5)</span><span class="c4"><br>Console.WriteLine(result);
                        &nbsp; &nbsp; &nbsp;</span><span class="c5">// 9</span><span class="c4"><br><br>operation =
                        Multiply; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c5">// acum delegatul
                        indic&#259; spre metoda Multiply</span><span class="c4"><br>result = operation(</span><span
                        class="c3">4</span><span class="c4">, </span><span class="c3">5</span><span class="c4">); &nbsp;
                        &nbsp; &nbsp; </span><span class="c5">// efectiv Multiply(4, 5)</span><span
                        class="c4"><br>Console.WriteLine(result); &nbsp; &nbsp; &nbsp;</span><span class="c5">//
                        20</span><span class="c4"><br><br></span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Add</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;x, </span><span class="c1">int</span><span
                        class="c4">&nbsp;y) =&gt; x + y;<br><br></span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Multiply</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;x, </span><span class="c1">int</span><span
                        class="c4">&nbsp;y) =&gt; x * y;<br><br></span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">int</span><span class="c4">&nbsp;</span><span
                        class="c7">Operation</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;x, </span><span class="c1">int</span><span class="c4">&nbsp;y);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">&Icirc;n acest caz, delegatul Operation returneaz&#259; un rezultat de tip
        </span><span class="c8 c15">int </span><span class="c8">&#537;i are doi parametri de tip </span><span
            class="c8 c15">int</span><span class="c8">. Deci, orice metod&#259; care returneaz&#259; un </span><span
            class="c8 c15">int </span><span class="c8">&#537;i accept&#259; doi parametri de tip </span><span
            class="c8 c15">int </span><span class="c6">corespunde acestui delegat. &Icirc;n acest exemplu, sunt metodele
            Add &#537;i Multiply. Putem atribui oricare dintre aceste metode variabilei delegat &#537;i le putem
            apela.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Atribuirea unei referin&#539;e la metod&#259;.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Mai sus, variabilei delegat i s-a atribuit direct o metod&#259;. Exist&#259; &#537;i
            un alt mod - crearea unui obiect delegat folosind constructorul, &icirc;n care se transmite metoda
            necesar&#259;:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.ef0426dda9c68fddb8b8b33e7ed7cc84efb10a83"></a><a
        id="t.10"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Operation operation1 = Add;<br>Operation operation2 = </span><span
                        class="c1">new</span><span class="c4">&nbsp;Operation(Add);<br><br></span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Add</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y) =&gt; x + y;<br><br></span><span
                        class="c1">delegate</span><span class="c4">&nbsp;</span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Operation</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;x, </span><span class="c1">int</span><span
                        class="c4">&nbsp;y);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Ambele metode sunt echivalente.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Conformitatea metodelor cu delegatul.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">Dup&#259; cum s-a men&#539;ionat mai sus, metodele sunt conforme cu delegatul
            dac&#259; au acela&#537;i tip de returnare &#537;i acela&#537;i set de parametri. Dar trebuie s&#259;
            &#539;inem cont de modificatorii </span><span class="c16">ref</span><span class="c8">, </span><span
            class="c16">in </span><span class="c8">&#537;i </span><span class="c16">out</span><span class="c6">. De
            exemplu, s&#259; presupunem c&#259; avem un delegat:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.35c41b14b91526461d13c4ab8ab85064d8d30024"></a><a
        id="t.11"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">delegate</span><span class="c4">&nbsp;</span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">SomeDel</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;a, </span><span
                        class="c1">double</span><span class="c4">&nbsp;b);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Acestui delegat &icirc;i corespunde urm&#259;toarea metod&#259;:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.5049317cf8651da394a92a6cb6a063f1bfd03630"></a><a
        id="t.12"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">SomeMethod1</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;g, </span><span class="c1">double</span><span class="c4">&nbsp;n) { }</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Urm&#259;toarele metode NU corespund:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.d2c64930ecd654ffb2251ce248e76dd1f6125357"></a><a
        id="t.13"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">double</span><span class="c4">&nbsp;</span><span
                        class="c7">SomeMethod2</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;g, </span><span class="c1">double</span><span class="c4">&nbsp;n) {
                    </span><span class="c1">return</span><span class="c4">&nbsp;g + n; }<br></span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">SomeMethod3</span><span
                        class="c4">(</span><span class="c1">double</span><span class="c4">&nbsp;n, </span><span
                        class="c1">int</span><span class="c4">&nbsp;g) { }<br></span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">SomeMethod4</span><span class="c4">(</span><span
                        class="c1">ref</span><span class="c4">&nbsp;</span><span class="c1">int</span><span
                        class="c4">&nbsp;g, </span><span class="c1">double</span><span class="c4">&nbsp;n) {
                        }<br></span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">SomeMethod5</span><span class="c4">(</span><span class="c1">out</span><span
                        class="c4">&nbsp;</span><span class="c1">int</span><span class="c4">&nbsp;g, </span><span
                        class="c1">double</span><span class="c4">&nbsp;n) { g = </span><span class="c3">6</span><span
                        class="c4">; }</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">Aici metoda SomeMethod2 are un alt tip de returnare, diferit de tipul delegatului.
            SomeMethod3 are un alt set de parametri. Parametrii SomeMethod4 &#537;i SomeMethod5 sunt, de asemenea,
            diferi&#539;i de parametrii delegatului, deoarece au modificatori </span><span class="c8 c15">ref
        </span><span class="c8">&#537;i </span><span class="c8 c15">out</span><span class="c6">.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Ad&#259;ugarea metodelor la delegat.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">&Icirc;n exemplele de mai sus, variabila delegat indica spre o singur&#259;
            metod&#259;. &Icirc;n realitate, delegatul poate indica spre mai multe metode care au aceea&#537;i
            semn&#259;tur&#259; &#537;i acela&#537;i tip de returnare. Toate metodele din delegat sunt plasate
            &icirc;ntr-o list&#259; special&#259; - lista de apeluri (invocation list). &#536;i c&acirc;nd apel&#259;m
            delegatul, toate metodele din aceast&#259; list&#259; sunt apelate secven&#539;ial. Putem ad&#259;uga mai
            multe metode &icirc;n aceast&#259; list&#259;. Pentru a ad&#259;uga metode la delegat, se folose&#537;te
            operatorul </span><span class="c16">+=</span><span class="c6">:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.9c5ec2a7efcb1ced8032ce14b0c44e9a7148cc87"></a><a
        id="t.14"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message message = Hello;<br>message += HowAreYou; &nbsp;</span><span
                        class="c5">// acum message indic&#259; spre dou&#259; metode</span><span
                        class="c4"><br>message(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">// sunt apelate ambele metode - Hello &#537;i HowAreYou</span><span
                        class="c4"><br><br></span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Hello</span><span class="c4">() =&gt; Console.WriteLine(</span><span
                        class="c13">&quot;Hello&quot;</span><span class="c4">);<br></span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">HowAreYou</span><span
                        class="c4">() =&gt; Console.WriteLine(</span><span class="c13">&quot;How are
                        you?&quot;</span><span class="c4">);<br><br></span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Message</span><span class="c4">();</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">&Icirc;n acest caz, lista de apeluri a delegatului message include dou&#259; metode -
            Hello &#537;i HowAreYou. &#536;i c&acirc;nd apel&#259;m message, sunt apelate ambele metode.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Trebuie men&#539;ionat c&#259; &icirc;n realitate se va crea un nou obiect delegat,
            care va include metodele din copia veche a delegatului &#537;i metoda nou&#259;, iar acest nou obiect
            delegat va fi atribuit variabilei message.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">La ad&#259;ugarea delega&#539;ilor, trebuie s&#259; &#539;inem cont de faptul c&#259;
            putem ad&#259;uga o referin&#539;&#259; la aceea&#537;i metod&#259; de mai multe ori, iar &icirc;n lista de
            apeluri a delegatului vor fi mai multe referin&#539;e la aceea&#537;i metod&#259;. Prin urmare, la apelarea
            delegatului, metoda ad&#259;ugat&#259; va fi apelat&#259; de at&acirc;tea ori c&acirc;t a fost
            ad&#259;ugat&#259;:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.0539a8d78e6c3da25e277d06a9eed551b6241ac7"></a><a
        id="t.15"></a>
    <table class="c0">
        <tr class="c12"></tr>
    </table>
    <p class="c11 c9"><span class="c6"></span></p><a id="t.4feac7ea0a686f25a7eb650f735ff66abbb34189"></a><a
        id="t.16"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message message = Hello;<br>message += HowAreYou;<br>message +=
                        Hello;<br>message += Hello;<br>message();</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Output-ul &icirc;n consol&#259;:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.8cf62d2bef4061149273f94bdd7d446d13b9ba0e"></a><a
        id="t.17"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Hello<br>How are you?<br>Hello<br>Hello</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">Putem elimina metode din delegat folosind operatorul</span><span
            class="c16">&nbsp;-=</span><span class="c6">:</span></p><a
        id="t.0539a8d78e6c3da25e277d06a9eed551b6241ac7"></a><a id="t.18"></a>
    <table class="c0">
        <tr class="c12"></tr>
    </table>
    <p class="c11 c9"><span class="c6"></span></p><a id="t.0fb16cc6c1bf2daf1cb00093f2f7f5eeb9217cf3"></a><a
        id="t.19"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message? message = Hello; <br>message += HowAreYou;<br>message();
                        &nbsp;</span><span class="c5">// sunt apelate toate metodele din message</span><span
                        class="c4"><br>message -= HowAreYou; &nbsp; </span><span class="c5">// elimin&#259;m metoda
                        HowAreYou</span><span class="c4"><br></span><span class="c1">if</span><span
                        class="c4">&nbsp;(message != </span><span class="c1">null</span><span class="c4">) message();
                    </span><span class="c5">// este apelat&#259; metoda Hello</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Trebuie s&#259; men&#539;ion&#259;m c&#259; la eliminarea metodelor din delegat, se
            va crea un nou delegat, care va con&#539;ine &icirc;n lista de apeluri metodele r&#259;mase, mai pu&#539;in
            metoda eliminat&#259;.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">La eliminarea unei metode poate ap&#259;rea situa&#539;ia &icirc;n care delegatul
            s&#259; nu mai con&#539;in&#259; nicio metod&#259;, &#537;i atunci variabila va avea valoarea null. De
            aceea, &icirc;n acest caz, variabila este definit&#259; nu doar ca o variabil&#259; de tip Message, ci anume
        </span><span class="c16">Message?</span><span class="c6">, adic&#259; un tip care poate reprezenta at&acirc;t un
            delegat Message, c&acirc;t &#537;i valoarea null.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">&Icirc;n plus, &icirc;nainte de al doilea apel verific&#259;m variabila pentru
            valoarea null.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">La eliminare, trebuie s&#259; &#539;inem cont de faptul c&#259;, dac&#259; delegatul
            con&#539;ine mai multe referin&#539;e la aceea&#537;i metod&#259;, opera&#539;ia -= &icirc;ncepe
            c&#259;utarea de la sf&acirc;r&#537;itul listei de apeluri &#537;i elimin&#259; doar prima apari&#539;ie
            g&#259;sit&#259;. Dac&#259; o astfel de metod&#259; nu exist&#259; &icirc;n lista de apeluri, opera&#539;ia
            -= nu are niciun efect.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Unirea delega&#539;ilor.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Delega&#539;ii pot fi uni&#539;i &icirc;n al&#539;i delega&#539;i. De exemplu:</span>
    </p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.77f0dab505f170cffdbe3617846f776ff3843da0"></a><a
        id="t.20"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message mes1 = Hello;<br>Message mes2 = HowAreYou;<br>Message mes3 =
                        mes1 + mes2; </span><span class="c5">// Unim delega&#539;ii</span><span class="c4"><br>mes3();
                    </span><span class="c5">// Sunt apelate toate metodele din mes1 &#537;i mes2</span><span
                        class="c4"><br><br></span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Hello</span><span class="c4">() =&gt; Console.WriteLine(</span><span
                        class="c13">&quot;Hello&quot;</span><span class="c4">);<br></span><span
                        class="c1">void</span><span class="c4">&nbsp;</span><span class="c7">HowAreYou</span><span
                        class="c4">() =&gt; Console.WriteLine(</span><span class="c13">&quot;How are
                        you?&quot;</span><span class="c4">);<br><br></span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Message</span><span class="c4">();</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">&Icirc;n acest caz, obiectul mes3 reprezint&#259; unirea delega&#539;ilor mes1
            &#537;i mes2. Unirea delega&#539;ilor &icirc;nseamn&#259; c&#259; lista de apeluri a delegatului mes3 va
            con&#539;ine toate metodele din delega&#539;ii mes1 &#537;i mes2. &#536;i la apelarea delegatului mes3,
            toate aceste metode vor fi apelate simultan.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Apelarea delegatului.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">&Icirc;n exemplele de mai sus, delegatul a fost apelat ca o metod&#259;
            obi&#537;nuit&#259;. Dac&#259; delegatul prime&#537;te parametri, atunci la apelare sunt transmise valorile
            necesare pentru ace&#537;ti parametri:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.5779591e7c249e4b1c56c91baf25034719457a78"></a><a
        id="t.21"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message mes = Hello;<br>mes();<br>Operation op = Add;<br></span><span
                        class="c1">int</span><span class="c4">&nbsp;n = op(</span><span class="c3">3</span><span
                        class="c4">, </span><span class="c3">4</span><span
                        class="c4">);<br>Console.WriteLine(n);<br><br></span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Hello</span><span class="c4">() =&gt;
                        Console.WriteLine(</span><span class="c13">&quot;Hello&quot;</span><span
                        class="c4">);<br></span><span class="c1">int</span><span class="c4">&nbsp;</span><span
                        class="c7">Add</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;x, </span><span class="c1">int</span><span class="c4">&nbsp;y) =&gt; x +
                        y;<br><br></span><span class="c1">delegate</span><span class="c4">&nbsp;</span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Operation</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y);<br></span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Message</span><span class="c4">();</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">O alt&#259; modalitate de a apela delegatul este utilizarea metodei </span><span
            class="c16 c18">Invoke():</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.18becc79ffc709dc91eb5ea43be9c36a3c5c80ee"></a><a
        id="t.22"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message mes = Hello;<br>mes.Invoke(); </span><span class="c5">//
                        Hello</span><span class="c4"><br>Operation op = Add;<br></span><span class="c1">int</span><span
                        class="c4">&nbsp;n = op.Invoke(</span><span class="c3">3</span><span class="c4">, </span><span
                        class="c3">4</span><span class="c4">);<br>Console.WriteLine(n); &nbsp; </span><span
                        class="c5">// 7</span><span class="c4"><br><br></span><span class="c1">void</span><span
                        class="c4">&nbsp;</span><span class="c7">Hello</span><span class="c4">() =&gt;
                        Console.WriteLine(</span><span class="c13">&quot;Hello&quot;</span><span
                        class="c4">);<br></span><span class="c1">int</span><span class="c4">&nbsp;</span><span
                        class="c7">Add</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;x, </span><span class="c1">int</span><span class="c4">&nbsp;y) =&gt; x +
                        y;<br><br></span><span class="c1">delegate</span><span class="c4">&nbsp;</span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Operation</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y);<br></span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">Message</span><span class="c4">();</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Dac&#259; delegatul prime&#537;te parametri, valorile pentru ace&#537;tia sunt
            transmise metodei Invoke.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Trebuie s&#259; &#539;inem cont de faptul c&#259;, dac&#259; delegatul este gol,
            adic&#259; nu are nicio referin&#539;&#259; la metode &icirc;n lista sa de apeluri (deci delegatul este
            null), atunci la apelarea unui astfel de delegat vom primi o excep&#539;ie, a&#537;a cum se
            &icirc;nt&acirc;mpl&#259; &icirc;n exemplul urm&#259;tor:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.715803e332155664f37eb88bd493e165dcf3b44c"></a><a
        id="t.23"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message? mes;<br></span><span class="c5">//mes(); &nbsp; &nbsp; &nbsp;
                        &nbsp;// ! Eroare: delegatul este null</span><span class="c4"><br><br>Operation? op = Add;<br>op
                        -= Add; &nbsp; &nbsp; &nbsp;</span><span class="c5">// delegatul op este gol</span><span
                        class="c4"><br></span><span class="c1">int</span><span class="c4">&nbsp;n = op(</span><span
                        class="c3">3</span><span class="c4">, </span><span class="c3">4</span><span class="c4">); &nbsp;
                        &nbsp; &nbsp; </span><span class="c5">// !Eroare: delegatul este null</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Prin urmare, la apelarea delegatului, este bine s&#259; verific&#259;m dac&#259;
            acesta nu este null. Sau putem folosi metoda Invoke &#537;i operatorul condi&#539;ional null:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.a82f2230cb374c98480e9d51dc62631c86b37603"></a><a
        id="t.24"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Message? mes = </span><span class="c1">null</span><span
                        class="c4">;<br>mes?.Invoke(); &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">// Nu apare
                        nici o eroare, delegatul pur &#537;i simplu nu este apelat</span><span
                        class="c4"><br><br>Operation? op = Add;<br>op -= Add; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c5">// delegatul op este gol</span><span class="c4"><br></span><span
                        class="c1">int</span><span class="c4">? n = op?.Invoke(</span><span class="c3">3</span><span
                        class="c4">, </span><span class="c3">4</span><span class="c4">); &nbsp; </span><span
                        class="c5">// Nu apare nici o eroare, delegatul pur &#537;i simplu nu este apelat, iar n =
                        null</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Dac&#259; delegatul returneaz&#259; o valoare, se va returna valoarea ultimei metode
            din lista de apeluri (dac&#259; lista de apeluri con&#539;ine mai multe metode). De exemplu:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.7411749c64a5f3cbc6f990c54609d25b8ef8a028"></a><a
        id="t.25"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Operation op = Subtract;<br>op += Multiply;<br>op +=
                        Add;<br>Console.WriteLine(op(</span><span class="c3">7</span><span class="c4">, </span><span
                        class="c3">2</span><span class="c4">)); &nbsp; &nbsp;</span><span class="c5">// Add(7,2) =
                        9</span><span class="c4"><br><br></span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Add</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;x, </span><span class="c1">int</span><span
                        class="c4">&nbsp;y) =&gt; x + y;<br></span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Subtract</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;x, </span><span class="c1">int</span><span
                        class="c4">&nbsp;y) =&gt; x - y;<br></span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Multiply</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;x, </span><span class="c1">int</span><span
                        class="c4">&nbsp;y) =&gt; x * y;<br><br></span><span class="c1">delegate</span><span
                        class="c4">&nbsp;</span><span class="c1">int</span><span class="c4">&nbsp;</span><span
                        class="c7">Operation</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;x, </span><span class="c1">int</span><span class="c4">&nbsp;y);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Delega&#539;i generici.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Delega&#539;ii, la fel ca &#537;i alte tipuri, pot fi generici. De exemplu:</span>
    </p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.c8c9da8c37e82a3aaf28d36bff36e278adeb6db5"></a><a
        id="t.26"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Operation&lt;</span><span class="c1">decimal</span><span class="c4">,
                    </span><span class="c1">int</span><span class="c4">&gt; squareOperation = Square;<br></span><span
                        class="c1">decimal</span><span class="c4">&nbsp;result1 = squareOperation(</span><span
                        class="c3">5</span><span class="c4">);<br>Console.WriteLine(result1); &nbsp;</span><span
                        class="c5">// 25</span><span class="c4"><br><br>Operation&lt;</span><span
                        class="c1">int</span><span class="c4">, </span><span class="c1">int</span><span class="c4">&gt;
                        doubleOperation = Double;<br></span><span class="c1">int</span><span class="c4">&nbsp;result2 =
                        doubleOperation(</span><span class="c3">5</span><span
                        class="c4">);<br>Console.WriteLine(result2); &nbsp;</span><span class="c5">// 10</span><span
                        class="c4"><br><br></span><span class="c1">decimal</span><span class="c4">&nbsp;</span><span
                        class="c7">Square</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;n) =&gt; n * n;<br></span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Double</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;n) =&gt; n + n;<br><br></span><span
                        class="c1">delegate</span><span class="c4">&nbsp;T Operation&lt;T, K&gt;(K val);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Aici, delegatul Operation este tipizat cu doi parametri de tip. Parametrul T
            reprezint&#259; tipul valorii returnate. Parametrul K reprezint&#259; tipul parametrului transmis
            delegatului. Astfel, acest delegat corespunde unei metode care prime&#537;te un parametru de orice tip
            &#537;i returneaz&#259; o valoare de orice tip.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Delega&#539;i ca parametri ai metodelor.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Delega&#539;ii pot fi, de asemenea, parametri ai metodelor. Astfel, o metod&#259;
            poate primi alte metode ca parametri. De exemplu:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.dc0e384835fbea19331bcc6618f50ccffcfcb318"></a><a
        id="t.27"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">DoOperation(</span><span class="c3">5</span><span class="c4">,
                    </span><span class="c3">4</span><span class="c4">, Add); &nbsp; &nbsp; &nbsp; &nbsp; </span><span
                        class="c5">// 9</span><span class="c4"><br>DoOperation(</span><span class="c3">5</span><span
                        class="c4">, </span><span class="c3">4</span><span class="c4">, Subtract); &nbsp;
                        &nbsp;</span><span class="c5">// 1</span><span class="c4"><br>DoOperation(</span><span
                        class="c3">5</span><span class="c4">, </span><span class="c3">4</span><span class="c4">,
                        Multiply); &nbsp; &nbsp;</span><span class="c5">// 20</span><span
                        class="c4"><br><br></span><span class="c1">void</span><span class="c4">&nbsp;</span><span
                        class="c7">DoOperation</span><span class="c4">(</span><span class="c1">int</span><span
                        class="c4">&nbsp;a, </span><span class="c1">int</span><span class="c4">&nbsp;b, Operation
                        op)<br>{<br> &nbsp; &nbsp;Console.WriteLine(op(a,b));<br>}<br></span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Add</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y) =&gt; x + y;<br></span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Subtract</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y) =&gt; x - y;<br></span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Multiply</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y) =&gt; x + y;<br><br></span><span
                        class="c1">delegate</span><span class="c4">&nbsp;</span><span class="c1">int</span><span
                        class="c4">&nbsp;</span><span class="c7">Operation</span><span class="c4">(</span><span
                        class="c1">int</span><span class="c4">&nbsp;x, </span><span class="c1">int</span><span
                        class="c4">&nbsp;y);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">Aici, metoda </span><span class="c16">DoOperation </span><span
            class="c6">prime&#537;te ca parametri dou&#259; numere &#537;i o ac&#539;iune sub forma unui delegat
            Operation. &Icirc;n interiorul metodei, apel&#259;m delegatul Operation, transmi&#539;&acirc;ndu-i numerele
            din primii doi parametri.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">La apelarea metodei DoOperation, putem transmite ca al treilea parametru o
            metod&#259; care corespunde delegatului Operation.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c14">Returnarea delega&#539;ilor din metode.</span></p>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">Delega&#539;ii pot fi returna&#539;i din metode. De exemplu:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.dada904a3c15a52b7aa695380cfffa9c84c316f3"></a><a
        id="t.28"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Operation operation =
                        SelectOperation(OperationType.Add);<br>Console.WriteLine(operation(</span><span
                        class="c3">10</span><span class="c4">, </span><span class="c3">4</span><span class="c4">));
                        &nbsp; &nbsp;</span><span class="c5">// 14</span><span class="c4"><br><br>operation =
                        SelectOperation(OperationType.Subtract);<br>Console.WriteLine(operation(</span><span
                        class="c3">10</span><span class="c4">, </span><span class="c3">4</span><span class="c4">));
                        &nbsp; &nbsp;</span><span class="c5">// 6</span><span class="c4"><br><br>operation =
                        SelectOperation(OperationType.Multiply);<br>Console.WriteLine(operation(</span><span
                        class="c3">10</span><span class="c4">, </span><span class="c3">4</span><span class="c4">));
                        &nbsp; &nbsp;</span><span class="c5">// 40</span><span class="c4"><br><br>Operation </span><span
                        class="c7">SelectOperation</span><span class="c4">(OperationType opType)<br>{<br> &nbsp;
                        &nbsp;</span><span class="c1">switch</span><span class="c4">&nbsp;(opType)<br> &nbsp;
                        &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">case</span><span
                        class="c4">&nbsp;OperationType.Add: </span><span class="c1">return</span><span
                        class="c4">&nbsp;Add;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">case</span><span
                        class="c4">&nbsp;OperationType.Subtract: </span><span class="c1">return</span><span
                        class="c4">&nbsp;Subtract;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c1">default</span><span class="c4">: </span><span class="c1">return</span><span
                        class="c4">&nbsp;Multiply;<br> &nbsp; &nbsp;}<br>}<br><br></span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Add</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y) =&gt; x + y;<br></span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Subtract</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y) =&gt; x - y;<br></span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Multiply</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y) =&gt; x * y;<br><br></span><span
                        class="c1">enum</span><span class="c4">&nbsp;OperationType<br>{<br> &nbsp; &nbsp;Add, Subtract,
                        Multiply<br>}<br><br></span><span class="c1">delegate</span><span class="c4">&nbsp;</span><span
                        class="c1">int</span><span class="c4">&nbsp;</span><span class="c7">Operation</span><span
                        class="c4">(</span><span class="c1">int</span><span class="c4">&nbsp;x, </span><span
                        class="c1">int</span><span class="c4">&nbsp;y);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c8">&Icirc;n acest caz, metoda</span><span
            class="c8 c15">&nbsp;SelectOperation()</span><span class="c6">&nbsp;prime&#537;te ca parametru o enumerare
            de tip OperationType. Aceast&#259; enumerare con&#539;ine trei constante, fiecare corespunz&acirc;nd unei
            opera&#539;iuni aritmetice. &Icirc;n metoda SelectOperation, &icirc;n func&#539;ie de valoarea parametrului,
            se returneaz&#259; o anumit&#259; metod&#259;. Deoarece tipul returnat al metodei este delegatul Operation,
            metoda trebuie s&#259; returneze o metod&#259; care corespunde acestui delegat - &icirc;n acest caz,
            metodele Add, Subtract &#537;i Multiply. De exemplu, dac&#259; parametrul metodei SelectOperation este
            OperationType.Add, se returneaz&#259; metoda Add, care efectueaz&#259; adunarea a dou&#259; numere:</span>
    </p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.b26cfc0d45e37a43c1ec032599e0798f4ac3cd3e"></a><a
        id="t.29"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c1">case</span><span class="c4">&nbsp;OperationType.Add: </span><span
                        class="c1">return</span><span class="c4">&nbsp;Add;</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">C&acirc;nd apel&#259;m metoda SelectOperation, putem ob&#539;ine ac&#539;iunea
            dorit&#259; &icirc;n variabila operation:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.9492c1f604a377c3863aef7ad042913de48321ae"></a><a
        id="t.30"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Operation operation = SelectOperation(OperationType.Add);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2"><span class="c6">&#536;i c&acirc;nd apel&#259;m variabila operation, de fapt, se va apela metoda
            ob&#539;inut&#259; din SelectOperation:</span></p>
    <p class="c2 c9"><span class="c6"></span></p><a id="t.317c24bd5538e98e701aed3f29caa38ed96df41f"></a><a
        id="t.31"></a>
    <table class="c0">
        <tr class="c12">
            <td class="c10" colspan="1" rowspan="1">
                <p class="c11"><span class="c4">Operation operation = SelectOperation(OperationType.Add); &nbsp;
                    </span><span class="c5">// Aici operation = Add</span><span
                        class="c4"><br>Console.WriteLine(operation(</span><span class="c3">10</span><span class="c4">,
                    </span><span class="c3">4</span><span class="c4">)); &nbsp; &nbsp;</span><span class="c5">//
                        14</span></p>
            </td>
        </tr>
    </table>
    <p class="c2 c9"><span class="c6"></span></p>
    <p class="c2 c9"><span class="c6"></span></p>
</body>

</html>