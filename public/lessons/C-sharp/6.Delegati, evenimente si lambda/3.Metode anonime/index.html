<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c15 doc-content">
    <h1 class="c10 c16">Metode anonime.</h1>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c11">Cu delega&#539;ii sunt str&acirc;ns legate</span><span class="c12">&nbsp;metodele
            anonime</span><span class="c2">. Metodele anonime sunt utilizate pentru a crea instan&#539;e de
            delega&#539;i.</span></p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c11">Definirea metodelor anonime &icirc;ncepe cu cuv&acirc;ntul cheie </span><span
            class="c12">delegate</span><span class="c2">, dup&#259; care urmeaz&#259; &icirc;n paranteze lista de
            parametri &#537;i corpul metodei &icirc;n acolade:</span></p>
    <p class="c6"><span class="c2"></span></p><a id="t.dad89c1cb2fc31a6b29ae02ba2b467e72e3b053e"></a><a id="t.0"></a>
    <table class="c0">
        <tr class="c8">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c7"><span class="c5">delegate</span><span class="c1">(parametri)<br>{<br> &nbsp;
                        &nbsp;</span><span class="c4">// instruc&#539;iuni</span><span class="c1"><br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">De exemplu:</span></p>
    <p class="c6"><span class="c2"></span></p><a id="t.8e01b0413c550dd300c1a781859fbfe46c49ccd0"></a><a id="t.1"></a>
    <table class="c0">
        <tr class="c8">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">MessageHandler handler = </span><span class="c5">delegate</span><span
                        class="c1">&nbsp;(</span><span class="c5">string</span><span class="c1">&nbsp;mes)<br>{<br>
                        &nbsp; &nbsp;Console.WriteLine(mes);<br>};<br>handler(</span><span class="c14">&quot;hello
                        world!&quot;</span><span class="c1">);<br><br></span><span class="c5">delegate</span><span
                        class="c1">&nbsp;</span><span class="c5">void</span><span class="c1">&nbsp;</span><span
                        class="c13">MessageHandler</span><span class="c1">(</span><span class="c5">string</span><span
                        class="c1">&nbsp;message);</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">Metoda anonim&#259; nu poate exista de una singur&#259;, ea este utilizat&#259;
            pentru ini&#539;ializarea unei instan&#539;e de delegat, ca &icirc;n acest caz variabila handler
            reprezint&#259; o metod&#259; anonim&#259;. &#536;i prin aceast&#259; variabil&#259; delegat se poate apela
            metoda anonim&#259;.</span></p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">Un alt exemplu de metode anonime este transmiterea ca argument pentru un parametru
            care reprezint&#259; un delegat:</span></p>
    <p class="c6"><span class="c2"></span></p><a id="t.84770e2f027b3fba1bfdc1e216968bc70ed72057"></a><a id="t.2"></a>
    <table class="c0">
        <tr class="c8">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">ShowMessage(</span><span class="c14">&quot;hello!&quot;</span><span
                        class="c1">, </span><span class="c5">delegate</span><span class="c1">&nbsp;(</span><span
                        class="c5">string</span><span class="c1">&nbsp;mes)<br>{<br> &nbsp;
                        &nbsp;Console.WriteLine(mes);<br>});<br><br></span><span class="c5">static</span><span
                        class="c1">&nbsp;</span><span class="c5">void</span><span class="c1">&nbsp;</span><span
                        class="c13">ShowMessage</span><span class="c1">(</span><span class="c5">string</span><span
                        class="c1">&nbsp;message, MessageHandler handler)<br>{<br> &nbsp;
                        &nbsp;handler(message);<br>}<br><br></span><span class="c5">delegate</span><span
                        class="c1">&nbsp;</span><span class="c5">void</span><span class="c1">&nbsp;</span><span
                        class="c13">MessageHandler</span><span class="c1">(</span><span class="c5">string</span><span
                        class="c1">&nbsp;message);</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">Dac&#259; metoda anonim&#259; utilizeaz&#259; parametri, atunci ace&#537;tia trebuie
            s&#259; corespund&#259; parametrilor delegatului. Dac&#259; pentru metoda anonim&#259; nu sunt necesari
            parametri, atunci parantezele cu parametri sunt omise. Astfel, chiar dac&#259; delegatul prime&#537;te mai
            mul&#539;i parametri, &icirc;n metoda anonim&#259; se pot omite complet parametrii:</span></p>
    <p class="c6"><span class="c2"></span></p><a id="t.0574b5fad4c148725e61fb2191bd513f01d5d396"></a><a id="t.3"></a>
    <table class="c0">
        <tr class="c8">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">MessageHandler handler = </span><span class="c5">delegate</span><span
                        class="c1"><br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c14">&quot;metoda
                        anonim&#259;&quot;</span><span class="c1">);<br>};<br>handler(</span><span
                        class="c14">&quot;hello world!&quot;</span><span class="c1">); &nbsp; &nbsp;</span><span
                        class="c4">// metoda anonim&#259;</span><span class="c1"><br><br></span><span
                        class="c5">delegate</span><span class="c1">&nbsp;</span><span class="c5">void</span><span
                        class="c1">&nbsp;</span><span class="c13">MessageHandler</span><span class="c1">(</span><span
                        class="c5">string</span><span class="c1">&nbsp;message);</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">Deci, dac&#259; metoda anonim&#259; con&#539;ine parametri, ace&#537;tia trebuie
            s&#259; corespund&#259; parametrilor delegatului. Sau metoda anonim&#259; poate s&#259; nu con&#539;in&#259;
            deloc parametri, caz &icirc;n care corespunde oric&#259;rui delegat care are acela&#537;i tip de valoare
            returnat&#259;.</span></p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c11">Parametrii metodei anonime nu pot fi omisi, dac&#259; unul sau mai mul&#539;i
            parametri sunt defini&#539;i cu modificatorul </span><span class="c12">out</span><span class="c2">.</span>
    </p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">De asemenea, la fel ca metodele obi&#537;nuite, metodele anonime pot returna un
            rezultat:</span></p>
    <p class="c6"><span class="c2"></span></p><a id="t.6cb2dd1df7e1209ed7984b4190f1746c29e834d7"></a><a id="t.4"></a>
    <table class="c0">
        <tr class="c8">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">Operation operation = </span><span class="c5">delegate</span><span
                        class="c1">&nbsp;(</span><span class="c5">int</span><span class="c1">&nbsp;x, </span><span
                        class="c5">int</span><span class="c1">&nbsp;y)<br>{<br> &nbsp; &nbsp;</span><span
                        class="c5">return</span><span class="c1">&nbsp;x + y;<br>};<br></span><span
                        class="c5">int</span><span class="c1">&nbsp;result = operation(</span><span
                        class="c9">4</span><span class="c1">, </span><span class="c9">5</span><span
                        class="c1">);<br>Console.WriteLine(result); &nbsp; &nbsp; &nbsp; </span><span class="c4">//
                        9</span><span class="c1"><br><br></span><span class="c5">delegate</span><span
                        class="c1">&nbsp;</span><span class="c5">int</span><span class="c1">&nbsp;</span><span
                        class="c13">Operation</span><span class="c1">(</span><span class="c5">int</span><span
                        class="c1">&nbsp;x, </span><span class="c5">int</span><span class="c1">&nbsp;y);</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">Metoda anonim&#259; are acces la toate variabilele definite &icirc;n codul
            exterior:</span></p>
    <p class="c6"><span class="c2"></span></p><a id="t.0eaf5658e32a35371efc2423443bdfb6e2825410"></a><a id="t.5"></a>
    <table class="c0">
        <tr class="c8">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c7"><span class="c5">int</span><span class="c1">&nbsp;z = </span><span
                        class="c9">8</span><span class="c1">;<br>Operation operation = </span><span
                        class="c5">delegate</span><span class="c1">&nbsp;(</span><span class="c5">int</span><span
                        class="c1">&nbsp;x, </span><span class="c5">int</span><span class="c1">&nbsp;y)<br>{<br> &nbsp;
                        &nbsp;</span><span class="c5">return</span><span class="c1">&nbsp;x + y +
                        z;<br>};<br></span><span class="c5">int</span><span class="c1">&nbsp;result =
                        operation(</span><span class="c9">4</span><span class="c1">, </span><span
                        class="c9">5</span><span class="c1">);<br>Console.WriteLine(result); &nbsp; &nbsp; &nbsp;
                    </span><span class="c4">// 17</span><span class="c1"><br><br></span><span
                        class="c5">delegate</span><span class="c1">&nbsp;</span><span class="c5">int</span><span
                        class="c1">&nbsp;</span><span class="c13">Operation</span><span class="c1">(</span><span
                        class="c5">int</span><span class="c1">&nbsp;x, </span><span class="c5">int</span><span
                        class="c1">&nbsp;y);</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c10"><span class="c2">&Icirc;n ce situa&#539;ii se utilizeaz&#259; metodele anonime? C&acirc;nd trebuie
            s&#259; definim o ac&#539;iune unic&#259;, care nu are multe instruc&#539;iuni &#537;i nu este
            utilizat&#259; &icirc;n alt&#259; parte. &Icirc;n special, ele pot fi utilizate pentru gestionarea
            evenimentelor, care vor fi discutate mai departe.</span></p>
</body>

</html>