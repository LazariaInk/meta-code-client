<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c17 doc-content">
    <h1 class="c9 c3 c19">Delegații Action, Predicateși Func.</h1>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">&Icirc;n .NET exist&#259; c&acirc;&#539;iva delega&#539;i &icirc;ncorpora&#539;i care
            sunt utiliza&#539;i &icirc;n diverse situa&#539;ii. Cei mai utiliza&#539;i, cu care se &icirc;nt&acirc;lnesc
            adesea, sunt </span><span class="c8">Action</span><span class="c1">, </span><span class="c8">Predicate
        </span><span class="c1">&#537;i </span><span class="c8">Func</span><span class="c3 c1">.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c3 c14">Action.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">Delegatul </span><span class="c8">Action </span><span class="c1">reprezint&#259; o
            anumit&#259; ac&#539;iune care nu returneaz&#259; nimic, adic&#259; are ca tip de returnare </span><span
            class="c8">void</span><span class="c3 c1">:</span></p>
    <p class="c0"><span class="c3 c1"></span></p><a id="t.ffd5a79031857960cbe1555a9dcf13ba3efbaf7a"></a><a id="t.0"></a>
    <table class="c15">
        <tr class="c10">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c4"><span class="c6">public</span><span class="c2">&nbsp;</span><span
                        class="c6">delegate</span><span class="c2">&nbsp;</span><span class="c6">void</span><span
                        class="c2">&nbsp;</span><span class="c12">Action</span><span class="c2">()<br></span><span
                        class="c6">public</span><span class="c2">&nbsp;</span><span class="c6">delegate</span><span
                        class="c2">&nbsp;</span><span class="c6">void</span><span
                        class="c2">&nbsp;Action&lt;</span><span class="c6">in</span><span class="c2">&nbsp;T&gt;(T
                        obj)</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">Acest delegat are mai multe versiuni supra&icirc;nc&#259;rcate. Fiecare versiune
            accept&#259; un num&#259;r diferit de parametri: de la</span><span class="c1 c5">&nbsp;Action&lt;in T1&gt;
        </span><span class="c1">p&acirc;n&#259; la </span><span class="c1 c5">Action&lt;in T1, in T2,...in
            T16&gt;</span><span class="c3 c1">. Astfel, se pot transmite p&acirc;n&#259; la 16 valori c&#259;tre
            metod&#259;.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c3 c1">De obicei, acest delegat este transmis ca parametru al metodei &#537;i prevede
            apelarea unor ac&#539;iuni specifice &icirc;n r&#259;spuns la anumite ac&#539;iuni care au avut loc. De
            exemplu:</span></p>
    <p class="c0"><span class="c3 c1"></span></p><a id="t.0539a8d78e6c3da25e277d06a9eed551b6241ac7"></a><a id="t.1"></a>
    <table class="c15">
        <tr class="c10"></tr>
    </table>
    <p class="c4 c16"><span class="c3 c1"></span></p><a id="t.254aab7a5f8dc352d12a9ddd349e4e625323352b"></a><a
        id="t.2"></a>
    <table class="c15">
        <tr class="c10">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c4"><span class="c2">DoOperation(</span><span class="c7">10</span><span class="c2">,
                    </span><span class="c7">6</span><span class="c2">, Add); &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c13">// 10 + 6 = 16</span><span class="c2"><br>DoOperation(</span><span
                        class="c7">10</span><span class="c2">, </span><span class="c7">6</span><span class="c2">,
                        Multiply); &nbsp; </span><span class="c13">// 10 * 6 = 60</span><span
                        class="c2"><br><br></span><span class="c6">void</span><span class="c2">&nbsp;</span><span
                        class="c12">DoOperation</span><span class="c2">(</span><span class="c6">int</span><span
                        class="c2">&nbsp;a, </span><span class="c6">int</span><span class="c2">&nbsp;b,
                        Action&lt;</span><span class="c6">int</span><span class="c2">, </span><span
                        class="c6">int</span><span class="c2">&gt; op) =&gt; op(a, b);<br><br></span><span
                        class="c6">void</span><span class="c2">&nbsp;</span><span class="c12">Add</span><span
                        class="c2">(</span><span class="c6">int</span><span class="c2">&nbsp;x, </span><span
                        class="c6">int</span><span class="c2">&nbsp;y) =&gt; Console.WriteLine(</span><span
                        class="c18">$&quot;{x} + {y} = {x + y}&quot;</span><span class="c2">);<br></span><span
                        class="c6">void</span><span class="c2">&nbsp;</span><span class="c12">Multiply</span><span
                        class="c2">(</span><span class="c6">int</span><span class="c2">&nbsp;x, </span><span
                        class="c6">int</span><span class="c2">&nbsp;y) =&gt; Console.WriteLine(</span><span
                        class="c18">$&quot;{x} * {y} = {x * y}&quot;</span><span class="c2">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c3 c14">Predicate.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">Delegatul </span><span class="c1 c5">Predicate&lt;T&gt;</span><span
            class="c1">&nbsp;accept&#259; un singur parametru &#537;i returneaz&#259; o valoare de tip </span><span
            class="c8">bool</span><span class="c3 c1">:</span></p>
    <p class="c0"><span class="c3 c1"></span></p><a id="t.87382d526f0cf1308a72a5cc61e2e56ffbbd406b"></a><a id="t.3"></a>
    <table class="c15">
        <tr class="c10">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c4"><span class="c6">delegate</span><span class="c2">&nbsp;</span><span
                        class="c6">bool</span><span class="c2">&nbsp;Predicate&lt;</span><span class="c6">in</span><span
                        class="c2">&nbsp;T&gt;(T obj);</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c1 c3"></span></p>
    <p class="c9"><span class="c1">De obicei, este utilizat pentru compararea sau potrivirea unui anumit obiect T cu o
            anumit&#259; condi&#539;ie. Ca rezultat, returneaz&#259; valoarea </span><span class="c1 c5">true
        </span><span class="c1">dac&#259; condi&#539;ia este &icirc;ndeplinit&#259; &#537;i </span><span
            class="c1 c5">false </span><span class="c3 c1">dac&#259; nu este &icirc;ndeplinit&#259;:</span></p>
    <p class="c0"><span class="c3 c1"></span></p><a id="t.ff4e7e884a30117a0e02aa47b4ecf2dc6fa30ffc"></a><a id="t.4"></a>
    <table class="c15">
        <tr class="c10">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c4"><span class="c2">Predicate&lt;</span><span class="c6">int</span><span class="c2">&gt;
                        isPositive = (</span><span class="c6">int</span><span class="c2">&nbsp;x) =&gt; x &gt;
                    </span><span class="c7">0</span><span class="c2">;<br><br>Console.WriteLine(isPositive(</span><span
                        class="c7">20</span><span class="c2">));<br>Console.WriteLine(isPositive(</span><span
                        class="c7">-20</span><span class="c2">));</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c3 c1">&Icirc;n acest caz, returneaz&#259; true sau false &icirc;n func&#539;ie de faptul
            dac&#259; num&#259;rul este mai mare sau mai mic dec&acirc;t zero.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c3 c14">Func.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">Un alt delegat comun este </span><span class="c8">Func</span><span class="c1">.
            Acesta returneaz&#259; rezultatul unei ac&#539;iuni &#537;i poate accepta parametri. Are, de asemenea,
            diverse forme: de la</span><span class="c1 c5">&nbsp;Func&lt;out T&gt;()</span><span class="c1">, unde T
            este tipul valorii returnate, p&acirc;n&#259; la</span><span class="c1 c5">&nbsp;Func&lt;in T1, in T2,...in
            T16</span><span class="c1">, </span><span class="c1 c5">out TResult&gt;()</span><span class="c3 c1">,
            adic&#259; poate accepta p&acirc;n&#259; la 16 parametri.</span></p>
    <p class="c0"><span class="c3 c1"></span></p><a id="t.2b7fc3a2ad595ec4936cd92d7324e89484ffe66c"></a><a id="t.5"></a>
    <table class="c15">
        <tr class="c10">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c4"><span class="c2">TResult Func&lt;</span><span class="c6">out</span><span
                        class="c2">&nbsp;TResult&gt;()<br>TResult Func&lt;</span><span class="c6">in</span><span
                        class="c2">&nbsp;T, </span><span class="c6">out</span><span class="c2">&nbsp;TResult&gt;(T
                        arg)<br>TResult Func&lt;</span><span class="c6">in</span><span class="c2">&nbsp;T1, </span><span
                        class="c6">in</span><span class="c2">&nbsp;T2, </span><span class="c6">out</span><span
                        class="c2">&nbsp;TResult&gt;(T1 arg1, T2 arg2)<br>TResult Func&lt;</span><span
                        class="c6">in</span><span class="c2">&nbsp;T1, </span><span class="c6">in</span><span
                        class="c2">&nbsp;T2, </span><span class="c6">in</span><span class="c2">&nbsp;T3, </span><span
                        class="c6">out</span><span class="c2">&nbsp;TResult&gt;(T1 arg1, T2 arg2, T3 arg3)<br>TResult
                        Func&lt;</span><span class="c6">in</span><span class="c2">&nbsp;T1, </span><span
                        class="c6">in</span><span class="c2">&nbsp;T2, </span><span class="c6">in</span><span
                        class="c2">&nbsp;T3, </span><span class="c6">in</span><span class="c2">&nbsp;T4, </span><span
                        class="c6">out</span><span class="c2">&nbsp;TResult&gt;(T1 arg1, T2 arg2, T3 arg3, T4
                        arg4)<br></span><span class="c13">//...........................................</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c3 c1">Acest delegat este, de asemenea, utilizat frecvent ca parametru &icirc;n
            metode:</span></p>
    <p class="c0"><span class="c3 c1"></span></p><a id="t.b88250fc98f138723f7712423a3f23680b365fba"></a><a id="t.6"></a>
    <table class="c15">
        <tr class="c10">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c4"><span class="c6">int</span><span class="c2">&nbsp;result1 = DoOperation(</span><span
                        class="c7">6</span><span class="c2">, DoubleNumber); </span><span class="c13">// 12</span><span
                        class="c2"><br>Console.WriteLine(result1);<br><br></span><span class="c6">int</span><span
                        class="c2">&nbsp;result2 = DoOperation(</span><span class="c7">6</span><span class="c2">,
                        SquareNumber); </span><span class="c13">// 36</span><span
                        class="c2"><br>Console.WriteLine(result2);<br><br></span><span class="c6">int</span><span
                        class="c2">&nbsp;</span><span class="c12">DoOperation</span><span class="c2">(</span><span
                        class="c6">int</span><span class="c2">&nbsp;n, Func&lt;</span><span class="c6">int</span><span
                        class="c2">, </span><span class="c6">int</span><span class="c2">&gt; operation) =&gt;
                        operation(n);<br></span><span class="c6">int</span><span class="c2">&nbsp;</span><span
                        class="c12">DoubleNumber</span><span class="c2">(</span><span class="c6">int</span><span
                        class="c2">&nbsp;n) =&gt; </span><span class="c7">2</span><span class="c2">&nbsp;*
                        n;<br></span><span class="c6">int</span><span class="c2">&nbsp;</span><span
                        class="c12">SquareNumber</span><span class="c2">(</span><span class="c6">int</span><span
                        class="c2">&nbsp;n) =&gt; n * n;</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">Metoda</span><span class="c1 c5">&nbsp;DoOperation() </span><span
            class="c1">accept&#259; ca parametru un delegat </span><span class="c1 c5">Func&lt;int, int&gt;</span><span
            class="c1">, adic&#259; o referin&#539;&#259; la o metod&#259; care accept&#259; un num&#259;r de tip
        </span><span class="c1 c5">int </span><span class="c1">&#537;i returneaz&#259; tot un num&#259;r de tip
        </span><span class="c1 c5">int</span><span class="c3 c1">.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">La primul apel al metodei</span><span class="c1 c5">&nbsp;DoOperation()</span><span
            class="c3 c1">, i se transmite o referin&#539;&#259; la metoda DoubleNumber, care dubleaz&#259;
            num&#259;rul. &Icirc;n al doilea caz, i se transmite metoda SquareNumber - o metod&#259; care accept&#259;
            un parametru de tip int &#537;i returneaz&#259; rezultatul ca valoare de tip int.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c3 c1">Un alt exemplu:</span></p>
    <p class="c0"><span class="c3 c1"></span></p><a id="t.503d1ec1e977bce9735ebc85d6735688d4749f4c"></a><a id="t.7"></a>
    <table class="c15">
        <tr class="c10">
            <td class="c11" colspan="1" rowspan="1">
                <p class="c4"><span class="c2">Func&lt;</span><span class="c6">int</span><span class="c2">, </span><span
                        class="c6">int</span><span class="c2">, </span><span class="c6">string</span><span
                        class="c2">&gt; createString = (a, b) =&gt; </span><span
                        class="c18">$&quot;{a}{b}&quot;</span><span
                        class="c2">;<br>Console.WriteLine(createString(</span><span class="c7">1</span><span
                        class="c2">, </span><span class="c7">5</span><span class="c2">)); &nbsp;</span><span
                        class="c13">// 15</span><span class="c2"><br>Console.WriteLine(createString(</span><span
                        class="c7">3</span><span class="c2">, </span><span class="c7">5</span><span class="c2">));
                        &nbsp;</span><span class="c13">// 35</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3 c1"></span></p>
    <p class="c9"><span class="c1">Aici, variabila createString reprezint&#259; o expresie lambda care accept&#259;
            dou&#259; numere de tip int &#537;i returneaz&#259; un &#537;ir, adic&#259; reprezint&#259; un
            delegat</span><span class="c1 c5">&nbsp;Func&lt;int, int, string&gt;</span><span class="c3 c1">.</span></p>
    <p class="c0"><span class="c3 c1"></span></p>
</body>

</html>