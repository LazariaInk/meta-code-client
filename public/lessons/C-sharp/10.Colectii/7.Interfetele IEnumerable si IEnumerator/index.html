<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c17 doc-content">
    <h1 class="c8 c4">Interfețele IEnumerable și IEnumerator.</h1>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">A&#537;a cum am v&#259;zut, baza pentru majoritatea colec&#539;iilor este
            implementarea interfe&#539;elor IEnumerable &#537;i IEnumerator. Datorit&#259; acestei implement&#259;ri,
            putem parcurge obiectele &icirc;ntr-un ciclu foreach:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.e29f3ee48977a951672f5042e034ddb6fc2fb473"></a><a id="t.0"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">foreach</span><span class="c1">(</span><span class="c7">var</span><span
                        class="c1">&nbsp;item </span><span class="c7">in</span><span
                        class="c1">&nbsp;enumerabil_object)<br>{<br> &nbsp; &nbsp; <br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">Colec&#539;ia care poate fi parcurs&#259; trebuie s&#259; implementeze interfa&#539;a
            IEnumerable.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">Interfa&#539;a IEnumerable are o metod&#259; care returneaz&#259; o
            referin&#539;&#259; la o alt&#259; interfa&#539;&#259; - enumeratorul:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.1fbffbc50c4c429a4fbfa83ab8e4c58e8c7bcbe1"></a><a id="t.1"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">public</span><span class="c1">&nbsp;</span><span
                        class="c7">interface</span><span class="c1">&nbsp;</span><span
                        class="c10">IEnumerable</span><span class="c1"><br>{<br> &nbsp; &nbsp;IEnumerator </span><span
                        class="c10">GetEnumerator</span><span class="c1">();<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">Interfa&#539;a IEnumerator define&#537;te func&#539;ionalitatea pentru parcurgerea
            obiectelor interne din container:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.50cca48669dbd2a4f30381615d5655ea61b51f55"></a><a id="t.2"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">public</span><span class="c1">&nbsp;</span><span
                        class="c7">interface</span><span class="c1">&nbsp;</span><span
                        class="c10">IEnumerator</span><span class="c1"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c7">bool</span><span class="c1">&nbsp;</span><span class="c10">MoveNext</span><span
                        class="c1">(); </span><span class="c13">// mut&#259; la urm&#259;toarea pozi&#539;ie &icirc;n
                        containerul de elemente</span><span class="c1"><br> &nbsp; &nbsp;</span><span
                        class="c7">object</span><span class="c1">&nbsp;Current {</span><span class="c7">get</span><span
                        class="c1">;} &nbsp;</span><span class="c13">// elementul curent din container</span><span
                        class="c1"><br> &nbsp; &nbsp;</span><span class="c7">void</span><span
                        class="c1">&nbsp;</span><span class="c10">Reset</span><span class="c1">(); </span><span
                        class="c13">// reseteaz&#259; la &icirc;nceputul containerului</span><span
                        class="c1"><br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">Metoda </span><span class="c5">MoveNext()</span><span class="c3">&nbsp;mut&#259;
            cursorul c&#259;tre elementul curent la urm&#259;toarea pozi&#539;ie din secven&#539;&#259;. Dac&#259;
            secven&#539;a nu s-a terminat, returneaz&#259; true. Dac&#259; secven&#539;a s-a terminat, returneaz&#259;
            false.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">Proprietatea </span><span class="c5">Current </span><span class="c3">returneaz&#259;
            obiectul din secven&#539;&#259; c&#259;tre care este mutat cursorul.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">Metoda</span><span class="c5">&nbsp;Reset() </span><span class="c3">reseteaz&#259;
            cursorul pozi&#539;iei la pozi&#539;ia ini&#539;ial&#259;.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">Modul exact &icirc;n care se mut&#259; cursorul &#537;i cum se ob&#539;in elementele
            depinde de implementarea interfe&#539;ei. &Icirc;n diverse implement&#259;ri, logica poate fi
            construit&#259; diferit.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">De exemplu, f&#259;r&#259; a folosi ciclul foreach, putem parcurge un array folosind
            interfa&#539;a </span><span class="c11 c18">IEnumerator</span><span class="c3">:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.ddf634451f198327ddf17c4f21a932941515a272"></a><a id="t.3"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">using</span><span
                        class="c1">&nbsp;System.Collections;<br><br></span><span class="c7">string</span><span
                        class="c1">[] people = {</span><span class="c6">&quot;Tom&quot;</span><span class="c1">,
                    </span><span class="c6">&quot;Sam&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Bob&quot;</span><span class="c1">};<br><br>IEnumerator peopleEnumerator =
                        people.GetEnumerator(); </span><span class="c13">// ob&#539;inem IEnumerator</span><span
                        class="c1"><br></span><span class="c7">while</span><span
                        class="c1">&nbsp;(peopleEnumerator.MoveNext()) &nbsp; </span><span class="c13">//
                        p&acirc;n&#259; c&acirc;nd returneaz&#259; false</span><span class="c1"><br>{<br> &nbsp;
                        &nbsp;</span><span class="c7">string</span><span class="c1">&nbsp;item = (</span><span
                        class="c7">string</span><span class="c1">)peopleEnumerator.Current; </span><span class="c13">//
                        ob&#539;inem elementul la pozi&#539;ia curent&#259;</span><span class="c1"><br> &nbsp;
                        &nbsp;Console.WriteLine(item);<br>}<br>peopleEnumerator.Reset(); </span><span class="c13">//
                        reset&#259;m cursorul la &icirc;nceputul array-ului</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c16">Implementarea IEnumerable &#537;i IEnumerator.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">S&#259; vedem o implementare simpl&#259; a IEnumerable printr-un exemplu:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.463d78e759500268cfb90d8071376c8b4a5532a7"></a><a id="t.4"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">using</span><span class="c1">&nbsp;System.Collections;<br><br>Week week
                        = </span><span class="c7">new</span><span class="c1">&nbsp;Week();<br></span><span
                        class="c7">foreach</span><span class="c1">&nbsp;(</span><span class="c7">var</span><span
                        class="c1">&nbsp;day </span><span class="c7">in</span><span class="c1">&nbsp;week)<br>{<br>
                        &nbsp; &nbsp;Console.WriteLine(day);<br>}<br><br></span><span class="c7">class</span><span
                        class="c1">&nbsp;</span><span class="c10">Week</span><span class="c1">&nbsp;: </span><span
                        class="c10">IEnumerable</span><span class="c1"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c7">string</span><span class="c1">[] days = { </span><span
                        class="c6">&quot;Monday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Tuesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Wednesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Thursday&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span
                        class="c6">&quot;Friday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Saturday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Sunday&quot;</span><span class="c1">&nbsp;};<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;IEnumerator </span><span
                        class="c10">GetEnumerator</span><span class="c1">() =&gt; days.GetEnumerator();<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">&Icirc;n acest caz, clasa Week, care reprezint&#259; s&#259;pt&#259;m&acirc;na
            &#537;i stocheaz&#259; toate zilele s&#259;pt&#259;m&acirc;nii, implementeaz&#259; interfa&#539;a
        </span><span class="c11 c18">IEnumerable</span><span class="c11">. Cu toate acestea, aici am procedat foarte
            simplu - &icirc;n loc de a implementa IEnumerator, return&#259;m pur &#537;i simplu &icirc;n metoda
        </span><span class="c11">GetEnumerator </span><span class="c11">un obiect </span><span
            class="c11 c18">IEnumerator </span><span class="c3">pentru array.</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.536678b04cc1f4cbc354360ef84736e97c02450c"></a><a id="t.5"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">public</span><span class="c1">&nbsp;IEnumerator </span><span
                        class="c10">GetEnumerator</span><span class="c1">() =&gt; days.GetEnumerator();</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">Datorit&#259; acestui lucru, putem parcurge toate zilele s&#259;pt&#259;m&acirc;nii
            &icirc;ntr-un ciclu foreach.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">Totodat&#259;, merit&#259; men&#539;ionat c&#259; pentru a parcurge colec&#539;ia
            prin foreach, &icirc;n principiu nu este obligatoriu s&#259; implement&#259;m interfa&#539;a IEnumerable.
            Este suficient s&#259; definim &icirc;n clas&#259; o metod&#259; public&#259; </span><span
            class="c5">GetEnumerator </span><span class="c3">care s&#259; returneze un obiect IEnumerator. De
            exemplu:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.84690a4a5301720b27ddd2d014673fbdf5f209ff"></a><a id="t.6"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">class</span><span class="c1">&nbsp;</span><span
                        class="c10">Week</span><span class="c1"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c7">string</span><span class="c1">[] days = { </span><span
                        class="c6">&quot;Monday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Tuesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Wednesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Thursday&quot;</span><span class="c1">, <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c6">&quot;Friday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Saturday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Sunday&quot;</span><span class="c1">&nbsp;};<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;IEnumerator </span><span
                        class="c10">GetEnumerator</span><span class="c1">() =&gt; days.GetEnumerator();<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">Cu toate acestea, aceasta a fost destul de simplu - folosim pur &#537;i simplu
            enumeratorul array-ului deja existent. Cu toate acestea, este posibil s&#259; fie necesar s&#259; definim
            propria noastr&#259; logic&#259; de parcurgere a obiectelor. Pentru aceasta, implement&#259;m interfa&#539;a
        </span><span class="c5">IEnumerator</span><span class="c3">:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.911a60d7d59c4101983635e59458b57b1d1a2cee"></a><a id="t.7"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">using</span><span
                        class="c1">&nbsp;System.Collections;<br><br></span><span class="c7">class</span><span
                        class="c1">&nbsp;</span><span class="c10">WeekEnumerator</span><span class="c1">&nbsp;:
                    </span><span class="c10">IEnumerator</span><span class="c1"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c7">string</span><span class="c1">[] days;<br> &nbsp; &nbsp;</span><span
                        class="c7">int</span><span class="c1">&nbsp;position = </span><span class="c9">-1</span><span
                        class="c1">;<br> &nbsp; &nbsp;</span><span class="c7">public</span><span
                        class="c1">&nbsp;</span><span class="c10">WeekEnumerator</span><span class="c1">(</span><span
                        class="c7">string</span><span class="c1">[] days) =&gt; </span><span class="c7">this</span><span
                        class="c1">.days = days;<br> &nbsp; &nbsp;</span><span class="c7">public</span><span
                        class="c1">&nbsp;</span><span class="c7">object</span><span class="c1">&nbsp;Current<br> &nbsp;
                        &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">get</span><span class="c1"><br>
                        &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">if</span><span class="c1">&nbsp;(position == </span><span class="c9">-1</span><span
                        class="c1">&nbsp;|| position &gt;= days.Length)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp;</span><span class="c7">throw</span><span class="c1">&nbsp;</span><span
                        class="c7">new</span><span class="c1">&nbsp;ArgumentException();<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp;</span><span class="c7">return</span><span class="c1">&nbsp;days[position];<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;</span><span class="c7">bool</span><span
                        class="c1">&nbsp;</span><span class="c10">MoveNext</span><span class="c1">()<br> &nbsp;
                        &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">if</span><span
                        class="c1">&nbsp;(position &lt; days.Length - </span><span class="c9">1</span><span
                        class="c1">)<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;position++;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">return</span><span class="c1">&nbsp;</span><span class="c7">true</span><span
                        class="c1">;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">else</span><span class="c1"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c7">return</span><span class="c1">&nbsp;</span><span
                        class="c7">false</span><span class="c1">;<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;</span><span class="c7">void</span><span
                        class="c1">&nbsp;</span><span class="c10">Reset</span><span class="c1">() =&gt; position =
                    </span><span class="c9">-1</span><span class="c1">;<br>}<br><br></span><span
                        class="c7">class</span><span class="c1">&nbsp;</span><span class="c10">Week</span><span
                        class="c1"><br>{<br> &nbsp; &nbsp;</span><span class="c7">string</span><span class="c1">[] days
                        = { </span><span class="c6">&quot;Monday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Tuesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Wednesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Thursday&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c6">&quot;Friday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Saturday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Sunday&quot;</span><span class="c1">&nbsp;};<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;IEnumerator </span><span
                        class="c10">GetEnumerator</span><span class="c1">() =&gt; </span><span
                        class="c7">new</span><span class="c1">&nbsp;WeekEnumerator(days);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">Acum clasa Week folose&#537;te enumeratorul propriu, WeekEnumerator, care
            implementeaz&#259; IEnumerator.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">Punctul cheie &icirc;n implementarea enumeratorului este mutarea cursorului pe
            element. &Icirc;n clasa WeekEnumerator, pentru stocarea pozi&#539;iei curente este definit&#259; variabila
        </span><span class="c11 c18">position</span><span class="c3">. Trebuie s&#259; avem &icirc;n vedere c&#259; la
            &icirc;nceput (&icirc;n starea ini&#539;ial&#259;) cursorul trebuie s&#259; indice la pozi&#539;ia
            condi&#539;ionat&#259; &icirc;naintea primului element. C&acirc;nd se va executa ciclul foreach, acest ciclu
            va apela mai &icirc;nt&acirc;i metoda MoveNext &#537;i va muta de fapt cursorul cu o pozi&#539;ie
            &icirc;nainte &#537;i doar apoi va apela proprietatea Current pentru a ob&#539;ine elementul la pozi&#539;ia
            curent&#259;.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">Apoi &icirc;n program putem parcurge &icirc;n mod similar obiectul Week folosind
            ciclul foreach:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.5ee29e0d97e7d5cde4ea8162cd97d1bbd775f0aa"></a><a id="t.8"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c1">Week week = </span><span class="c7">new</span><span
                        class="c1">&nbsp;Week();<br></span><span class="c7">foreach</span><span class="c1">(</span><span
                        class="c7">var</span><span class="c1">&nbsp;day </span><span class="c7">in</span><span
                        class="c1">&nbsp;week)<br>{<br> &nbsp; &nbsp;Console.WriteLine(day);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c16">Versiunea generic&#259; a IEnumerator.</span></p>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c3">&Icirc;n exemplele de mai sus s-au folosit versiunile non-generic ale
            interfe&#539;elor, dar putem folosi &#537;i echivalentele lor generice:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.8719ea8a187b1974c482a1878bbd44c9951bf142"></a><a id="t.9"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c7">using</span><span
                        class="c1">&nbsp;System.Collections;<br><br></span><span class="c7">class</span><span
                        class="c1">&nbsp;</span><span class="c10">WeekEnumerator</span><span class="c1">&nbsp;:
                    </span><span class="c10">IEnumerator</span><span class="c1">&lt;</span><span
                        class="c10">string</span><span class="c1">&gt;<br>{<br> &nbsp; &nbsp;</span><span
                        class="c7">string</span><span class="c1">[] days;<br> &nbsp; &nbsp;</span><span
                        class="c7">int</span><span class="c1">&nbsp;position = </span><span class="c9">-1</span><span
                        class="c1">;<br> &nbsp; &nbsp;</span><span class="c7">public</span><span
                        class="c1">&nbsp;</span><span class="c10">WeekEnumerator</span><span class="c1">(</span><span
                        class="c7">string</span><span class="c1">[] days) =&gt; </span><span class="c7">this</span><span
                        class="c1">.days = days;<br> &nbsp; &nbsp;</span><span class="c7">public</span><span
                        class="c1">&nbsp;</span><span class="c7">string</span><span class="c1">&nbsp;Current<br> &nbsp;
                        &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">get</span><span class="c1"><br>
                        &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">if</span><span class="c1">&nbsp;(position == </span><span class="c9">-1</span><span
                        class="c1">&nbsp;|| position &gt;= days.Length)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp;</span><span class="c7">throw</span><span class="c1">&nbsp;</span><span
                        class="c7">new</span><span class="c1">&nbsp;ArgumentException();<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp;</span><span class="c7">return</span><span class="c1">&nbsp;days[position];<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span
                        class="c7">object</span><span class="c1">&nbsp;IEnumerator.Current =&gt; Current;<br> &nbsp;
                        &nbsp;</span><span class="c7">public</span><span class="c1">&nbsp;</span><span
                        class="c7">bool</span><span class="c1">&nbsp;</span><span class="c10">MoveNext</span><span
                        class="c1">()<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">if</span><span class="c1">&nbsp;(position &lt; days.Length - </span><span
                        class="c9">1</span><span class="c1">)<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp;position++;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">return</span><span class="c1">&nbsp;</span><span class="c7">true</span><span
                        class="c1">;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">else</span><span class="c1"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c7">return</span><span class="c1">&nbsp;</span><span
                        class="c7">false</span><span class="c1">;<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;</span><span class="c7">void</span><span
                        class="c1">&nbsp;</span><span class="c10">Reset</span><span class="c1">() =&gt; position =
                    </span><span class="c9">-1</span><span class="c1">;<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;</span><span class="c7">void</span><span
                        class="c1">&nbsp;</span><span class="c10">Dispose</span><span class="c1">() {
                        }<br>}<br><br></span><span class="c7">class</span><span class="c1">&nbsp;</span><span
                        class="c10">Week</span><span class="c1"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c7">string</span><span class="c1">[] days = { </span><span
                        class="c6">&quot;Monday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Tuesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Wednesday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Thursday&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c6">&quot;Friday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Saturday&quot;</span><span class="c1">, </span><span
                        class="c6">&quot;Sunday&quot;</span><span class="c1">&nbsp;};<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c1">&nbsp;IEnumerator&lt;</span><span
                        class="c7">string</span><span class="c1">&gt; </span><span class="c10">GetEnumerator</span><span
                        class="c1">() =&gt; </span><span class="c7">new</span><span
                        class="c1">&nbsp;WeekEnumerator(days);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c8"><span class="c11">&Icirc;n acest caz, implement&#259;m interfa&#539;a</span><span
            class="c11 c18">&nbsp;IEnumerator&lt;string&gt;</span><span class="c11">, astfel &icirc;nc&acirc;t &icirc;n
            proprietatea Current trebuie s&#259; return&#259;m un obiect string. &Icirc;n acest caz, la parcurgerea
            &icirc;n ciclul foreach, obiectele parcurse vor fi automat de tip </span><span class="c5">string</span><span
            class="c3">:</span></p>
    <p class="c0"><span class="c3"></span></p><a id="t.4d82f398f9a06368d7a1a23f4b08917cc02519cf"></a><a id="t.10"></a>
    <table class="c12">
        <tr class="c14">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c15"><span class="c1">Week week = </span><span class="c7">new</span><span
                        class="c1">&nbsp;Week();<br></span><span class="c7">foreach</span><span
                        class="c1">&nbsp;(</span><span class="c7">string</span><span class="c1">&nbsp;day </span><span
                        class="c7">in</span><span class="c1">&nbsp;week)<br>{<br> &nbsp;
                        &nbsp;Console.WriteLine(day);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c3"></span></p>
    <p class="c0"><span class="c3"></span></p>
</body>

</html>