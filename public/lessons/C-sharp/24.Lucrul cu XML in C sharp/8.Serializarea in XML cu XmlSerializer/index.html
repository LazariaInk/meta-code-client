<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><link rel="stylesheet" type="text/css" href="/lessons/styles.css"></head><body class="c17 doc-content"><p class="c7"><span class="c8 c10">Serializarea &icirc;n XML cu XmlSerializer.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c0">Pentru salvarea &#537;i extragerea convenabil&#259; a obiectelor din fi&#537;iere XML, se poate folosi clasa </span><span class="c3">XmlSerializer </span><span class="c0">din spa&#539;iul de nume</span><span class="c0 c18">&nbsp;System.Xml.Serialization</span><span class="c8 c0">. Aceast&#259; clas&#259; simplific&#259; salvarea obiectelor complexe &icirc;n format XML &#537;i extragerea ulterioar&#259; a acestora.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">Pentru a crea un obiect XmlSerializer, se pot folosi diver&#537;i constructori, dar aproape to&#539;i necesit&#259; specificarea tipului de date care vor fi serializa&#539;i &#537;i deserializa&#539;i:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.4654465b901b550d4337c9cacc7651d63eb49de0"></a><a id="t.0"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c2">XmlSerializer xmlSerializer = </span><span class="c4">new</span><span class="c2">&nbsp;XmlSerializer(</span><span class="c4">typeof</span><span class="c2">(Person));<br> <br></span><span class="c6">// [Serializable]</span><span class="c2"><br></span><span class="c4">class</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">&nbsp;{ }</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">&Icirc;n acest caz, XmlSerializer va lucra doar cu obiecte ale clasei Person.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c0">Trebuie luat &icirc;n considerare c&#259; XmlSerializer presupune anumite restric&#539;ii. De exemplu, clasa supus&#259; serializ&#259;rii trebuie s&#259; aib&#259; un constructor standard f&#259;r&#259; parametri &#537;i s&#259; fie declarat&#259; cu modificatorul de acces </span><span class="c3">public</span><span class="c8 c0">. De asemenea, sunt serializa&#539;i doar membrii publici. Dac&#259; clasa con&#539;ine c&acirc;mpuri sau propriet&#259;&#539;i cu modificatorul private, acestea vor fi ignorate &icirc;n timpul serializ&#259;rii. &Icirc;n plus, propriet&#259;&#539;ile trebuie s&#259; aib&#259; getter &#537;i setter accesibile publicului.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c15">Serializarea.</span></p><p class="c1"><span class="c0 c8"></span></p><p class="c7"><span class="c0">Pentru serializare (adic&#259; salvarea &icirc;n format XML) se folose&#537;te metoda </span><span class="c3">Serialize()</span><span class="c8 c0">. Aceast&#259; metod&#259; are mai multe versiuni. Vom lua cea mai simpl&#259; dintre ele:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.bd9f3fe86940805280ae543a29b1648ac90ee171"></a><a id="t.1"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c4">void</span><span class="c2">&nbsp;</span><span class="c12">Serialize</span><span class="c2">&nbsp;(Stream stream, </span><span class="c4">object</span><span class="c2">? o);</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">Ca prim parametru, se transmite un flux de tip Stream (de exemplu, un obiect FileStream), &icirc;n care va avea loc serializarea. Al doilea parametru reprezint&#259; obiectul care va fi salvat &icirc;n format XML. De exemplu:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.18c50faab9cd1d8a4688c463cd418dc2dce7e394"></a><a id="t.2"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c4">using</span><span class="c2">&nbsp;System.Xml.Serialization;<br> <br></span><span class="c6">// obiectul pentru serializare</span><span class="c2"><br>Person person = </span><span class="c4">new</span><span class="c2">&nbsp;Person(</span><span class="c5">&quot;Tom&quot;</span><span class="c2">, </span><span class="c11">37</span><span class="c2">);<br> <br></span><span class="c6">// transmitem &icirc;n constructor tipul clasei Person</span><span class="c2"><br>XmlSerializer xmlSerializer = </span><span class="c4">new</span><span class="c2">&nbsp;XmlSerializer(</span><span class="c4">typeof</span><span class="c2">(Person));<br> <br></span><span class="c6">// ob&#539;inem fluxul &icirc;n care vom scrie obiectul serializat</span><span class="c2"><br></span><span class="c4">using</span><span class="c2">&nbsp;(FileStream fs = </span><span class="c4">new</span><span class="c2">&nbsp;FileStream(</span><span class="c5">&quot;person.xml&quot;</span><span class="c2">, FileMode.OpenOrCreate))<br>{<br> &nbsp; &nbsp;xmlSerializer.Serialize(fs, person);<br> <br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c5">&quot;Object has been serialized&quot;</span><span class="c2">);<br>}<br> <br></span><span class="c6">// [Serializable]</span><span class="c2"><br></span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">class</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2"><br>{<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">string</span><span class="c2">&nbsp;Name { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c5">&quot;Undefined&quot;</span><span class="c2">;<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">int</span><span class="c2">&nbsp;Age { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c11">1</span><span class="c2">;<br> <br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">() { }<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">(</span><span class="c4">string</span><span class="c2">&nbsp;name, </span><span class="c4">int</span><span class="c2">&nbsp;age)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;Age = age;<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">A&#537;adar, clasa Person este public&#259;, are propriet&#259;&#539;i publice &#537;i un constructor f&#259;r&#259; parametri, astfel &icirc;nc&acirc;t obiectele acestei clase sunt supuse serializ&#259;rii. La crearea obiectului XmlSerializer, transmitem tipul clasei Person &icirc;n constructor.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c0">&Icirc;n metoda Serialize, se transmite fluxul de fi&#537;ier pentru salvarea datelor &icirc;n fi&#537;ierul </span><span class="c3">person.xml</span><span class="c0">&nbsp;&#537;i obiectul Person care va fi salvat &icirc;n acest fi&#537;ier. Dup&#259; finalizarea programului, dac&#259; deschidem fi&#537;ierul </span><span class="c3">person.xml</span><span class="c8 c0">, vom vedea con&#539;inutul obiectului nostru:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.5fd389615a5def7dd3d66b40f316535dbb650d7d"></a><a id="t.3"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c2">&lt;?xml version=</span><span class="c5">&quot;1.0&quot;</span><span class="c2">?&gt;<br>&lt;Person xmlns:xsi=</span><span class="c5">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="c2">&nbsp;xmlns:xsd=</span><span class="c5">&quot;http://www.w3.org/2001/XMLSchema&quot;</span><span class="c2">&gt;<br> &nbsp;&lt;Name&gt;Tom&lt;/Name&gt;<br> &nbsp;&lt;Age&gt;</span><span class="c11">37</span><span class="c2">&lt;/Age&gt;<br>&lt;/Person&gt;</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c15">Deserializarea.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c0">Pentru deserializarea datelor XML &icirc;n obiecte C#, se folose&#537;te metoda </span><span class="c3">Deserialize()</span><span class="c8 c0">. Una dintre versiunile acestei metode este:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.f417daa0cbd20e4fe67c39299785495a405ca2e6"></a><a id="t.4"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c4">object</span><span class="c2">? Deserialize (Stream stream);</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">Ca parametru, &icirc;n metod&#259; se transmite un obiect Stream care con&#539;ine datele &icirc;n format XML. Rezultatul metodei este obiectul deserializat.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c0">De exemplu, s&#259; deserializ&#259;m datele din fi&#537;ierul</span><span class="c3">&nbsp;person.xml </span><span class="c8 c0">creat anterior:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.ccb3f5c7f8497dabf8e70aa798d4db1bfc20d562"></a><a id="t.5"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c4">using</span><span class="c2">&nbsp;System.Xml.Serialization;<br> <br>XmlSerializer xmlSerializer = </span><span class="c4">new</span><span class="c2">&nbsp;XmlSerializer(</span><span class="c4">typeof</span><span class="c2">(Person));<br> <br></span><span class="c6">// deserializ&#259;m obiectul</span><span class="c2"><br></span><span class="c4">using</span><span class="c2">&nbsp;(FileStream fs = </span><span class="c4">new</span><span class="c2">&nbsp;FileStream(</span><span class="c5">&quot;person.xml&quot;</span><span class="c2">, FileMode.OpenOrCreate))<br>{<br> &nbsp; &nbsp;Person? person = xmlSerializer.Deserialize(fs) </span><span class="c4">as</span><span class="c2">&nbsp;Person;<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c5">$&quot;Name: {person?.Name} &nbsp;Age: {person?.Age}&quot;</span><span class="c2">);<br>}<br> <br></span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">class</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2"><br>{<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">string</span><span class="c2">&nbsp;Name { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c5">&quot;Undefined&quot;</span><span class="c2">;<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">int</span><span class="c2">&nbsp;Age { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c11">1</span><span class="c2">;<br> <br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">() { }<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">(</span><span class="c4">string</span><span class="c2">&nbsp;name, </span><span class="c4">int</span><span class="c2">&nbsp;age)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;Age = age;<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c15">Serializarea &#537;i deserializarea colec&#539;iilor.</span></p><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">&Icirc;n mod similar, putem serializa un tablou sau o colec&#539;ie de obiecte:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.95a0ed07d1ca71d8f1fa04e18a6923c38658f44b"></a><a id="t.6"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c4">using</span><span class="c2">&nbsp;System.Xml.Serialization;<br> <br>Person[] people = </span><span class="c4">new</span><span class="c2">&nbsp;Person[]<br>{<br> &nbsp; &nbsp;</span><span class="c4">new</span><span class="c2">&nbsp;Person(</span><span class="c5">&quot;Tom&quot;</span><span class="c2">, </span><span class="c11">37</span><span class="c2">),<br> &nbsp; &nbsp;</span><span class="c4">new</span><span class="c2">&nbsp;Person(</span><span class="c5">&quot;Bob&quot;</span><span class="c2">, </span><span class="c11">41</span><span class="c2">)<br>};<br> <br>XmlSerializer formatter = </span><span class="c4">new</span><span class="c2">&nbsp;XmlSerializer(</span><span class="c4">typeof</span><span class="c2">(Person[]));<br></span><span class="c6">// salvarea tabloului &icirc;n fi&#537;ier</span><span class="c2"><br></span><span class="c4">using</span><span class="c2">&nbsp;(FileStream fs = </span><span class="c4">new</span><span class="c2">&nbsp;FileStream(</span><span class="c5">&quot;people.xml&quot;</span><span class="c2">, FileMode.OpenOrCreate))<br>{<br> &nbsp; &nbsp;formatter.Serialize(fs, people);<br>}<br></span><span class="c6">// restaurarea tabloului din fi&#537;ier</span><span class="c2"><br></span><span class="c4">using</span><span class="c2">&nbsp;(FileStream fs = </span><span class="c4">new</span><span class="c2">&nbsp;FileStream(</span><span class="c5">&quot;people.xml&quot;</span><span class="c2">, FileMode.OpenOrCreate))<br>{<br> &nbsp; &nbsp;Person[]? newpeople = formatter.Deserialize(fs) </span><span class="c4">as</span><span class="c2">&nbsp;Person[];<br> <br> &nbsp; &nbsp;</span><span class="c4">if</span><span class="c2">(newpeople != </span><span class="c4">null</span><span class="c2">)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">foreach</span><span class="c2">&nbsp;(Person person </span><span class="c4">in</span><span class="c2">&nbsp;newpeople)<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(</span><span class="c5">$&quot;Name: {person.Name} --- Age: {person.Age}&quot;</span><span class="c2">);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}<br> <br></span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">class</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2"><br>{<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">string</span><span class="c2">&nbsp;Name { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c5">&quot;Undefined&quot;</span><span class="c2">;<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">int</span><span class="c2">&nbsp;Age { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c11">1</span><span class="c2">;<br> <br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">() { }<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">(</span><span class="c4">string</span><span class="c2">&nbsp;name, </span><span class="c4">int</span><span class="c2">&nbsp;age)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;Age = age;<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">Afi&#537;area &icirc;n consol&#259;:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.1469e13df242e471a651023b1bd57280ade1bff9"></a><a id="t.7"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c2">Name: Tom --- Age: </span><span class="c11">37</span><span class="c2"><br>Name: Bob --- Age: </span><span class="c11">41</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">Acesta a fost un obiect simplu. Totu&#537;i, lucrul cu obiecte mai complexe este la fel de simplu. De exemplu:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.3e5779397351abc9b6cba78ff3ddf762011bb2ac"></a><a id="t.8"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c4">using</span><span class="c2">&nbsp;System.Xml.Serialization;<br> <br></span><span class="c4">var</span><span class="c2">&nbsp;microsoft = </span><span class="c4">new</span><span class="c2">&nbsp;Company(</span><span class="c5">&quot;Microsoft&quot;</span><span class="c2">);<br></span><span class="c4">var</span><span class="c2">&nbsp;google = </span><span class="c4">new</span><span class="c2">&nbsp;Company(</span><span class="c5">&quot;Google&quot;</span><span class="c2">);<br> <br>Person[] people = </span><span class="c4">new</span><span class="c2">&nbsp;Person[]<br>{<br> &nbsp; &nbsp;</span><span class="c4">new</span><span class="c2">&nbsp;Person(</span><span class="c5">&quot;Tom&quot;</span><span class="c2">, </span><span class="c11">37</span><span class="c2">, microsoft),<br> &nbsp; &nbsp;</span><span class="c4">new</span><span class="c2">&nbsp;Person(</span><span class="c5">&quot;Bob&quot;</span><span class="c2">, </span><span class="c11">41</span><span class="c2">, google)<br>};<br> <br>XmlSerializer formatter = </span><span class="c4">new</span><span class="c2">&nbsp;XmlSerializer(</span><span class="c4">typeof</span><span class="c2">(Person[]));<br> <br></span><span class="c4">using</span><span class="c2">&nbsp;(FileStream fs = </span><span class="c4">new</span><span class="c2">&nbsp;FileStream(</span><span class="c5">&quot;people.xml&quot;</span><span class="c2">, FileMode.OpenOrCreate))<br>{<br> &nbsp; &nbsp;formatter.Serialize(fs, people);<br>}<br> <br></span><span class="c4">using</span><span class="c2">&nbsp;(FileStream fs = </span><span class="c4">new</span><span class="c2">&nbsp;FileStream(</span><span class="c5">&quot;people.xml&quot;</span><span class="c2">, FileMode.OpenOrCreate))<br>{<br> &nbsp; &nbsp;Person[]? newpeople = formatter.Deserialize(fs) </span><span class="c4">as</span><span class="c2">&nbsp;Person[];<br> <br> &nbsp; &nbsp;</span><span class="c4">if</span><span class="c2">(newpeople != </span><span class="c4">null</span><span class="c2">)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">foreach</span><span class="c2">&nbsp;(Person person </span><span class="c4">in</span><span class="c2">&nbsp;newpeople)<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(</span><span class="c5">$&quot;Name: {person.Name}&quot;</span><span class="c2">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(</span><span class="c5">$&quot;Age: {person.Age}&quot;</span><span class="c2">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(</span><span class="c5">$&quot;Company: {person.Company.Name}&quot;</span><span class="c2">);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}<br> <br></span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">class</span><span class="c2">&nbsp;</span><span class="c12">Company</span><span class="c2"><br>{<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">string</span><span class="c2">&nbsp;Name { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c5">&quot;Undefined&quot;</span><span class="c2">;<br> <br> &nbsp; &nbsp;</span><span class="c6">// constructor standard f&#259;r&#259; parametri</span><span class="c2"><br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Company</span><span class="c2">() { }<br> <br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Company</span><span class="c2">(</span><span class="c4">string</span><span class="c2">&nbsp;name) =&gt; Name = name;<br>}<br></span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">class</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2"><br>{<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">string</span><span class="c2">&nbsp;Name { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c5">&quot;Undefined&quot;</span><span class="c2">;<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c4">int</span><span class="c2">&nbsp;Age { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c11">1</span><span class="c2">;<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;Company Company { </span><span class="c4">get</span><span class="c2">; </span><span class="c4">set</span><span class="c2">; } = </span><span class="c4">new</span><span class="c2">&nbsp;Company();<br> <br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">() { }<br> &nbsp; &nbsp;</span><span class="c4">public</span><span class="c2">&nbsp;</span><span class="c12">Person</span><span class="c2">(</span><span class="c4">string</span><span class="c2">&nbsp;name, </span><span class="c4">int</span><span class="c2">&nbsp;age, Company company)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;Age = age;<br> &nbsp; &nbsp; &nbsp; &nbsp;Company = company;<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c7"><span class="c8 c0">Clasa Person con&#539;ine o proprietate Company, care va stoca un obiect al clasei Company. Membrii clasei Company sunt declara&#539;i cu modificatorul public, iar constructorul standard f&#259;r&#259; parametri este, de asemenea, prezent. &Icirc;n cele din urm&#259;, dup&#259; serializare, vom ob&#539;ine urm&#259;torul document XML:</span></p><p class="c1"><span class="c8 c0"></span></p><a id="t.f2f67ec657661d8b28f4dcc36a7025e2a5a7607d"></a><a id="t.9"></a><table class="c9"><tr class="c16"><td class="c14" colspan="1" rowspan="1"><p class="c13"><span class="c2">&lt;?xml version=</span><span class="c5">&quot;1.0&quot;</span><span class="c2">?&gt;<br>&lt;ArrayOfPerson xmlns:xsi=</span><span class="c5">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="c2">&nbsp;xmlns:xsd=</span><span class="c5">&quot;http://www.w3.org/2001/XMLSchema&quot;</span><span class="c2">&gt;<br> &nbsp;&lt;Person&gt;<br> &nbsp; &nbsp;&lt;Name&gt;Tom&lt;/Name&gt;<br> &nbsp; &nbsp;&lt;Age&gt;</span><span class="c11">37</span><span class="c2">&lt;/Age&gt;<br> &nbsp; &nbsp;&lt;Company&gt;<br> &nbsp; &nbsp; &nbsp;&lt;Name&gt;Microsoft&lt;/Name&gt;<br> &nbsp; &nbsp;&lt;/Company&gt;<br> &nbsp;&lt;/Person&gt;<br> &nbsp;&lt;Person&gt;<br> &nbsp; &nbsp;&lt;Name&gt;Bob&lt;/Name&gt;<br> &nbsp; &nbsp;&lt;Age&gt;</span><span class="c11">41</span><span class="c2">&lt;/Age&gt;<br> &nbsp; &nbsp;&lt;Company&gt;<br> &nbsp; &nbsp; &nbsp;&lt;Name&gt;Google&lt;/Name&gt;<br> &nbsp; &nbsp;&lt;/Company&gt;<br> &nbsp;&lt;/Person&gt;<br>&lt;/ArrayOfPerson&gt;</span></p></td></tr></table><p class="c1"><span class="c8 c0"></span></p><p class="c1"><span class="c8 c0"></span></p></body></html>