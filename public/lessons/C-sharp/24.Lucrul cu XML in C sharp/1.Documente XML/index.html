<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><link rel="stylesheet" type="text/css" href="/lessons/styles.css"></head><body class="c14 doc-content"><p class="c6"><span class="c4 c15">&nbsp;Documente XML. &nbsp;</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">Ast&#259;zi, XML este unul dintre standardele r&#259;sp&acirc;ndite pentru documente, care permite p&#259;strarea datelor complexe ca structur&#259; &icirc;ntr-o form&#259; convenabil&#259;. De aceea, dezvoltatorii platformei .NET au inclus &icirc;n framework capacit&#259;&#539;i largi pentru a lucra cu XML.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">&Icirc;nainte de a trece direct la lucrul cu fi&#537;ierele XML, s&#259; vedem mai &icirc;nt&acirc;i ce reprezint&#259; un document XML &#537;i cum poate el s&#259; p&#259;streze obiectele utilizate &icirc;ntr-un program &icirc;n C#.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">De exemplu, avem urm&#259;toarea clas&#259;:</span></p><p class="c1"><span class="c4 c3"></span></p><a id="t.a54eb3739683297aa0edf8ca61a8547c55d58dce"></a><a id="t.0"></a><table class="c8"><tr class="c9"><td class="c12" colspan="1" rowspan="1"><p class="c11"><span class="c0">class</span><span class="c7">&nbsp;</span><span class="c13">Person</span><span class="c7"><br>{<br> &nbsp; &nbsp;</span><span class="c0">public</span><span class="c7">&nbsp;</span><span class="c0">string</span><span class="c7">&nbsp;Name { </span><span class="c0">get</span><span class="c7">;}<br> &nbsp; &nbsp;</span><span class="c0">public</span><span class="c7">&nbsp;</span><span class="c0">int</span><span class="c7">&nbsp;Age { </span><span class="c0">get</span><span class="c7">; </span><span class="c0">set</span><span class="c7">; }<br> &nbsp; &nbsp;</span><span class="c0">public</span><span class="c7">&nbsp;</span><span class="c0">string</span><span class="c7">&nbsp;Company { </span><span class="c0">get</span><span class="c7">; </span><span class="c0">set</span><span class="c7">; }<br> &nbsp; &nbsp;</span><span class="c0">public</span><span class="c7">&nbsp;</span><span class="c13">Person</span><span class="c7">(</span><span class="c0">string</span><span class="c7">&nbsp;name, </span><span class="c0">int</span><span class="c7">&nbsp;age, </span><span class="c0">string</span><span class="c7">&nbsp;company)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;Age = age;<br> &nbsp; &nbsp; &nbsp; &nbsp;Company = company;<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></table><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">&Icirc;ntr-un program &icirc;n C#, putem crea o list&#259; de obiecte ale clasei Person:</span></p><p class="c1"><span class="c4 c3"></span></p><a id="t.c63df0a3b15f7857f11f27298f887cf203155d2a"></a><a id="t.1"></a><table class="c8"><tr class="c9"><td class="c12" colspan="1" rowspan="1"><p class="c11"><span class="c0">var</span><span class="c7">&nbsp;employees = </span><span class="c0">new</span><span class="c7">&nbsp;List&lt;Person&gt;<br>{<br> &nbsp; &nbsp;</span><span class="c0">new</span><span class="c7">&nbsp;Person (</span><span class="c5">&quot;Tom&quot;</span><span class="c7">, </span><span class="c10">37</span><span class="c7">, </span><span class="c5">&quot;Microsoft&quot;</span><span class="c7">),<br> &nbsp; &nbsp;</span><span class="c0">new</span><span class="c7">&nbsp;Person (</span><span class="c5">&quot;Bob&quot;</span><span class="c7">, </span><span class="c10">41</span><span class="c7">, </span><span class="c5">&quot;Google&quot;</span><span class="c7">)<br>};</span></p></td></tr></table><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">Pentru a salva lista &icirc;n format XML, am putea folosi urm&#259;torul fi&#537;ier XML:</span></p><p class="c1"><span class="c4 c3"></span></p><a id="t.18ee19b496efff46020c2b573f679623029524d5"></a><a id="t.2"></a><table class="c8"><tr class="c9"><td class="c12" colspan="1" rowspan="1"><p class="c11"><span class="c7">xml<br>&lt;?xml version=</span><span class="c5">&quot;1.0&quot;</span><span class="c7">&nbsp;encoding=</span><span class="c5">&quot;utf-8&quot;</span><span class="c7">&nbsp;?&gt;<br>&lt;people&gt;<br> &nbsp;&lt;person name=</span><span class="c5">&quot;Tom&quot;</span><span class="c7">&gt;<br> &nbsp; &nbsp;&lt;company&gt;Microsoft&lt;/company&gt;<br> &nbsp; &nbsp;&lt;age&gt;</span><span class="c10">37</span><span class="c7">&lt;/age&gt;<br> &nbsp;&lt;/person&gt;<br> &nbsp;&lt;person name=</span><span class="c5">&quot;Bob&quot;</span><span class="c7">&gt;<br> &nbsp; &nbsp;&lt;company&gt;Google&lt;/company&gt;<br> &nbsp; &nbsp;&lt;age&gt;</span><span class="c10">41</span><span class="c7">&lt;/age&gt;<br> &nbsp;&lt;/person&gt;<br>&lt;/people&gt;</span></p></td></tr></table><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c3">Documentul XML este declarat prin linia </span><span class="c2">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span><span class="c4 c3">. Aceasta specific&#259; versiunea (1.0) &#537;i codificarea (utf-8) a XML-ului. Apoi urmeaz&#259; con&#539;inutul propriu-zis al documentului.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">Documentul XML trebuie s&#259; aib&#259; un singur element r&#259;d&#259;cin&#259;, &icirc;n care sunt plasate toate celelalte elemente. &Icirc;n acest caz, acest element este &lt;people&gt;. &Icirc;n interiorul elementului r&#259;d&#259;cin&#259; &lt;people&gt; este definit un set de elemente &lt;person&gt;. &Icirc;n afara elementului r&#259;d&#259;cin&#259; nu putem plasa elemente person.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">Fiecare element este definit prin intermediul tagurilor de deschidere &#537;i &icirc;nchidere, de exemplu, &lt;person&gt; &#537;i &lt;/person&gt;, &icirc;n interiorul c&#259;rora este plasat&#259; valoarea sau con&#539;inutul elementelor. De asemenea, un element poate avea o declara&#539;ie scurt&#259;: &lt;person /&gt; - la sf&acirc;r&#537;itul elementului este plasat&#259; o bar&#259; oblic&#259;.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">Un element poate avea elemente &#537;i atribute &icirc;ncorporate. &Icirc;n acest caz, fiecare element person are dou&#259; elemente &icirc;ncorporate company &#537;i age &#537;i un atribut name.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c3">Atributele sunt definite &icirc;n corpul elementului &#537;i au urm&#259;toarea form&#259;: </span><span class="c2">nume=&quot;valoare&quot;</span><span class="c3">. De exemplu, </span><span class="c2">&lt;person name=&quot;Bill Gates&quot;&gt;</span><span class="c4 c3">, &icirc;n acest caz, atributul se nume&#537;te name &#537;i are valoarea Bill Gates.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c3">&Icirc;n interiorul elementelor simple este plasat&#259; valoarea lor. De exemplu, </span><span class="c2">&lt;company&gt;Google&lt;/company&gt;</span><span class="c4 c3">&nbsp;- elementul company are valoarea Google.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c3">Numele elementelor sunt sensibile la majuscule &#537;i minuscule, astfel </span><span class="c2">&lt;company&gt;</span><span class="c3">&nbsp;&#537;i </span><span class="c2">&lt;COMPANY&gt;</span><span class="c4 c3">&nbsp;vor reprezenta elemente diferite.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">Astfel, &icirc;ntreaga list&#259; Users din codul C# corespunde elementului r&#259;d&#259;cin&#259; &lt;people&gt;, fiecare obiect Person corespunde unui element &lt;person&gt;, iar fiecare proprietate a obiectului Person corespunde unui atribut sau unui element &icirc;ncorporat al elementului &lt;person&gt;.</span></p><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c3 c4">Ce s&#259; folose&#537;ti pentru propriet&#259;&#539;i - elemente &icirc;ncorporate sau atribute? Aceasta este o chestiune de preferin&#539;&#259; - putem folosi fie atribute, fie elemente &icirc;ncorporate. Astfel, &icirc;n exemplul anterior, putem folosi &icirc;n locul unui atribut un element &icirc;ncorporat:</span></p><p class="c1"><span class="c4 c3"></span></p><a id="t.975c06e746e48316411ee4c61e5bc9b82f3bc7ad"></a><a id="t.3"></a><table class="c8"><tr class="c9"><td class="c12" colspan="1" rowspan="1"><p class="c11"><span class="c7">xml<br>&lt;?xml version=</span><span class="c5">&quot;1.0&quot;</span><span class="c7">&nbsp;encoding=</span><span class="c5">&quot;utf-8&quot;</span><span class="c7">&nbsp;?&gt;<br>&lt;people&gt;<br> &nbsp;&lt;person&gt;<br> &nbsp; &nbsp;&lt;name&gt;Tom&lt;/name&gt;<br> &nbsp; &nbsp;&lt;company&gt;Microsoft&lt;/company&gt;<br> &nbsp; &nbsp;&lt;age&gt;</span><span class="c10">37</span><span class="c7">&lt;/age&gt;<br> &nbsp;&lt;/person&gt;<br> &nbsp;&lt;person&gt;<br> &nbsp; &nbsp;&lt;name&gt;Bob&lt;/name&gt;<br> &nbsp; &nbsp;&lt;company&gt;Google&lt;/company&gt;<br> &nbsp; &nbsp;&lt;age&gt;</span><span class="c10">41</span><span class="c7">&lt;/age&gt;<br> &nbsp;&lt;/person&gt;<br>&lt;/people&gt;</span></p></td></tr></table><p class="c1"><span class="c4 c3"></span></p><p class="c6"><span class="c4 c3">Acum s&#259; analiz&#259;m principalele abord&#259;ri pentru a lucra cu XML &icirc;n C#.</span></p><p class="c1"><span class="c4 c3"></span></p></body></html>