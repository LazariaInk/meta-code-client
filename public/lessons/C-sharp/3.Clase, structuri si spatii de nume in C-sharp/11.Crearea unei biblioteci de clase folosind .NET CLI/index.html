<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c14 doc-content">
    <h1 class="c2 c16">Crearea unei biblioteci de clase folosind .NET CLI.</h1>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">&Icirc;n tema precedent&#259;, am discutat despre crearea unei biblioteci de clase
            &icirc;n Visual Studio &#537;i conectarea acesteia la un alt proiect al solu&#539;iei. S&#259; vedem cum
            putem face acela&#537;i lucru f&#259;r&#259; Visual Studio, folosind .NET CLI.</span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">Pentru a crea un proiect de bibliotec&#259; de clase &icirc;n .NET CLI, trebuie
            s&#259; transmitem &#537;ablonul </span><span class="c9">classlib </span><span class="c3">comenzii dotnet
            new:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.2d8e51951201cbcc4314ece5e676643e2b971ef9"></a><a id="t.0"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet new classlib</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">De exemplu, s&#259; presupunem c&#259; proiectul bibliotecii de clase va fi situat
            &icirc;n folderul </span><span class="c9">C:\Users\Eva\source\repos\FDC</span><span class="c3">. S&#259;
            cre&#259;m proiectul:</span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 583.00px; height: 303.00px;"><img
                alt="" src="images/image2.png"
                style="width: 583.00px; height: 303.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">Dup&#259; executarea acestei comenzi, va fi creat un proiect cu fi&#537;ierul de cod
            Class1.cs:</span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 392.00px;"><img
                alt="" src="images/image1.png"
                style="width: 624.00px; height: 392.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">Acesta este acela&#537;i proiect care se creeaz&#259; &icirc;n Visual Studio. De
            exemplu, redenumim fi&#537;ierul Class1.cs &icirc;n Person.cs, iar clasa Class1 &icirc;n Person. Definim
            &icirc;n clasa Person un cod simplu:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.d1d1bf7bbd0a77198f5430346d725d778457f19c"></a><a id="t.1"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c7">namespace</span><span class="c6">&nbsp;</span><span
                        class="c10">MyLib</span><span class="c6"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c7">public</span><span class="c6">&nbsp;</span><span class="c7">class</span><span
                        class="c6">&nbsp;</span><span class="c10">Person</span><span class="c6"><br> &nbsp; &nbsp;{<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">string</span><span class="c6">&nbsp;name;<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">public</span><span
                        class="c6">&nbsp;</span><span class="c10">Person</span><span class="c6">(</span><span
                        class="c7">string</span><span class="c6">&nbsp;name) <br> &nbsp; &nbsp; &nbsp; &nbsp;{<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">this</span><span
                        class="c6">.name = name;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c7">public</span><span class="c6">&nbsp;</span><span
                        class="c7">void</span><span class="c6">&nbsp;</span><span class="c10">Print</span><span
                        class="c6">() =&gt; Console.WriteLine(</span><span class="c15">$&quot;Name:
                        {name}&quot;</span><span class="c6">);<br> &nbsp; &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">Pentru a compila biblioteca de clase, execut&#259;m comanda:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.d464300a3629688c1184eb9906b27a07dd64de59"></a><a id="t.2"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet build</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">Dup&#259; compilare, &icirc;n folderul proiectului, &icirc;n directorul </span><span
            class="c12 c13">\bin\Debug\net6.0\ </span><span class="c3">vom g&#259;si fi&#537;ierul mylib.dll.</span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">Acum conect&#259;m aceast&#259; bibliotec&#259; la un proiect. Pentru test, s&#259;
            cre&#259;m un nou proiect de aplica&#539;ie console &icirc;n folderul C:\Users\Eva\source\repos\FDC\FDC
            (adic&#259; &icirc;n folderul vecin proiectului mylib):</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.d1f32049bdc88c64f92d4d9de1c917a080e93b8b"></a><a id="t.3"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet new console</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">Pentru a ad&#259;uga o referin&#539;&#259; de la un proiect la altul, se
            folose&#537;te comanda</span><span class="c9">&nbsp;dotnet add reference</span><span class="c3">, care are
            urm&#259;torul format general:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.4573f041117503e954047d3da5bdb4ff3d328e58"></a><a id="t.4"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet add cale_c&#259;tre_fi&#537;ierul_csproj_al_proiectului_principal
                        reference cale_c&#259;tre_fi&#537;ierul_csproj_al_proiectului_de_conectat</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">&Icirc;n acest caz, dac&#259; m&#259; aflu &icirc;n folderul proiectului FDC,
            conectarea bibliotecii de clase va ar&#259;ta astfel:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.298bd09c4dc110ac2e7feede12a3ceeffd05f400"></a><a id="t.5"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet add FDC.csproj reference ..\mylib\mylib.csproj</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">Dup&#259; conectarea cu succes a bibliotecii &icirc;n proiectul principal,
            modific&#259;m fi&#537;ierul </span><span class="c9">Program.cs</span><span class="c3">&nbsp;pentru a folosi
            clasa Person din biblioteca de clase:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.7b76a5e75e0224f2c81af894e463e9db224ea49a"></a><a id="t.6"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c7">using</span><span class="c6">&nbsp;MyLib; &nbsp; &nbsp;</span><span
                        class="c17">// conectarea spa&#539;iului de nume din biblioteca de clase</span><span
                        class="c6"><br><br>Person tom = </span><span class="c7">new</span><span class="c6">(</span><span
                        class="c15">&quot;Tom&quot;</span><span class="c6">);<br>tom.Print(); &nbsp; &nbsp;</span><span
                        class="c17">// Name: Tom</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c11">Eliminarea referin&#539;ei la proiect.</span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">Dac&#259; trebuie s&#259; elimin&#259;m referin&#539;a, se folose&#537;te
            comanda:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.6c63bc8ddad61af3f21094eaa1a22c2d3cc80e6b"></a><a id="t.7"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet </span><span class="c7">remove</span><span
                        class="c6">&nbsp;cale_c&#259;tre_fi&#537;ierul_csproj_al_proiectului_principal reference
                        cale_c&#259;tre_fi&#537;ierul_csproj_al_proiectului_deconectat</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c11">Crearea unei solu&#539;ii.</span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">Pentru a crea o solu&#539;ie, se folose&#537;te comanda </span><span
            class="c9">dotnet new sln</span><span class="c3">, care creeaz&#259; implicit un fi&#537;ier de solu&#539;ie
            &icirc;n folderul curent. De exemplu, s&#259; navig&#259;m &icirc;n terminal la folderul proiectului console
            &#537;i s&#259; execut&#259;m comanda:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.770afedf8e3dcf2da94deb86a936d7421c88d909"></a><a id="t.8"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet </span><span class="c7">new</span><span
                        class="c6">&nbsp;sln</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">Dup&#259; aceasta, &icirc;n folderul curent va fi creat un fi&#537;ier cu extensia
        </span><span class="c9">.sln</span><span class="c3">, care implicit va avea numele folderului curent.</span></p>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c12">Ad&#259;ug&#259;m proiectele create anterior &icirc;n solu&#539;ie. Pentru aceasta,
            se folose&#537;te comanda</span><span class="c9">&nbsp;dotnet sln add</span><span class="c3">, care are
            urm&#259;torul format general:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.7bc79563ab7ae746f689ba268fda1b7ddc508726"></a><a id="t.9"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet sln [cale_c&#259;tre_fi&#537;ierul_solu&#539;iei.sln] </span><span
                        class="c7">add</span><span
                        class="c6">&nbsp;cale_c&#259;tre_fi&#537;ierul_csproj_al_proiectului_de_ad&#259;ugat</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">Dac&#259; fi&#537;ierul solu&#539;iei este situat &icirc;n folderul curent, nu este
            necesar s&#259; specific&#259;m calea c&#259;tre fi&#537;ierul solu&#539;iei. Astfel, dac&#259; suntem
            &icirc;nc&#259; &icirc;n terminal &icirc;n folderul proiectului console FDC, execut&#259;m consecutiv
            urm&#259;toarele comenzi:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.7fec925cc40a785ab26296525401dbbaae3fef7f"></a><a id="t.10"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet sln </span><span class="c7">add</span><span
                        class="c6">&nbsp;FDC.csproj<br>dotnet sln </span><span class="c7">add</span><span
                        class="c6">&nbsp;..\mylib\mylib.csproj</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c2"><span class="c3">Dac&#259; ulterior trebuie s&#259; elimin&#259;m un proiect din solu&#539;ie, se
            folose&#537;te comanda:</span></p>
    <p class="c1"><span class="c3"></span></p><a id="t.dde8422ec4b1c15321347178d0aa62fc2091cfde"></a><a id="t.11"></a>
    <table class="c8">
        <tr class="c4">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c0"><span class="c6">dotnet sln [cale_c&#259;tre_fi&#537;ierul_solu&#539;iei.sln] </span><span
                        class="c7">remove</span><span
                        class="c6">&nbsp;cale_c&#259;tre_fi&#537;ierul_csproj_al_proiectului_de_eliminat</span></p>
            </td>
        </tr>
    </table>
    <p class="c1"><span class="c3"></span></p>
    <p class="c1"><span class="c3"></span></p>
</body>

</html>