<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c13 doc-content">
    <h1 class="c6 c10">Pattern-ul pozi»õional.</h1>
    <p class="c6 c8"><span class="c0"></span></p>
    <p class="c6"><span class="c14">Pattern-ul pozi&#539;ional</span><span class="c0">&nbsp;se aplic&#259; unui tip care
            are definit&#259; o metod&#259; deconstructor. De exemplu, s&#259; definim urm&#259;toarea
            clas&#259;:</span></p>
    <p class="c6 c8"><span class="c0"></span></p><a id="t.22cc943b16091c7f1bd564df52a4d9b4066a4a2b"></a><a id="t.0"></a>
    <table class="c11">
        <tr class="c12">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c9"><span class="c1">class</span><span class="c2">&nbsp;</span><span
                        class="c7">MessageDetails</span><span class="c2"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c2">&nbsp;</span><span class="c1">string</span><span
                        class="c2">&nbsp;Language { </span><span class="c1">get</span><span class="c2">; </span><span
                        class="c1">set</span><span class="c2">; } = </span><span class="c3">&quot;&quot;</span><span
                        class="c2">; &nbsp; &nbsp;</span><span class="c4">// limba utilizatorului</span><span
                        class="c2"><br> &nbsp; &nbsp;</span><span class="c1">public</span><span
                        class="c2">&nbsp;</span><span class="c1">string</span><span class="c2">&nbsp;DateTime {
                    </span><span class="c1">get</span><span class="c2">; </span><span class="c1">set</span><span
                        class="c2">; } = </span><span class="c3">&quot;&quot;</span><span class="c2">; &nbsp;
                        &nbsp;</span><span class="c4">// timpul zilei</span><span class="c2"><br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c2">&nbsp;</span><span
                        class="c1">string</span><span class="c2">&nbsp;Status { </span><span class="c1">get</span><span
                        class="c2">; </span><span class="c1">set</span><span class="c2">; } = </span><span
                        class="c3">&quot;&quot;</span><span class="c2">; &nbsp; &nbsp; </span><span class="c4">//
                        statutul utilizatorului</span><span class="c2"><br> <br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c2">&nbsp;</span><span class="c1">void</span><span
                        class="c2">&nbsp;</span><span class="c7">Deconstruct</span><span class="c2">(</span><span
                        class="c1">out</span><span class="c2">&nbsp;</span><span class="c1">string</span><span
                        class="c2">&nbsp;lang, </span><span class="c1">out</span><span class="c2">&nbsp;</span><span
                        class="c1">string</span><span class="c2">&nbsp;datetime, </span><span class="c1">out</span><span
                        class="c2">&nbsp;</span><span class="c1">string</span><span class="c2">&nbsp;status)<br> &nbsp;
                        &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;lang = Language;<br> &nbsp; &nbsp; &nbsp; &nbsp;datetime
                        = DateTime;<br> &nbsp; &nbsp; &nbsp; &nbsp;status = Status;<br> &nbsp; &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c8"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Acum folosim pattern-ul pozi&#539;ional &#537;i &icirc;n func&#539;ie de valorile
            obiectului MessageDetails vom returna un anumit mesaj:</span></p>
    <p class="c6 c8"><span class="c0"></span></p><a id="t.9f939c4035da4260ff923b28eadef70a759e236c"></a><a id="t.1"></a>
    <table class="c11">
        <tr class="c12">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c9"><span class="c1">string</span><span class="c2">&nbsp;</span><span
                        class="c7">GetWelcome</span><span class="c2">(MessageDetails details) =&gt; details </span><span
                        class="c1">switch</span><span class="c2"><br>{<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;english&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;morning&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Good morning&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;english&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;evening&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Good evening&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;german&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;morning&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Guten Morgen&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;german&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;evening&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Guten Abend&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(_, _, </span><span
                        class="c3">&quot;admin&quot;</span><span class="c2">) =&gt; </span><span class="c3">&quot;Hello,
                        Admin&quot;</span><span class="c2">,<br> &nbsp; &nbsp;_ =&gt; </span><span
                        class="c3">&quot;Bun&#259;&quot;</span><span class="c2"><br>};</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c8"><span class="c0"></span></p>
    <p class="c6"><span class="c0">De fapt, acest pattern este similar cu exemplul cu tupluri de mai sus, doar c&#259;
            acum &icirc;n construc&#539;ia switch este transmis un obiect MessageDetails. Prin metoda deconstructor
            putem ob&#539;ine un set de parametri de ie&#537;ire sub form&#259; de tuplu &#537;i, din nou, s&#259;-i
            compar&#259;m cu anumite valori &icirc;n construc&#539;ia switch.</span></p>
    <p class="c6 c8"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Aplicare:</span></p>
    <p class="c6 c8"><span class="c0"></span></p><a id="t.72285c07d694c7c10d59609f5d8477683bae7706"></a><a id="t.2"></a>
    <table class="c11">
        <tr class="c12">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c9"><span class="c2">MessageDetails details1 = </span><span class="c1">new</span><span
                        class="c2">&nbsp;MessageDetails { Language = </span><span
                        class="c3">&quot;english&quot;</span><span class="c2">, DateTime = </span><span
                        class="c3">&quot;evening&quot;</span><span class="c2">, Status = </span><span
                        class="c3">&quot;user&quot;</span><span class="c2">&nbsp;};<br></span><span
                        class="c1">string</span><span class="c2">&nbsp;message =
                        GetWelcome(details1);<br>Console.WriteLine(message); &nbsp;</span><span class="c4">// Good
                        evening</span><span class="c2"><br> <br>MessageDetails details2 = </span><span
                        class="c1">new</span><span class="c2">&nbsp;MessageDetails { Language = </span><span
                        class="c3">&quot;french&quot;</span><span class="c2">, DateTime = </span><span
                        class="c3">&quot;morning&quot;</span><span class="c2">, Status = </span><span
                        class="c3">&quot;admin&quot;</span><span class="c2">&nbsp;};<br>message =
                        GetWelcome(details2);<br>Console.WriteLine(message); &nbsp;</span><span class="c4">// Hello,
                        Admin</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c8"><span class="c0"></span></p>
    <p class="c6"><span class="c0">De asemenea, putem lua valorile obiectului MessageDetails &#537;i s&#259; le folosim
            la crearea rezultatului metodei:</span></p>
    <p class="c6 c8"><span class="c0"></span></p><a id="t.cb8a5d75b72e6dab359a53e22c958009d85d0a1d"></a><a id="t.3"></a>
    <table class="c11">
        <tr class="c12">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c9"><span class="c1">string</span><span class="c2">&nbsp;</span><span
                        class="c7">GetWelcome</span><span class="c2">(MessageDetails details) =&gt; details </span><span
                        class="c1">switch</span><span class="c2"><br>{<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;english&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;morning&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Good morning&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;english&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;evening&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Good evening&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;german&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;morning&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Guten Morgen&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(</span><span
                        class="c3">&quot;german&quot;</span><span class="c2">, </span><span
                        class="c3">&quot;evening&quot;</span><span class="c2">, _) =&gt; </span><span
                        class="c3">&quot;Guten Abend&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(_, _, </span><span
                        class="c3">&quot;admin&quot;</span><span class="c2">) =&gt; </span><span class="c3">&quot;Hello,
                        Admin&quot;</span><span class="c2">,<br> &nbsp; &nbsp;(</span><span class="c1">var</span><span
                        class="c2">&nbsp;lang, </span><span class="c1">var</span><span class="c2">&nbsp;datetime,
                    </span><span class="c1">var</span><span class="c2">&nbsp;status) =&gt; </span><span
                        class="c3">$&quot;{lang} not found, {datetime} unknown, {status} undefined&quot;</span><span
                        class="c2">,<br> &nbsp; &nbsp;_ =&gt; </span><span class="c3">&quot;Bun&#259;&quot;</span><span
                        class="c2"><br>};</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c8"><span class="c0"></span></p>
    <p class="c6"><span class="c0">&Icirc;n penultima instruc&#539;iune din construc&#539;ia switch ob&#539;inem pe
            pozi&#539;ie valorile din MessageDetails &icirc;n variabilele lang, datetime &#537;i status &#537;i le
            folosim pentru a crea mesajul:</span></p>
    <p class="c6 c8"><span class="c0"></span></p><a id="t.5fa68cbe9b1718c45dafab84ad9aa0addb01c19f"></a><a id="t.4"></a>
    <table class="c11">
        <tr class="c12">
            <td class="c5" colspan="1" rowspan="1">
                <p class="c9"><span class="c2">MessageDetails details1 = </span><span class="c1">new</span><span
                        class="c2">&nbsp;MessageDetails <br>{ <br> &nbsp; &nbsp;Language = </span><span
                        class="c3">&quot;chinese&quot;</span><span class="c2">, <br> &nbsp; &nbsp;DateTime =
                    </span><span class="c3">&quot;night&quot;</span><span class="c2">, <br> &nbsp; &nbsp;Status =
                    </span><span class="c3">&quot;moderator&quot;</span><span class="c2"><br>};<br></span><span
                        class="c1">string</span><span class="c2">&nbsp;message =
                        GetWelcome(details1);<br>Console.WriteLine(message); &nbsp;</span><span class="c4">// chinese
                        not found, night unknown, moderator undefined</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c8"><span class="c0"></span></p>
    <p class="c6 c8"><span class="c0"></span></p>
</body>

</html>