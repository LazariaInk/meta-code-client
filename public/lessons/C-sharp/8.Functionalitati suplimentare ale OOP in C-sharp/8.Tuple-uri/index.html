<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c15 doc-content">
    <h1 class="c9 c16">Tuple-uri.</h1>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Tuple-urile ofer&#259; un mod convenabil de a lucra cu un set de valori, ad&#259;ugat
            &icirc;n versiunea C# 7.0.</span></p>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Un tuple reprezint&#259; un set de valori &icirc;ncadrate &icirc;ntre paranteze
            rotunde:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.d081fc3735eae758752c1c15b004c897517f1419"></a><a id="t.0"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">var</span><span class="c2">&nbsp;tuple = (</span><span
                        class="c3">5</span><span class="c2">, </span><span class="c3">10</span><span
                        class="c2">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">&Icirc;n acest caz, este definit un tuple tuple, care are dou&#259; valori: 5 &#537;i
            10. Ulterior, putem accesa fiecare dintre aceste valori prin c&acirc;mpuri denumite:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.923401f8cda0601d0f14328514a6d2ed88dd91bb"></a><a id="t.1"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c2">Item[ordinal_number_of_field_in_tuple]</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">De exemplu:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.1a2eb1b5d442331ed2e93310d1d9a2e450dee311"></a><a id="t.2"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">var</span><span class="c2">&nbsp;tuple = (</span><span
                        class="c3">5</span><span class="c2">, </span><span class="c3">10</span><span
                        class="c2">);<br>Console.WriteLine(tuple.Item1); </span><span class="c7">// 5</span><span
                        class="c2"><br>Console.WriteLine(tuple.Item2); </span><span class="c7">// 10</span><span
                        class="c2"><br>tuple.Item1 += </span><span class="c3">26</span><span
                        class="c2">;<br>Console.WriteLine(tuple.Item1); </span><span class="c7">// 31</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">&Icirc;n acest caz, tipul este determinat implicit. Dar putem specifica explicit
            tipul pentru variabila tuple:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.5fb1ca5c1db2cc0c7c84332f2cc70fe9aa738327"></a><a id="t.3"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c2">(</span><span class="c6">int</span><span class="c2">, </span><span
                        class="c6">int</span><span class="c2">) tuple = (</span><span class="c3">5</span><span
                        class="c2">, </span><span class="c3">10</span><span class="c2">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Deoarece tuple-ul con&#539;ine dou&#259; numere, &icirc;n defini&#539;ia tipului
            trebuie s&#259; indic&#259;m dou&#259; tipuri numerice. Sau un alt exemplu de definire a unui tuple:</span>
    </p>
    <p class="c0"><span class="c5"></span></p><a id="t.91a1b06aee48f4d37547828e49e8825df3baf30e"></a><a id="t.4"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c2">(</span><span class="c6">string</span><span class="c2">, </span><span
                        class="c6">int</span><span class="c2">, </span><span class="c6">double</span><span class="c2">)
                        person = (</span><span class="c4">&quot;Tom&quot;</span><span class="c2">, </span><span
                        class="c3">25</span><span class="c2">, </span><span class="c3">81.23</span><span
                        class="c2">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Primul element al tuple-ului reprezint&#259; un &#537;ir de caractere, al doilea
            element - un tip int, iar al treilea - un tip double.</span></p>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Putem, de asemenea, s&#259; d&#259;m denumiri c&acirc;mpurilor tuple-ului:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.63065745f076269acb91f147ad0090bc7f9bb3a5"></a><a id="t.5"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">var</span><span class="c2">&nbsp;tuple = (count: </span><span
                        class="c3">5</span><span class="c2">, sum: </span><span class="c3">10</span><span
                        class="c2">);<br>Console.WriteLine(tuple.count); </span><span class="c7">// 5</span><span
                        class="c2"><br>Console.WriteLine(tuple.sum); </span><span class="c7">// 10</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Acum, pentru a accesa c&acirc;mpurile tuple-ului, folosim denumirile acestora,
            &#537;i nu denumirile Item1 &#537;i Item2.</span></p>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Putem chiar s&#259; decompoz&#259;m tuple-ul &icirc;n variabile separate:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.9342e7a928bb8793765e7e0010ad3dffbdc80235"></a><a id="t.6"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">var</span><span class="c2">&nbsp;(name, age) = (</span><span
                        class="c4">&quot;Tom&quot;</span><span class="c2">, </span><span class="c3">23</span><span
                        class="c2">);<br>Console.WriteLine(name); &nbsp; &nbsp;</span><span class="c7">//
                        Tom</span><span class="c2"><br>Console.WriteLine(age); &nbsp; &nbsp; </span><span class="c7">//
                        23</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Una dintre problemele pe care tuple-urile le rezolv&#259; elegant este schimbul de
            valori:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.037b6435a1535522232754ec3ddc81f674154a15"></a><a id="t.7"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">string</span><span class="c2">&nbsp;main = </span><span
                        class="c4">&quot;Java&quot;</span><span class="c2">;<br></span><span
                        class="c6">string</span><span class="c2">&nbsp;second = </span><span
                        class="c4">&quot;C#&quot;</span><span class="c2">;<br>(main, second) = (second,
                        main);<br>Console.WriteLine(main); &nbsp; &nbsp;</span><span class="c7">// C#</span><span
                        class="c2"><br>Console.WriteLine(second); &nbsp;</span><span class="c7">// Java</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Aceasta poate fi utilizat&#259;, de exemplu, pentru sortarea simpl&#259; a unui
            array:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.055b1d8ef11bdf4d5721c118e5a39b682546a6e6"></a><a id="t.8"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">int</span><span class="c2">[] nums = { </span><span
                        class="c3">54</span><span class="c2">, </span><span class="c3">7</span><span class="c2">,
                    </span><span class="c3">-41</span><span class="c2">, </span><span class="c3">2</span><span
                        class="c2">, </span><span class="c3">4</span><span class="c2">, </span><span
                        class="c3">2</span><span class="c2">, </span><span class="c3">89</span><span class="c2">,
                    </span><span class="c3">33</span><span class="c2">, </span><span class="c3">-5</span><span
                        class="c2">, </span><span class="c3">12</span><span class="c2">&nbsp;};<br><br></span><span
                        class="c7">// sortare</span><span class="c2"><br></span><span class="c6">for</span><span
                        class="c2">&nbsp;(</span><span class="c6">int</span><span class="c2">&nbsp;i = </span><span
                        class="c3">0</span><span class="c2">; i &lt; nums.Length - </span><span class="c3">1</span><span
                        class="c2">; i++)<br>{<br> &nbsp; &nbsp;</span><span class="c6">for</span><span
                        class="c2">&nbsp;(</span><span class="c6">int</span><span class="c2">&nbsp;j = i + </span><span
                        class="c3">1</span><span class="c2">; j &lt; nums.Length; j++)<br> &nbsp; &nbsp;{<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;</span><span class="c6">if</span><span class="c2">&nbsp;(nums[i] &gt;
                        nums[j])<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(nums[i], nums[j]) = (nums[j],
                        nums[i]);<br> &nbsp; &nbsp;}<br>}<br><br></span><span class="c7">// afi&#537;are</span><span
                        class="c2"><br>Console.WriteLine(</span><span class="c4">&quot;Afi&#537;are array
                        sortat&quot;</span><span class="c2">);<br></span><span class="c6">for</span><span
                        class="c2">&nbsp;(</span><span class="c6">int</span><span class="c2">&nbsp;i = </span><span
                        class="c3">0</span><span class="c2">; i &lt; nums.Length; i++)<br>{<br> &nbsp;
                        &nbsp;Console.WriteLine(nums[i]);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c14">Tuple ca rezultat al metodei.</span></p>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Tuple-urile pot fi utilizate ca rezultat al unei func&#539;ii. De exemplu, una dintre
            situa&#539;iile comune este returnarea dintr-o func&#539;ie a dou&#259; sau mai multe valori, &icirc;n timp
            ce func&#539;ia poate returna doar o singur&#259; valoare. Tuple-urile reprezint&#259; o solu&#539;ie
            optim&#259; pentru aceast&#259; problem&#259;:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.a58f7c543c10aa1c577c04273c13757c4323fab0"></a><a id="t.9"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">var</span><span class="c2">&nbsp;tuple =
                        GetValues();<br>Console.WriteLine(tuple.Item1); </span><span class="c7">// 1</span><span
                        class="c2"><br>Console.WriteLine(tuple.Item2); </span><span class="c7">// 3</span><span
                        class="c2"><br><br>(</span><span class="c6">int</span><span class="c2">, </span><span
                        class="c6">int</span><span class="c2">) GetValues()<br>{<br> &nbsp; &nbsp;</span><span
                        class="c6">var</span><span class="c2">&nbsp;result = (</span><span class="c3">1</span><span
                        class="c2">, </span><span class="c3">3</span><span class="c2">);<br> &nbsp; &nbsp;</span><span
                        class="c6">return</span><span class="c2">&nbsp;result;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c17">Aici este definit&#259; metoda </span><span class="c13">GetValues()</span><span
            class="c5">, care returneaz&#259; un tuple. Tuple-ul este definit ca un set de valori plasate &icirc;ntre
            paranteze rotunde. &Icirc;n acest caz, return&#259;m un tuple din dou&#259; elemente de tip int, adic&#259;
            dou&#259; numere.</span></p>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Un alt exemplu:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.861ca3dfdd7ef6829619c52113f2b3784eb78b6a"></a><a id="t.10"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c6">var</span><span class="c2">&nbsp;tuple = GetValuesData(</span><span
                        class="c6">new</span><span class="c2">&nbsp;</span><span class="c6">int</span><span
                        class="c2">[] { </span><span class="c3">1</span><span class="c2">, </span><span
                        class="c3">2</span><span class="c2">, </span><span class="c3">3</span><span class="c2">,
                    </span><span class="c3">4</span><span class="c2">, </span><span class="c3">5</span><span
                        class="c2">, </span><span class="c3">6</span><span class="c2">, </span><span
                        class="c3">7</span><span
                        class="c2">&nbsp;});<br>Console.WriteLine(tuple.count);<br>Console.WriteLine(tuple.sum);<br><br>(</span><span
                        class="c6">int</span><span class="c2">&nbsp;sum, </span><span class="c6">int</span><span
                        class="c2">&nbsp;count) GetValuesData(</span><span class="c6">int</span><span class="c2">[]
                        numbers)<br>{<br> &nbsp; &nbsp;</span><span class="c6">var</span><span class="c2">&nbsp;result =
                        (sum: </span><span class="c3">0</span><span class="c2">, count: numbers.Length);<br> &nbsp;
                        &nbsp;</span><span class="c6">foreach</span><span class="c2">&nbsp;(</span><span
                        class="c6">var</span><span class="c2">&nbsp;n </span><span class="c6">in</span><span
                        class="c2">&nbsp;numbers)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;result.sum += n;<br>
                        &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c6">return</span><span
                        class="c2">&nbsp;result;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c14">Tuple ca parametru al metodei.</span></p>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Tuple-urile pot fi de asemenea transmise ca parametru unei metode:</span></p>
    <p class="c0"><span class="c5"></span></p><a id="t.67014507d5624861511819a5ffd7f3ad7821d32d"></a><a id="t.11"></a>
    <table class="c12">
        <tr class="c8">
            <td class="c1" colspan="1" rowspan="1">
                <p class="c10"><span class="c2">PrintPerson((</span><span class="c4">&quot;Tom&quot;</span><span
                        class="c2">, </span><span class="c3">37</span><span class="c2">)); &nbsp; </span><span
                        class="c7">// Tom - 37</span><span class="c2"><br>PrintPerson((</span><span
                        class="c4">&quot;Bob&quot;</span><span class="c2">, </span><span class="c3">41</span><span
                        class="c2">)); &nbsp; </span><span class="c7">// Bob - 41</span><span
                        class="c2"><br><br></span><span class="c6">void</span><span class="c2">&nbsp;</span><span
                        class="c11">PrintPerson</span><span class="c2">((</span><span class="c6">string</span><span
                        class="c2">&nbsp;name, </span><span class="c6">int</span><span class="c2">&nbsp;age)
                        person)<br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c4">$&quot;{person.name} -
                        {person.age}&quot;</span><span class="c2">);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0"><span class="c5"></span></p>
    <p class="c9"><span class="c5">Aici, &icirc;n metoda PrintPerson, este transmis un tuple din dou&#259; elemente,
            primul dintre ele reprezent&acirc;nd un &#537;ir de caractere, iar al doilea - o valoare de tip int.</span>
    </p>
    <p class="c0"><span class="c5"></span></p>
</body>

</html>