<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        @import url(https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_aH4gUIUjZTH34PuvJkbTJT);

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c2 {
            border-right-style: solid;
            padding: 5pt 5pt 5pt 5pt;
            border-bottom-color: #000000;
            border-top-width: 0pt;
            border-right-width: 0pt;
            border-left-color: #000000;
            vertical-align: top;
            border-right-color: #000000;
            border-left-width: 0pt;
            border-top-style: solid;
            background-color: #333333;
            border-left-style: solid;
            border-bottom-width: 0pt;
            width: 468pt;
            border-top-color: #000000;
            border-bottom-style: solid
        }

        .c14 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 15pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c4 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c16 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 27pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c9 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left;
            height: 11pt
        }

        .c13 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c3 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #a2fca2;
            font-weight: 400
        }

        .c0 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #ffffff;
            font-weight: 400
        }

        .c1 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #fcc28c;
            font-weight: 400
        }

        .c5 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #d36363;
            font-weight: 400
        }

        .c6 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #ffffaa;
            font-weight: 400
        }

        .c11 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Consolas";
            color: #888888;
            font-weight: 400
        }

        .c7 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.15;
            text-align: left
        }

        .c15 {
            border-spacing: 0;
            border-collapse: collapse;
            margin-right: auto
        }

        .c8 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c10 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 400
        }

        .c18 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c17 {
            font-style: italic
        }

        .c12 {
            height: 0pt
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body class="c18 doc-content">
    <h1 class="c13 c16">Recorduri.</h1>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Recordurile reprezint&#259; un nou tip referen&#539;ial, care a ap&#259;rut &icirc;n
            C# 9. Caracteristica principal&#259; a recordurilor este c&#259; pot reprezenta un tip imuabil (immutable)
            care, &icirc;n mod implicit, are o serie de avantaje fa&#539;&#259; de clase &#537;i structuri. De ce avem
            nevoie de tipuri imuabile? Aceste tipuri sunt mai sigure &icirc;n situa&#539;iile &icirc;n care trebuie
            s&#259; garant&#259;m c&#259; datele unui obiect nu vor fi modificate. &Icirc;n .NET exist&#259; deja tipuri
            imuabile, de exemplu, String.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Este important de men&#539;ionat c&#259;, &icirc;ncep&acirc;nd cu versiunea C# 10, a
            fost ad&#259;ugat&#259; suportul pentru structuri record, astfel putem crea clase record &#537;i structuri
            record.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">Pentru a defini recorduri se folose&#537;te cuv&acirc;ntul cheie </span><span
            class="c8">record</span><span class="c10">. Dac&#259; se define&#537;te o clas&#259; record, cuv&acirc;ntul
            cheie </span><span class="c10 c17">class </span><span class="c4">poate fi omis la definirea tipului:</span>
    </p>
    <p class="c9"><span class="c4"></span></p><a id="t.3339ccb28cdd08f0531c692dc896ce216f2fabf0"></a><a id="t.0"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">public</span><span class="c0">&nbsp;record Person<br>{<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c1">string</span><span class="c0">&nbsp;Name { </span><span class="c1">get</span><span
                        class="c0">; </span><span class="c1">set</span><span class="c0">; }<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;name) =&gt; Name = name;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">sau astfel:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.98abdc73fcb3591aa77f276437c3f2e49d81f265"></a><a id="t.1"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">public</span><span class="c0">&nbsp;record </span><span
                        class="c1">class</span><span class="c0">&nbsp;</span><span class="c6">Person</span><span
                        class="c0"><br>{<br> &nbsp; &nbsp;</span><span class="c1">public</span><span
                        class="c0">&nbsp;</span><span class="c1">string</span><span class="c0">&nbsp;Name { </span><span
                        class="c1">get</span><span class="c0">; </span><span class="c1">set</span><span class="c0">;
                        }<br> &nbsp; &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;name) =&gt; Name = name;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">La definirea unei structuri record, trebuie folosit cuv&acirc;ntul cheie
        </span><span class="c8">struct</span><span class="c4">:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.76c3579051065c15c2427decad636d74d02db3e0"></a><a id="t.2"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">public</span><span class="c0">&nbsp;record </span><span
                        class="c1">struct</span><span class="c0">&nbsp;Person<br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c1">string</span><span
                        class="c0">&nbsp;Name { </span><span class="c1">get</span><span class="c0">; </span><span
                        class="c1">set</span><span class="c0">; }<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c6">Person</span><span
                        class="c0">(</span><span class="c1">string</span><span class="c0">&nbsp;name) =&gt; Name =
                        name;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">De&#537;i recordurile sunt destinate cre&#259;rii tipurilor imuabile, folosirea
            simpl&#259; a cuv&acirc;ntului cheie </span><span class="c8">record </span><span class="c4">nu
            garanteaz&#259; imuabilitatea obiectelor record. Ele sunt imuabile doar &icirc;n anumite condi&#539;ii. De
            exemplu, putem scrie astfel:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.b3dae6618a00c2481069fbcac4d2520800582feb"></a><a id="t.3"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">);<br>person.Name = </span><span
                        class="c3">&quot;Bob&quot;</span><span class="c0">;<br>Console.WriteLine(person.Name);
                    </span><span class="c11">// Bob - datele au fost modificate</span><span
                        class="c0"><br><br></span><span class="c1">public</span><span class="c0">&nbsp;record
                        Person<br>{<br> &nbsp; &nbsp;</span><span class="c1">public</span><span
                        class="c0">&nbsp;</span><span class="c1">string</span><span class="c0">&nbsp;Name { </span><span
                        class="c1">get</span><span class="c0">; </span><span class="c1">set</span><span class="c0">;
                        }<br> &nbsp; &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;name) =&gt; Name = name;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">La executarea acestui cod nu va ap&#259;rea nicio eroare, putem modifica valorile
            propriet&#259;&#539;ilor obiectului Person. Pentru a-l face cu adev&#259;rat imuabil, trebuie s&#259;
            folosim modificatorul </span><span class="c8">init </span><span class="c4">&icirc;n loc de setterele
            obi&#537;nuite pentru propriet&#259;&#539;i.</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.bd1c8e402510758cdf2c098e890e4fcee280fd5c"></a><a id="t.4"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">);<br>person.Name = </span><span
                        class="c3">&quot;Bob&quot;</span><span class="c0">; &nbsp; &nbsp;</span><span class="c11">// !
                        eroare - proprietatea nu poate fi modificat&#259;</span><span class="c0"><br><br></span><span
                        class="c1">public</span><span class="c0">&nbsp;record Person<br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c1">string</span><span
                        class="c0">&nbsp;Name { </span><span class="c1">get</span><span class="c0">; init; }<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;name) =&gt; Name = name;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">&Icirc;n acest caz, vom primi o eroare la &icirc;ncercarea de a modifica valorile
            propriet&#259;&#539;ilor obiectului Person.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">Recordurile sunt similare cu clasele &#537;i structurile obi&#537;nuite &icirc;n
            multe privin&#539;e, de exemplu, pot fi abstracte, pot fi mo&#537;tenite sau putem interzice mo&#537;tenirea
            cu ajutorul operatorului </span><span class="c10 c17">sealed</span><span class="c4">. Cu toate acestea,
            exist&#259; &#537;i diferen&#539;e. S&#259; examin&#259;m c&acirc;teva dintre principalele diferen&#539;e
            &icirc;ntre recorduri &#537;i clasele &#537;i structurile standard.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c14">Compararea pentru egalitate.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">La definirea unui record, compilatorul genereaz&#259; metoda</span><span
            class="c8">&nbsp;Equals()</span><span class="c4">&nbsp;pentru compararea cu alt obiect. Compararea a
            dou&#259; recorduri se face pe baza valorilor acestora. De exemplu:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.4912e00c6d7a29fcb95c4d7ed73c1721ce0d015a"></a><a id="t.5"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person1 = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">);<br></span><span class="c1">var</span><span
                        class="c0">&nbsp;person2 = </span><span class="c1">new</span><span
                        class="c0">&nbsp;Person(</span><span class="c3">&quot;Tom&quot;</span><span
                        class="c0">);<br>Console.WriteLine(person1.Equals(person2)); </span><span class="c11">//
                        true</span><span class="c0"><br><br></span><span class="c1">var</span><span
                        class="c0">&nbsp;user1 = </span><span class="c1">new</span><span
                        class="c0">&nbsp;User(</span><span class="c3">&quot;Tom&quot;</span><span
                        class="c0">);<br></span><span class="c1">var</span><span class="c0">&nbsp;user2 = </span><span
                        class="c1">new</span><span class="c0">&nbsp;User(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">);<br>Console.WriteLine(user1.Equals(user2));
                        &nbsp; &nbsp; </span><span class="c11">// false</span><span class="c0"><br><br></span><span
                        class="c1">public</span><span class="c0">&nbsp;record Person<br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c1">string</span><span
                        class="c0">&nbsp;Name { </span><span class="c1">get</span><span class="c0">; init; }<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;name) =&gt; Name = name;<br>}<br><br></span><span class="c1">public</span><span
                        class="c0">&nbsp;</span><span class="c1">class</span><span class="c0">&nbsp;</span><span
                        class="c6">User</span><span class="c0"><br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c1">string</span><span
                        class="c0">&nbsp;Name { </span><span class="c1">get</span><span class="c0">; init; }<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c6">User</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;name) =&gt; Name = name;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">&Icirc;n acest caz, la compararea a dou&#259; obiecte record Person, vom vedea
            c&#259; acestea sunt egale, deoarece valorile lor (proprietatea Name) sunt egale. &Icirc;ns&#259;, &icirc;n
            cazul obiectelor clasei User, care au acelea&#537;i valori, vom vedea c&#259; nu sunt egale, deoarece
            compararea recordurilor se face</span><span class="c8">&nbsp;pe baza valorii</span><span class="c4">.</span>
    </p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">&Icirc;n plus, pentru recorduri sunt implementa&#539;i implicit operatorii
        </span><span class="c8">==</span><span class="c10">&nbsp;&#537;i</span><span class="c8">&nbsp;!=</span><span
            class="c4">, care compar&#259; dou&#259; recorduri pe baza valorii:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.893780286f205676d0e158a68e38688d9364293e"></a><a id="t.6"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person1 = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">);<br></span><span class="c1">var</span><span
                        class="c0">&nbsp;person2 = </span><span class="c1">new</span><span
                        class="c0">&nbsp;Person(</span><span class="c3">&quot;Tom&quot;</span><span
                        class="c0">);<br>Console.WriteLine(person1 == person2); </span><span class="c11">//
                        true</span><span class="c0"><br><br></span><span class="c1">var</span><span
                        class="c0">&nbsp;user1 = </span><span class="c1">new</span><span
                        class="c0">&nbsp;User(</span><span class="c3">&quot;Tom&quot;</span><span
                        class="c0">);<br></span><span class="c1">var</span><span class="c0">&nbsp;user2 = </span><span
                        class="c1">new</span><span class="c0">&nbsp;User(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">);<br>Console.WriteLine(user1 == user2);
                        &nbsp; &nbsp; </span><span class="c11">// false</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c14">Operatorul with.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">Spre deosebire de clase, recordurile suport&#259; ini&#539;ializarea folosind
            operatorul </span><span class="c8">with</span><span class="c4">. Acesta permite crearea unui record pe baza
            altui record:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.53dc513b5055aa31f282d7ff978131070f2b748d"></a><a id="t.7"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;tom = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br></span><span class="c1">var</span><span class="c0">&nbsp;sam = tom with { Name
                        = </span><span class="c3">&quot;Sam&quot;</span><span
                        class="c0">&nbsp;};<br>Console.WriteLine(</span><span class="c3">$&quot;{sam.Name} -
                        {sam.Age}&quot;</span><span class="c0">); </span><span class="c11">// Sam - 37</span><span
                        class="c0"><br><br></span><span class="c1">public</span><span class="c0">&nbsp;record
                        Person<br>{<br> &nbsp; &nbsp;</span><span class="c1">public</span><span
                        class="c0">&nbsp;</span><span class="c1">string</span><span class="c0">&nbsp;Name { </span><span
                        class="c1">get</span><span class="c0">; init; }<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c1">int</span><span
                        class="c0">&nbsp;Age { </span><span class="c1">get</span><span class="c0">; init; }<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;name, </span><span class="c1">int</span><span class="c0">&nbsp;age)<br> &nbsp;
                        &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Name = name; Age = age;<br> &nbsp; &nbsp;}<br>}</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">Dup&#259; recordul ale c&#259;rui valori dorim s&#259; le copiem, se
            utilizeaz&#259; operatorul </span><span class="c8">with</span><span class="c4">, dup&#259; care, &icirc;ntre
            acolade, se specific&#259; valorile pentru propriet&#259;&#539;ile pe care dorim s&#259; le modific&#259;m.
            &Icirc;n acest caz, variabila sam prime&#537;te valoarea propriet&#259;&#539;ii Age din tom, iar
            proprietatea Name este modificat&#259;.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Aceast&#259; caracteristic&#259; poate fi deosebit de util&#259; dac&#259; recordul
            pe care dorim s&#259;-l copiem are multe propriet&#259;&#539;i, dintre care dorim s&#259; schimb&#259;m
            una-dou&#259;.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Dac&#259; trebuie s&#259; copiem valorile tuturor propriet&#259;&#539;ilor, putem
            l&#259;sa acoladele goale:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.62b346169c791a0844c9345510c7a21743769f73"></a><a id="t.8"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person1 = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br></span><span class="c1">var</span><span class="c0">&nbsp;person2 = person1 with
                        { };</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c14">Recorduri pozi&#539;ionale.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Recordurile pot primi date pentru propriet&#259;&#539;i prin constructor, &#537;i
            &icirc;n acest caz putem scurta defini&#539;ia lor. De exemplu, s&#259; presupunem c&#259; avem
            urm&#259;torul record Person:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.ebe5c8eba8ac56afedb9ebe214b0d65cfb0bb379"></a><a id="t.9"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">public</span><span class="c0">&nbsp;record Person<br>{<br> &nbsp;
                        &nbsp;</span><span class="c1">public</span><span class="c0">&nbsp;</span><span
                        class="c1">string</span><span class="c0">&nbsp;Name { </span><span class="c1">get</span><span
                        class="c0">; init; }<br> &nbsp; &nbsp;</span><span class="c1">public</span><span
                        class="c0">&nbsp;</span><span class="c1">int</span><span class="c0">&nbsp;Age { </span><span
                        class="c1">get</span><span class="c0">; init; }<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c6">Person</span><span
                        class="c0">(</span><span class="c1">string</span><span class="c0">&nbsp;name, </span><span
                        class="c1">int</span><span class="c0">&nbsp;age)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;Name = name; Age = age;<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c1">void</span><span
                        class="c0">&nbsp;</span><span class="c6">Deconstruct</span><span class="c0">(</span><span
                        class="c1">out</span><span class="c0">&nbsp;</span><span class="c1">string</span><span
                        class="c0">&nbsp;name, </span><span class="c1">out</span><span class="c0">&nbsp;</span><span
                        class="c1">int</span><span class="c0">&nbsp;age) =&gt; (name, age) = (Name, Age);<br>}</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Pe l&acirc;ng&#259; constructor, aici este implementat &#537;i un deconstructor,
            care permite descompunerea obiectului Person &icirc;ntr-un tuple de valori. Am putea folosi aceasta, de
            exemplu, astfel:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.51317b880abb1ed56245d89f16d09a945fb8b15d"></a><a id="t.10"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br>Console.WriteLine(person.Name); </span><span class="c11">// Tom</span><span
                        class="c0"><br><br></span><span class="c1">var</span><span class="c0">&nbsp;(personName,
                        personAge) = person;<br><br>Console.WriteLine(personAge); &nbsp; &nbsp; </span><span
                        class="c11">// 37</span><span class="c0"><br>Console.WriteLine(personName); &nbsp;
                        &nbsp;</span><span class="c11">// Tom</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Recordul Person definit mai sus poate fi redus la un record pozi&#539;ional:</span>
    </p>
    <p class="c9"><span class="c4"></span></p><a id="t.1e0a2f9bdcee20b26e9b7916221ad685e8fcdcad"></a><a id="t.11"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">public</span><span class="c0">&nbsp;record </span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;Name, </span><span class="c1">int</span><span class="c0">&nbsp;Age);</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Aceasta este toat&#259; defini&#539;ia tipului. Adic&#259;, spunem c&#259; pentru
            tipul Person va fi creat un constructor care prime&#537;te doi parametri &#537;i le atribuie valorile
            corespunz&#259;toare propriet&#259;&#539;ilor Name &#537;i Age, &#537;i c&#259; va fi creat automat &#537;i
            un deconstructor. Utilizarea sa va fi similar&#259;:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.fbbad854757a8b30ddbe1167087d6ae535a1453b"></a><a id="t.12"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br>Console.WriteLine(person); </span><span class="c11">// Tom</span><span
                        class="c0"><br><br></span><span class="c1">var</span><span class="c0">&nbsp;(personName,
                        personAge) = person;<br><br>Console.WriteLine(personAge); &nbsp; &nbsp; </span><span
                        class="c11">// 37</span><span class="c0"><br>Console.WriteLine(personName); &nbsp;
                        &nbsp;</span><span class="c11">// Tom</span><span class="c0"><br><br></span><span
                        class="c1">public</span><span class="c0">&nbsp;record </span><span class="c6">Person</span><span
                        class="c0">(</span><span class="c1">string</span><span class="c0">&nbsp;Name, </span><span
                        class="c1">int</span><span class="c0">&nbsp;Age);</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Dac&#259; este necesar, putem combina defini&#539;ia standard a
            propriet&#259;&#539;ilor cu defini&#539;ia propriet&#259;&#539;ilor prin constructor:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.f9f6118a44bf56e832cafc423b30bf5d2ad586dc"></a><a id="t.13"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">) { Company = </span><span class="c3">&quot;Google&quot;</span><span
                        class="c0">&nbsp;};<br>Console.WriteLine(person.Company); </span><span class="c11">//
                        Google</span><span class="c0"><br>person.Company = </span><span
                        class="c3">&quot;Microsoft&quot;</span><span class="c0">;<br>Console.WriteLine(person.Company);
                    </span><span class="c11">// Microsoft</span><span class="c0"><br><br></span><span
                        class="c1">public</span><span class="c0">&nbsp;record </span><span class="c6">Person</span><span
                        class="c0">(</span><span class="c1">string</span><span class="c0">&nbsp;Name, </span><span
                        class="c1">int</span><span class="c0">&nbsp;Age)<br>{<br> &nbsp; &nbsp;</span><span
                        class="c1">public</span><span class="c0">&nbsp;</span><span class="c1">string</span><span
                        class="c0">&nbsp;Company { </span><span class="c1">get</span><span class="c0">; </span><span
                        class="c1">set</span><span class="c0">; } = </span><span class="c3">&quot;&quot;</span><span
                        class="c0">;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c14">Structuri pozi&#539;ionale pentru citire.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">Este important s&#259; men&#539;ion&#259;m diferen&#539;a dintre clasele &#537;i
            structurile record pozi&#539;ionale. Propriet&#259;&#539;ile clasei record, care sunt setate prin parametrii
            constructorului, vor avea implicit modificatorul </span><span class="c8">init</span><span class="c4">.
            Adic&#259;, dup&#259; setarea valorilor prin constructor, nu vom mai putea modifica aceste valori:</span>
    </p>
    <p class="c9"><span class="c4"></span></p><a id="t.2bc057911bb7037d5ff39bc01f89a52c892f55a1"></a><a id="t.14"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br>person.Name = </span><span class="c3">&quot;Bob&quot;</span><span class="c0">;
                        &nbsp; &nbsp;</span><span class="c11">// ! Eroare - valoarea nu poate fi
                        modificat&#259;</span><span class="c0"><br><br></span><span class="c1">public</span><span
                        class="c0">&nbsp;record </span><span class="c6">Person</span><span class="c0">(</span><span
                        class="c1">string</span><span class="c0">&nbsp;Name, </span><span class="c1">int</span><span
                        class="c0">&nbsp;Age);</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Este de men&#539;ionat c&#259; acest lucru se aplic&#259; doar
            propriet&#259;&#539;ilor care sunt setate prin constructor.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Totu&#537;i, pentru structurile record pozi&#539;ionale, propriet&#259;&#539;ile vor
            avea setterele standard, permi&#539;&acirc;nd modificarea valorilor:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.50d282a340bbc12708e7fea9f35ec5b57ae31552"></a><a id="t.15"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br>person.Name = </span><span class="c3">&quot;Bob&quot;</span><span
                        class="c0">;<br>Console.WriteLine(person.Name); </span><span class="c11">// Bob - valoarea a
                        fost modificat&#259;</span><span class="c0"><br><br></span><span class="c11">// structura
                        record</span><span class="c0"><br></span><span class="c1">public</span><span
                        class="c0">&nbsp;record </span><span class="c1">struct</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;Name, </span><span class="c1">int</span><span class="c0">&nbsp;Age);</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">Pentru a folosi modificatorul </span><span class="c8">init </span><span
            class="c10">&icirc;n locul setterelor standard pentru astfel de propriet&#259;&#539;i ale structurii record,
            trebuie s&#259; definim structura cu cuv&acirc;ntul cheie </span><span class="c8">readonly</span><span
            class="c4">:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.45c1b69b297df1de617f52f364c040a57458d8e6"></a><a id="t.16"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br>person.Name = </span><span class="c3">&quot;Bob&quot;</span><span class="c0">;
                        &nbsp; &nbsp;</span><span class="c11">// ! Eroare - valoarea propriet&#259;&#539;ii nu poate fi
                        modificat&#259;</span><span class="c0"><br><br></span><span class="c11">// structura record doar
                        pentru citire</span><span class="c0"><br></span><span class="c1">public</span><span
                        class="c0">&nbsp;</span><span class="c1">readonly</span><span class="c0">&nbsp;record
                    </span><span class="c1">struct</span><span class="c0">&nbsp;</span><span
                        class="c6">Person</span><span class="c0">(</span><span class="c1">string</span><span
                        class="c0">&nbsp;Name, </span><span class="c1">int</span><span class="c0">&nbsp;Age);</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c14">ToString.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c10">Un mic avantaj al tipurilor record este c&#259; pentru ele este implementat&#259;
            implicit metoda</span><span class="c8">&nbsp;ToString()</span><span class="c4">, care afi&#537;eaz&#259;
            starea obiectului &icirc;ntr-un format structurat:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.53a80263372f92ed55e9afcae208fef89e122c76"></a><a id="t.17"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;person = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br>Console.WriteLine(person); </span><span class="c11">// Person { Name = Tom, Age
                        = 37 }</span><span class="c0"><br><br></span><span class="c1">public</span><span
                        class="c0">&nbsp;record </span><span class="c6">Person</span><span class="c0">(</span><span
                        class="c1">string</span><span class="c0">&nbsp;Name, </span><span class="c1">int</span><span
                        class="c0">&nbsp;Age);</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c14">Mo&#537;tenirea.</span></p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">Ca &#537;i clasele obi&#537;nuite, recordurile pot fi mo&#537;tenite:</span></p>
    <p class="c9"><span class="c4"></span></p><a id="t.81b1a520e4169398b487f4dddd36f82516911837"></a><a id="t.18"></a>
    <table class="c15">
        <tr class="c12">
            <td class="c2" colspan="1" rowspan="1">
                <p class="c7"><span class="c1">var</span><span class="c0">&nbsp;tom = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Person(</span><span
                        class="c3">&quot;Tom&quot;</span><span class="c0">, </span><span class="c5">37</span><span
                        class="c0">);<br></span><span class="c1">var</span><span class="c0">&nbsp;bob = </span><span
                        class="c1">new</span><span class="c0">&nbsp;Employee(</span><span
                        class="c3">&quot;Bob&quot;</span><span class="c0">, </span><span class="c5">41</span><span
                        class="c0">, </span><span class="c3">&quot;Microsoft&quot;</span><span
                        class="c0">);<br>Console.WriteLine(tom); </span><span class="c11">// Person { Name = Tom, Age =
                        37 }</span><span class="c0"><br>Console.WriteLine(bob); </span><span class="c11">// Person {
                        Name = Bob, Age = 41, Company = Microsoft }</span><span class="c0"><br><br></span><span
                        class="c1">public</span><span class="c0">&nbsp;record </span><span class="c6">Person</span><span
                        class="c0">(</span><span class="c1">string</span><span class="c0">&nbsp;Name, </span><span
                        class="c1">int</span><span class="c0">&nbsp;Age);<br></span><span class="c1">public</span><span
                        class="c0">&nbsp;record </span><span class="c6">Employee</span><span class="c0">(</span><span
                        class="c1">string</span><span class="c0">&nbsp;Name, </span><span class="c1">int</span><span
                        class="c0">&nbsp;Age, </span><span class="c1">string</span><span class="c0">&nbsp;Company) :
                    </span><span class="c6">Person</span><span class="c0">(Name, Age);</span></p>
            </td>
        </tr>
    </table>
    <p class="c9"><span class="c4"></span></p>
    <p class="c13"><span class="c4">&Icirc;n acest caz, clasa record Employee mo&#537;tene&#537;te de la Person.</span>
    </p>
    <p class="c9"><span class="c4"></span></p>
    <p class="c9"><span class="c4"></span></p>
</body>

</html>