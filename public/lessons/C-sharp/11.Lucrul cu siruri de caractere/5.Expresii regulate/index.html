<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><link rel="stylesheet" type="text/css" href="/lessons/styles.css"></head><body class="c22 doc-content"><p class="c2"><span class="c20">Expresii regulate.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Clasele StringBuilder &#537;i String ofer&#259; func&#539;ionalitate suficient&#259; pentru lucrul cu &#537;iruri de caractere. Cu toate acestea, .NET ofer&#259; &icirc;nc&#259; un instrument puternic - expresiile regulate. Expresiile regulate reprezint&#259; o metod&#259; eficient&#259; &#537;i flexibil&#259; pentru procesarea textelor mari, permi&#539;&acirc;nd &icirc;n acela&#537;i timp reducerea semnificativ&#259; a volumului de cod comparativ cu utilizarea opera&#539;iilor standard cu &#537;iruri.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c10">Func&#539;ionalitatea principal&#259; a expresiilor regulate &icirc;n .NET este concentrat&#259; &icirc;n spa&#539;iul de nume</span><span class="c5">&nbsp;System.Text.RegularExpressions</span><span class="c10">. Clasa central&#259; pentru lucrul cu expresiile regulate este clasa </span><span class="c5">Regex</span><span class="c9">. De exemplu, avem un text &#537;i trebuie s&#259; g&#259;sim toate formele unui cuv&acirc;nt. Cu clasa Regex, acest lucru se face foarte simplu:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.f6683d69d8603fa2999aed76aac5a4c137c90df6"></a><a id="t.0"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c12">using</span><span class="c4">&nbsp;System.Text.RegularExpressions;<br><br></span><span class="c12">string</span><span class="c4">&nbsp;s = </span><span class="c13">&quot;Boul cu buze groase, buzi&#537;oare groaznice, boul are buza alb&#259; groas&#259;&quot;</span><span class="c4">;<br>Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">@&quot;gro(a*)&quot;</span><span class="c4">);<br>MatchCollection matches = regex.Matches(s);<br></span><span class="c12">if</span><span class="c4">&nbsp;(matches.Count &gt; </span><span class="c21">0</span><span class="c4">)<br>{<br> &nbsp; &nbsp;</span><span class="c12">foreach</span><span class="c4">&nbsp;(Match match </span><span class="c12">in</span><span class="c4">&nbsp;matches)<br> &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(match.Value);<br>}<br></span><span class="c12">else</span><span class="c4"><br>{<br> &nbsp; &nbsp;Console.WriteLine(</span><span class="c13">&quot;Nu s-au g&#259;sit potriviri&quot;</span><span class="c4">);<br>}</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Aici g&#259;sim &icirc;n &#537;irul c&#259;utat toate formele cuv&acirc;ntului &quot;groa&quot;. &Icirc;n constructorul obiectului Regex se transmite expresia regulat&#259; pentru c&#259;utare. Vom analiza mai departe c&acirc;teva elemente ale sintaxei expresiilor regulate, dar deocamdat&#259; este suficient s&#259; &#537;tim c&#259; expresia gro(a*) &icirc;nseamn&#259; g&#259;sirea tuturor cuvintelor care au r&#259;d&#259;cina &quot;groa&quot; &#537;i dup&#259; care poate urma un num&#259;r variabil de caractere. Expresia \w reprezint&#259; un caracter alfanumeric, iar asteriscul dup&#259; expresie indic&#259; un num&#259;r nedefinit de astfel de caractere - pot fi unul, dou&#259;, trei sau deloc.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Metoda Matches a clasei Regex accept&#259; un &#537;ir, la care trebuie aplicate expresiile regulate, &#537;i returneaz&#259; o colec&#539;ie de potriviri g&#259;site.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c10">Fiecare element al acestei colec&#539;ii reprezint&#259; un obiect </span><span class="c5">Match</span><span class="c9">. Proprietatea sa Value returneaz&#259; potrivirea g&#259;sit&#259;.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">&Icirc;n acest caz, vom ob&#539;ine urm&#259;toarea afi&#537;are &icirc;n consol&#259;:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.28584e4dbc2734dac66dec5b158175f3e519b168"></a><a id="t.1"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c4">groase<br>groaznice<br>groas&#259;</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c15">Parametrul RegexOptions.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Clasa Regex are o serie de constructori care permit ini&#539;ializarea obiectului. Dou&#259; versiuni ale constructorilor accept&#259; ca unul dintre parametri enumerarea RegexOptions. C&acirc;teva dintre valorile acceptate de aceast&#259; enumerare sunt:</span></p><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_g4n5eqd7y0vf-0 start"><li class="c0 li-bullet-0"><span class="c5">Compiled</span><span class="c9">: c&acirc;nd este setat&#259; aceast&#259; valoare, expresia regulat&#259; este compilat&#259; &icirc;ntr-o asamblare, ceea ce asigur&#259; o execu&#539;ie mai rapid&#259;.</span></li></ul><p class="c2 c17 c8"><span class="c9"></span></p><ul class="c1 lst-kix_g4n5eqd7y0vf-0"><li class="c0 li-bullet-0"><span class="c5">CultureInvariant</span><span class="c9">: c&acirc;nd este setat&#259; aceast&#259; valoare, vor fi ignorate diferen&#539;ele regionale.</span></li></ul><p class="c2 c8 c17"><span class="c9"></span></p><ul class="c1 lst-kix_g4n5eqd7y0vf-0"><li class="c0 li-bullet-0"><span class="c5">IgnoreCase</span><span class="c9">: c&acirc;nd este setat&#259; aceast&#259; valoare, va fi ignorat&#259; diferen&#539;a &icirc;ntre majuscule &#537;i minuscule.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_g4n5eqd7y0vf-0"><li class="c0 li-bullet-0"><span class="c5">IgnorePatternWhitespace</span><span class="c9">: elimin&#259; spa&#539;iile din &#537;ir &#537;i permite comentarii care &icirc;ncep cu semnul #.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_g4n5eqd7y0vf-0"><li class="c0 li-bullet-0"><span class="c5">Multiline</span><span class="c9">: specific&#259; c&#259; textul trebuie considerat &icirc;n mod multiline. &Icirc;n acest mod, caracterele &quot;^&quot; &#537;i &quot;$&quot; se potrivesc cu &icirc;nceputul &#537;i sf&acirc;r&#537;itul oric&#259;rei linii, nu doar al &icirc;ntregului text.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_g4n5eqd7y0vf-0"><li class="c0 li-bullet-0"><span class="c5">RightToLeft</span><span class="c9">: specific&#259; citirea &#537;irului de la dreapta la st&acirc;nga.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_g4n5eqd7y0vf-0"><li class="c0 li-bullet-0"><span class="c5">Singleline</span><span class="c9">: &icirc;n acest mod, caracterul &quot;.&quot; corespunde oric&#259;rui caracter, inclusiv secven&#539;ei &quot;\n&quot; care realizeaz&#259; trecerea la o linie nou&#259;.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">De exemplu:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.568947d7c0692b79ac0b1f1126c043ff0e01aa8b"></a><a id="t.2"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c4">Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">@&quot;gro(a*)&quot;</span><span class="c4">, RegexOptions.IgnoreCase);</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Dac&#259; este necesar, putem seta mai mul&#539;i parametri:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.805b074fca2116420c4211399c569cc5d74b5ea5"></a><a id="t.3"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c4">Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">@&quot;gro(a*)&quot;</span><span class="c4">, RegexOptions.Compiled | RegexOptions.IgnoreCase);</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c15">Sintaxa expresiilor regulate.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">S&#259; analiz&#259;m pe scurt c&acirc;teva elemente ale sintaxei expresiilor regulate:</span></p><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0 start"><li class="c0 li-bullet-0"><span class="c5">^</span><span class="c9">: potrivirea trebuie s&#259; &icirc;nceap&#259; la &icirc;nceputul &#537;irului (de exemplu, expresia @&quot;^cu\w*&quot; se potrive&#537;te cuv&acirc;ntului &quot;cuv&acirc;nt&quot; &icirc;n &#537;irul &quot;cuv&acirc;nt mare&quot;).</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">$</span><span class="c9">: sf&acirc;r&#537;itul &#537;irului (de exemplu, expresia @&quot;\w*are$&quot; se potrive&#537;te cuv&acirc;ntului &quot;mare&quot; &icirc;n &#537;irul &quot;cuv&acirc;nt mare&quot;, deoarece partea &quot;are&quot; se afl&#259; la sf&acirc;r&#537;it).</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">.</span><span class="c9">: punctul reprezint&#259; orice caracter unic (de exemplu, expresia &quot;c.v&quot; se potrive&#537;te cuv&acirc;ntului &quot;cuv&acirc;nt&quot; sau &quot;cav&quot;).</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">*</span><span class="c9">: caracterul anterior se repet&#259; de 0 sau mai multe ori.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">+</span><span class="c9">: caracterul anterior se repet&#259; de 1 sau mai multe ori.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">?</span><span class="c9">: caracterul anterior se repet&#259; de 0 sau 1 dat&#259;.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">\s</span><span class="c9">: corespunde oric&#259;rui caracter de spa&#539;iu.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">\S</span><span class="c9">: corespunde oric&#259;rui caracter care nu este spa&#539;iu.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">\w</span><span class="c9">: corespunde oric&#259;rui caracter alfanumeric.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">\W</span><span class="c9">: corespunde oric&#259;rui caracter non-alfanumeric.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">\d</span><span class="c9">: corespunde oric&#259;rei cifre zecimale.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><ul class="c1 lst-kix_bvfm1kz2ztvu-0"><li class="c0 li-bullet-0"><span class="c5">\D</span><span class="c9">: corespunde oric&#259;rui caracter care nu este o cifr&#259; zecimal&#259;.</span></li></ul><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c10">Aceasta este doar o mic&#259; parte a elementelor. O descriere mai detaliat&#259; a sintaxei expresiilor regulate poate fi g&#259;sit&#259; pe msdn &icirc;n articolul</span><span class="c10 c19"><a class="c11" href="https://www.google.com/url?q=https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference&amp;sa=D&amp;source=editors&amp;ust=1722973977717320&amp;usg=AOvVaw2AEBYkRIAkK70VdwlhOYoq">&nbsp;&quot;Regular Expression Language - Quick Reference&quot;</a></span><span class="c9">.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">S&#259; vedem acum c&acirc;teva exemple de utilizare. S&#259; lu&#259;m primul exemplu cu &quot;Boul cu buze groase, buzi&#537;oare groaznice, boul are buza alb&#259; groas&#259;&quot; &#537;i s&#259; g&#259;sim toate cuvintele &icirc;n care apare r&#259;d&#259;cina &quot;buze&quot;:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.c1924482c8fad4db73cb84854c2c45f6ff393b99"></a><a id="t.4"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c12">string</span><span class="c4">&nbsp;s = </span><span class="c13">&quot;Boul cu buze groase, buzi&#537;oare groaznice, boul are buza alb&#259; groas&#259;&quot;</span><span class="c4">;<br>Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">@&quot;\w*buz\w*&quot;</span><span class="c4">);</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Deoarece expresia \w* corespunde oric&#259;rei secven&#539;e de caractere alfanumerice de orice lungime, aceast&#259; expresie va g&#259;si toate cuvintele care con&#539;in r&#259;d&#259;cina &quot;buz&quot;.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Un alt exemplu simplu - g&#259;sirea unui num&#259;r de telefon &icirc;n formatul 111-111-1111:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.ed21c4fbab74d744c3e6e2e1e4fa8ce70724a24f"></a><a id="t.5"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c12">string</span><span class="c4">&nbsp;s = </span><span class="c13">&quot;456-435-2318&quot;</span><span class="c4">;<br>Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">@&quot;\d{3}-\d{3}-\d{4}&quot;</span><span class="c4">);</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Dac&#259; &#537;tim exact c&acirc;te caractere trebuie s&#259; fie, putem specifica num&#259;rul lor explicit &icirc;ntre acolade: \d{3} - &icirc;n acest caz, trei cifre.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Putem nu doar s&#259; specific&#259;m c&#259;utarea dup&#259; anumite tipuri de caractere - spa&#539;ii, cifre, ci &#537;i s&#259; specific&#259;m caracterele concrete care trebuie s&#259; apar&#259; &icirc;n expresia regulat&#259;. De exemplu, s&#259; rescriem exemplul cu num&#259;rul de telefon &#537;i s&#259; specific&#259;m clar ce caractere trebuie s&#259; con&#539;in&#259;:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.777af7bce9919a966690280ebc2f562e66418783"></a><a id="t.6"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c12">string</span><span class="c4">&nbsp;s = </span><span class="c13">&quot;456-435-2318&quot;</span><span class="c4">;<br>Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">&quot;[0-9]{3}-[0-9]{3}-[0-9]{4}&quot;</span><span class="c4">);</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">&Icirc;ntre paranteze p&#259;trate se specific&#259; intervalul de caractere care trebuie s&#259; apar&#259; &icirc;n acel loc. &Icirc;n cele din urm&#259;, acest &#537;ablon &#537;i &#537;ablonul anterior pentru num&#259;rul de telefon vor fi echivalente.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c10">De asemenea, putem specifica intervale pentru caracterele alfabetice: </span><span class="c10 c14">Regex regex = new Regex(&quot;[a-v]{5}&quot;);</span><span class="c9">&nbsp;- aceast&#259; expresie va corespunde oric&#259;rei combina&#539;ii de cinci caractere, &icirc;n care toate caracterele se afl&#259; &icirc;n intervalul de la a la v.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c10">Putem specifica &#537;i valori individuale:</span><span class="c10 c14">&nbsp;Regex regex = new Regex(@&quot;[2]*-[0-9]{3}-\d{4}&quot;)</span><span class="c9">;. Aceast&#259; expresie va corespunde, de exemplu, unui num&#259;r de telefon &quot;222-222-2222&quot; (deoarece primele cifre sunt doi).</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Cu ajutorul operatorului | putem specifica caractere alternative, de exemplu:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.55159840dbf8597375920cbbd6c4db846c816ebf"></a><a id="t.7"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c4">Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">@&quot;(2|3){3}-[0-9]{3}-\d{4}&quot;</span><span class="c4">);</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Adic&#259; primele trei cifre pot con&#539;ine doar doi sau trei. Un astfel de &#537;ablon va corespunde, de exemplu, &#537;irurilor &quot;222-222-2222&quot; &#537;i &quot;323-435-2318&quot;. Dar &#537;irul &quot;235-435-2318&quot; nu se va potrivi &#537;ablonului, deoarece una dintre primele trei cifre este cinci.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Astfel, caracterele precum *, + &#537;i altele sunt folosite ca simboluri speciale. &#536;i apare &icirc;ntrebarea, ce facem dac&#259; trebuie s&#259; g&#259;sim &#537;iruri care con&#539;in punct, asterisc sau alt simbol special? &Icirc;n acest caz, trebuie doar s&#259; sc&#259;p&#259;m aceste caractere cu un backslash:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.56560acf578a552f89f5dd5a17c733c944124f0e"></a><a id="t.8"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c4">Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(</span><span class="c13">@&quot;(2|3){3}\.[0-9]{3}\.\d{4}&quot;</span><span class="c4">);<br></span><span class="c18">// aceast&#259; expresie va corespunde &#537;irului &quot;222.222.2222&quot;</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c15">Verificarea formatului &#537;irului.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c10">Adesea, trebuie s&#259; verific&#259;m corectitudinea datelor introduse de utilizator. Aceasta poate fi verificarea unei adrese de email, a unui num&#259;r de telefon, etc. Clasa Regex ofer&#259; metoda static&#259; </span><span class="c5">IsMatch</span><span class="c9">, care permite verificarea unui &#537;ir cu un &#537;ablon:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.5feb158f29420c7a2fc157d0ad3c0eae26823948"></a><a id="t.9"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c12">using</span><span class="c4">&nbsp;System.Text.RegularExpressions;<br><br></span><span class="c12">string</span><span class="c4">&nbsp;pattern = </span><span class="c13">@&quot;^(?(&quot;&quot;)(&quot;&quot;[^&quot;&quot;]+?&quot;&quot;@)|(([0-9a-z]((\.(?!\.))|[-!#\$%&amp;&#39;\*\+/=\?\^\{\}\|~\w])*)(?&lt;=[0-9a-z])@))&quot;</span><span class="c4">&nbsp;+<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">@&quot;(?(\[)(\[(\d{1,3}\.){3}\d{1,3}\])|(([0-9a-z][-\w]*[0-9a-z]*\.)+[a-z0-9]{2,17}))$&quot;</span><span class="c4">;<br></span><span class="c12">var</span><span class="c4">&nbsp;data = </span><span class="c12">new</span><span class="c4">&nbsp;</span><span class="c12">string</span><span class="c4">[]<br>{<br> &nbsp; &nbsp;</span><span class="c13">&quot;tom@gmail.com&quot;</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c13">&quot;+12345678999&quot;</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c13">&quot;bob@yahoo.com&quot;</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c13">&quot;+13435465566&quot;</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c13">&quot;sam@yandex.ru&quot;</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c13">&quot;+43743989393&quot;</span><span class="c4"><br>};<br><br>Console.WriteLine(</span><span class="c13">&quot;Email List&quot;</span><span class="c4">);<br></span><span class="c12">for</span><span class="c4">(</span><span class="c12">int</span><span class="c4">&nbsp;i = </span><span class="c21">0</span><span class="c4">; i &lt; data.Length; i++)<br>{<br> &nbsp; &nbsp;</span><span class="c12">if</span><span class="c4">&nbsp;(Regex.IsMatch(data[i], pattern, RegexOptions.IgnoreCase))<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;Console.WriteLine(data[i]);<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Variabila pattern specific&#259; expresia regulat&#259; pentru verificarea adresei de email. Aceast&#259; expresie este oferit&#259; de Microsoft pe paginile msdn.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c10">Apoi, &icirc;n ciclul for, parcurgem tabloul de &#537;iruri &#537;i determin&#259;m care &#537;iruri corespund acestui &#537;ablon, adic&#259; reprezint&#259; o adres&#259; de email valid&#259;. Pentru verificarea coresponden&#539;ei unui &#537;ir cu un &#537;ablon, se folose&#537;te metoda IsMatch: </span><span class="c10 c14">Regex.IsMatch(data[i], pattern, RegexOptions.IgnoreCase)</span><span class="c10">. Ultimul parametru indic&#259; faptul c&#259; diferen&#539;ele de majuscule/minuscule pot fi ignorate. &#536;i dac&#259; &#537;irul corespunde &#537;ablonului, metoda returneaz&#259; </span><span class="c10 c14">true</span><span class="c9">.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c15">&Icirc;nlocuirea &#537;i metoda Replace.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Clasa Regex are metoda Replace, care permite &icirc;nlocuirea unui &#537;ir ce corespunde expresiei regulate cu un alt &#537;ir:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.67794e12766d23d21e58628076d23aeed503965d"></a><a id="t.10"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c12">string</span><span class="c4">&nbsp;text = </span><span class="c13">&quot;Mama sp&#259;la geamul.&quot;</span><span class="c4">;<br></span><span class="c12">string</span><span class="c4">&nbsp;pattern = </span><span class="c13">@&quot;\s+&quot;</span><span class="c4">;<br></span><span class="c12">string</span><span class="c4">&nbsp;target = </span><span class="c13">&quot; &quot;</span><span class="c4">;<br>Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(pattern);<br></span><span class="c12">string</span><span class="c4">&nbsp;result = regex.Replace(text, target);<br>Console.WriteLine(result);</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Aceast&#259; versiune a metodei Replace prime&#537;te doi parametri: &#537;irul cu textul unde trebuie f&#259;cut&#259; &icirc;nlocuirea &#537;i &#537;irul de &icirc;nlocuire. Deoarece &#537;ablonul ales este expresia &quot;\s+ (adic&#259; unul sau mai multe spa&#539;ii), metoda Replace parcurge tot textul &#537;i &icirc;nlocuie&#537;te spa&#539;iile consecutive cu unul singur.</span></p><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">Un alt exemplu - se d&#259; un num&#259;r de telefon &icirc;n format arbitrar &#537;i dorim s&#259; p&#259;str&#259;m doar cifrele:</span></p><p class="c2 c8"><span class="c9"></span></p><a id="t.0243aee9130d3528c16c3a5fae024c4c0bc431a6"></a><a id="t.11"></a><table class="c6"><tr class="c3"><td class="c7" colspan="1" rowspan="1"><p class="c16"><span class="c12">string</span><span class="c4">&nbsp;phoneNumber = </span><span class="c13">&quot;+1(876)-234-12-98&quot;</span><span class="c4">;<br></span><span class="c12">string</span><span class="c4">&nbsp;pattern = </span><span class="c13">@&quot;\D&quot;</span><span class="c4">;<br></span><span class="c12">string</span><span class="c4">&nbsp;target = </span><span class="c13">&quot;&quot;</span><span class="c4">;<br>Regex regex = </span><span class="c12">new</span><span class="c4">&nbsp;Regex(pattern);<br></span><span class="c12">string</span><span class="c4">&nbsp;result = regex.Replace(phoneNumber, target);<br>Console.WriteLine(result); </span><span class="c18">// 18762341298</span></p></td></tr></table><p class="c2 c8"><span class="c9"></span></p><p class="c2"><span class="c9">&Icirc;n acest caz, &#537;ablonul &quot;\D&quot; reprezint&#259; orice caracter care nu este cifr&#259;. Orice astfel de caracter este &icirc;nlocuit cu un &#537;ir gol &quot;&quot;, adic&#259; &icirc;n final din &#537;irul &quot;+1(876)-234-12-98&quot; ob&#539;inem &#537;irul &quot;18762341298&quot;.</span></p><p class="c2 c8"><span class="c9"></span></p></body></html>