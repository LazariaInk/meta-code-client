<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><link rel="stylesheet" type="text/css" href="/lessons/styles.css"></head><body class="c16 doc-content"><p class="c0"><span class="c9 c20">&#536;iruri &#537;i clasa String.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Un num&#259;r destul de mare de sarcini, care pot ap&#259;rea &icirc;n dezvoltarea aplica&#539;iilor, sunt &icirc;ntr-un fel sau altul legate de procesarea &#537;irurilor de caractere - parsarea paginilor web, c&#259;utarea &icirc;n text, unele sarcini analitice legate de extragerea informa&#539;iilor necesare din text, etc. De aceea, &icirc;n acest sens, lucrul cu &#537;irurile de caractere prime&#537;te o aten&#539;ie deosebit&#259;.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c3">&Icirc;n limbajul C# valorile de tip &#537;ir sunt reprezentate de tipul </span><span class="c7">string</span><span class="c3">, iar toat&#259; func&#539;ionalitatea lucrului cu acest tip este concentrat&#259; &icirc;n clasa </span><span class="c7">System.String</span><span class="c9 c3">. De fapt, string este un pseudonim pentru clasa String. Obiectele acestei clase reprezint&#259; textul ca o secven&#539;&#259; de caractere Unicode. Dimensiunea maxim&#259; a unui obiect String poate fi de 2 GB &icirc;n memorie, sau aproximativ 1 miliard de caractere.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c18">Crearea &#537;irurilor.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">&#536;irurile pot fi create at&acirc;t folosind o variabil&#259; de tip string &#537;i atribuindu-i o valoare, c&acirc;t &#537;i utiliz&acirc;nd unul dintre constructorii clasei String:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.0539a8d78e6c3da25e277d06a9eed551b6241ac7"></a><a id="t.0"></a><table class="c15"><tr class="c11"></tr></table><p class="c10 c1"><span class="c9 c3"></span></p><a id="t.c24d3ee7c5429cf7ed6cbe3036b896ce9177ec36"></a><a id="t.1"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">string</span><span class="c5">&nbsp;s1 = </span><span class="c8">&quot;hello&quot;</span><span class="c5">;<br></span><span class="c4">string</span><span class="c5">&nbsp;s2 = </span><span class="c4">new</span><span class="c5">&nbsp;String(</span><span class="c8">&#39;a&#39;</span><span class="c5">, </span><span class="c17">6</span><span class="c5">); </span><span class="c2">// rezultatul va fi &#537;irul &quot;aaaaaa&quot;</span><span class="c5"><br></span><span class="c4">string</span><span class="c5">&nbsp;s3 = </span><span class="c4">new</span><span class="c5">&nbsp;String(</span><span class="c4">new</span><span class="c5">&nbsp;</span><span class="c4">char</span><span class="c5">[] { </span><span class="c8">&#39;w&#39;</span><span class="c5">, </span><span class="c8">&#39;o&#39;</span><span class="c5">, </span><span class="c8">&#39;r&#39;</span><span class="c5">, </span><span class="c8">&#39;l&#39;</span><span class="c5">, </span><span class="c8">&#39;d&#39;</span><span class="c5">&nbsp;});<br></span><span class="c4">string</span><span class="c5">&nbsp;s4 = </span><span class="c4">new</span><span class="c5">&nbsp;String(</span><span class="c4">new</span><span class="c5">&nbsp;</span><span class="c4">char</span><span class="c5">[] { </span><span class="c8">&#39;w&#39;</span><span class="c5">, </span><span class="c8">&#39;o&#39;</span><span class="c5">, </span><span class="c8">&#39;r&#39;</span><span class="c5">, </span><span class="c8">&#39;l&#39;</span><span class="c5">, </span><span class="c8">&#39;d&#39;</span><span class="c5">&nbsp;}, </span><span class="c17">1</span><span class="c5">, </span><span class="c17">3</span><span class="c5">); </span><span class="c2">// orl</span><span class="c5"><br><br>Console.WriteLine(s1); &nbsp;</span><span class="c2">// hello</span><span class="c5"><br>Console.WriteLine(s2); &nbsp;</span><span class="c2">// aaaaaa</span><span class="c5"><br>Console.WriteLine(s3); &nbsp;</span><span class="c2">// world</span><span class="c5"><br>Console.WriteLine(s4); &nbsp;</span><span class="c2">// orl</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Constructorul String are diverse versiuni. Astfel, apelul constructorului:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.dac735f787ea3afddd7337dd7ceecf4ef5146b90"></a><a id="t.2"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">new</span><span class="c5">&nbsp;String(</span><span class="c8">&#39;a&#39;</span><span class="c5">, </span><span class="c17">6</span><span class="c5">)</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">repet&#259; de 6 ori obiectul din primul parametru, adic&#259; de fapt creeaz&#259; &#537;irul &quot;aaaaaa&quot;.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Un alt constructor prime&#537;te un tablou de caractere, din care se creeaz&#259; &#537;irul:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.9407ea023b418a34de5ade262a8c2dd835f61bd1"></a><a id="t.3"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">string</span><span class="c5">&nbsp;s3 = </span><span class="c4">new</span><span class="c5">&nbsp;String(</span><span class="c4">new</span><span class="c5">&nbsp;</span><span class="c4">char</span><span class="c5">[] { </span><span class="c8">&#39;w&#39;</span><span class="c5">, </span><span class="c8">&#39;o&#39;</span><span class="c5">, </span><span class="c8">&#39;r&#39;</span><span class="c5">, </span><span class="c8">&#39;l&#39;</span><span class="c5">, </span><span class="c8">&#39;d&#39;</span><span class="c5">&nbsp;});</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Al treilea constructor utilizat mai sus &icirc;n exemplu permite crearea unui &#537;ir dintr-o parte a tabloului de caractere. Al doilea parametru transmite indicele de &icirc;nceput, de la care se extrag caracterele, iar al treilea parametru indic&#259; num&#259;rul de caractere:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.343d4a22cadd7acd5c5e9c5193d007b4748723df"></a><a id="t.4"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">string</span><span class="c5">&nbsp;s4 = </span><span class="c4">new</span><span class="c5">&nbsp;String(</span><span class="c4">new</span><span class="c5">&nbsp;</span><span class="c4">char</span><span class="c5">[] { </span><span class="c8">&#39;w&#39;</span><span class="c5">, </span><span class="c8">&#39;o&#39;</span><span class="c5">, </span><span class="c8">&#39;r&#39;</span><span class="c5">, </span><span class="c8">&#39;l&#39;</span><span class="c5">, </span><span class="c8">&#39;d&#39;</span><span class="c5">&nbsp;}, </span><span class="c17">1</span><span class="c5">, </span><span class="c17">3</span><span class="c5">); </span><span class="c2">// orl</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c18">&#536;irul ca set de caractere.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Deoarece &#537;irul stocheaz&#259; o colec&#539;ie de caractere, &icirc;n el este definit un indexator pentru accesarea acestor caractere:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.fb29849769df792e961c36bb55c657c344df40d7"></a><a id="t.5"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">public</span><span class="c5">&nbsp;</span><span class="c4">char</span><span class="c5">&nbsp;</span><span class="c4">this</span><span class="c5">[</span><span class="c4">int</span><span class="c5">&nbsp;index] {</span><span class="c4">get</span><span class="c5">;}</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Aplic&acirc;nd indexatorul, putem accesa &#537;irul ca un tablou de caractere &#537;i ob&#539;ine orice caracter al s&#259;u prin index:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.7d9517bf484c28ebf8f82d2b517bd1d61822000c"></a><a id="t.6"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">string</span><span class="c5">&nbsp;message = </span><span class="c8">&quot;hello&quot;</span><span class="c5">;<br></span><span class="c2">// ob&#539;inem caracterul</span><span class="c5"><br></span><span class="c4">char</span><span class="c5">&nbsp;firstChar = message[</span><span class="c17">1</span><span class="c5">]; </span><span class="c2">// caracterul &#39;e&#39;</span><span class="c5"><br>Console.WriteLine(firstChar); &nbsp; </span><span class="c2">// e</span><span class="c5"><br><br>Console.WriteLine(message.Length); &nbsp;</span><span class="c2">// lungimea &#537;irului &nbsp;</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c3">Utiliz&acirc;nd proprietatea </span><span class="c7">Length</span><span class="c9 c3">, ca &#537;i &icirc;n cazul unui tablou obi&#537;nuit, putem ob&#539;ine lungimea &#537;irului.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c18">Parcurgerea &#537;irurilor.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Clasa String implementeaz&#259; interfa&#539;a IEnumerable, datorit&#259; c&#259;reia &#537;irul poate fi parcurs &icirc;n ciclul foreach ca un set de obiecte char. De asemenea, putem parcurge &#537;irul folosind alte tipuri de cicluri, aplic&acirc;nd accesul la caractere prin index:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.10555daf9c107886dba0b0a816cde68156b2642e"></a><a id="t.7"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">string</span><span class="c5">&nbsp;message = </span><span class="c8">&quot;hello&quot;</span><span class="c5">;<br><br></span><span class="c4">for</span><span class="c5">(</span><span class="c4">var</span><span class="c5">&nbsp;i = </span><span class="c17">0</span><span class="c5">; i &lt; message.Length; i++)<br>{<br> &nbsp; &nbsp;Console.WriteLine(message[i]);<br>}<br></span><span class="c4">foreach</span><span class="c5">(</span><span class="c4">var</span><span class="c5">&nbsp;ch </span><span class="c4">in</span><span class="c5">&nbsp;message)<br>{<br> &nbsp; &nbsp;Console.WriteLine(ch);<br>}</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c18">Compararea &#537;irurilor.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Spre deosebire de alte clase, &#537;irurile sunt comparate dup&#259; valoarea caracterelor lor, nu dup&#259; referin&#539;e:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.f5d1a3d0a81dbe2b7abff2a6ea232e37c37cf843"></a><a id="t.8"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c4">string</span><span class="c5">&nbsp;message1 = </span><span class="c8">&quot;hello&quot;</span><span class="c5">;<br></span><span class="c4">string</span><span class="c5">&nbsp;message2 = </span><span class="c8">&quot;hello&quot;</span><span class="c5">;<br><br>Console.WriteLine(message1 == message2); &nbsp; &nbsp;</span><span class="c2">// true</span></p></td></tr></table><p class="c0 c1"><span class="c3 c9"></span></p><p class="c0"><span class="c9 c18">&#536;iruri multiline.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">&Icirc;ncep&acirc;nd cu C# 11, folosind trei perechi de ghilimele duble, se poate crea un text multiline, inclusiv cu aplicarea interpol&#259;rii:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><a id="t.48323cf2a4adb939ee562fb302dd24fd3aa69998"></a><a id="t.9"></a><table class="c15"><tr class="c11"><td class="c13" colspan="1" rowspan="1"><p class="c10"><span class="c5">Print();<br>PrintValue(</span><span class="c8">&quot;hello&quot;</span><span class="c5">);<br><br></span><span class="c4">void</span><span class="c5">&nbsp;</span><span class="c19">Print</span><span class="c5">()<br>{<br> &nbsp; &nbsp;</span><span class="c4">string</span><span class="c5">&nbsp;text = </span><span class="c8">&quot;&quot;&quot;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;element attr=&quot;</span><span class="c5">content</span><span class="c8">&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;body&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/body&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/element&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&quot;&quot;</span><span class="c5">;<br> &nbsp; &nbsp;Console.WriteLine(text);<br>}<br><br></span><span class="c4">void</span><span class="c5">&nbsp;</span><span class="c19">PrintValue</span><span class="c5">(</span><span class="c4">string</span><span class="c5">&nbsp;val)<br>{<br> &nbsp; &nbsp;</span><span class="c4">string</span><span class="c5">&nbsp;text = </span><span class="c8">$&quot;&quot;&quot;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;element attr=&quot;</span><span class="c5">content</span><span class="c8">&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;body&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{val}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/body&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/element&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&quot;&quot;</span><span class="c5">;<br> &nbsp; &nbsp;</span><span class="c2">// sau a&#537;a </span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c2">// string text = &nbsp;$$&quot;&quot;&quot;</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;element attr=&quot;content&quot;&gt;</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;body&gt;</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{val}}</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/body&gt;</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/element&gt;</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c2">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&quot;&quot;;</span><span class="c5"><br> &nbsp; &nbsp;Console.WriteLine(text);<br>}</span></p></td></tr></table><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c18">Metode principale ale &#537;irurilor.</span></p><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">Func&#539;ionalitatea principal&#259; a clasei String este dezv&#259;luit&#259; prin metodele sale, printre care putem eviden&#539;ia urm&#259;toarele:</span></p><p class="c0 c1"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0 start"><li class="c0 c12 li-bullet-0"><span class="c7">Compare</span><span class="c9 c3">: compar&#259; dou&#259; &#537;iruri &#539;in&acirc;nd cont de cultura curent&#259; (locale) a utilizatorului</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">CompareOrdinal</span><span class="c9 c3">: compar&#259; dou&#259; &#537;iruri f&#259;r&#259; a &#539;ine cont de locale</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Contains</span><span class="c9 c3">: determin&#259; dac&#259; o sub&#537;ir se afl&#259; &icirc;n &#537;ir</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Concat</span><span class="c3">: une&#537;te &#537;iruri</span></li></ul><p class="c0 c1 c14"><span class="c9 c7"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">CopyTo: </span><span class="c9 c3">copiaz&#259; o parte a &#537;irului, &icirc;ncep&acirc;nd de la un anumit index &icirc;n tablou</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">EndsWith</span><span class="c9 c3">: determin&#259; dac&#259; sf&acirc;r&#537;itul &#537;irului coincide cu sub&#537;irul</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Format</span><span class="c9 c3">: formateaz&#259; &#537;irul</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">IndexOf</span><span class="c9 c3">: g&#259;se&#537;te indexul primei apari&#539;ii a unui caracter sau sub&#537;ir &icirc;n &#537;ir</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Insert</span><span class="c9 c3">: insereaz&#259; &icirc;n &#537;ir un sub&#537;ir</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Join</span><span class="c9 c3">: une&#537;te elementele unui tablou de &#537;iruri</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">LastIndexOf</span><span class="c9 c3">: g&#259;se&#537;te indexul ultimei apari&#539;ii a unui caracter sau sub&#537;ir &icirc;n &#537;ir</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Replace</span><span class="c9 c3">: &icirc;nlocuie&#537;te &icirc;n &#537;ir un caracter sau sub&#537;ir cu alt caracter sau sub&#537;ir</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Split</span><span class="c9 c3">: &icirc;mparte un &#537;ir &icirc;n tablou de &#537;iruri</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Substring</span><span class="c9 c3">: extrage din &#537;ir un sub&#537;ir, &icirc;ncep&acirc;nd de la o pozi&#539;ie specificat&#259;</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">ToLower</span><span class="c9 c3">: converte&#537;te toate caracterele &#537;irului &icirc;n litere mici</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">ToUpper</span><span class="c9 c3">: converte&#537;te toate caracterele &#537;irului &icirc;n litere mari</span></li></ul><p class="c0 c1 c14"><span class="c9 c3"></span></p><ul class="c6 lst-kix_ilsif6ptjpy-0"><li class="c0 c12 li-bullet-0"><span class="c7">Trim</span><span class="c9 c3">: elimin&#259; spa&#539;iile de la &icirc;nceputul &#537;i sf&acirc;r&#537;itul &#537;irului</span></li></ul><p class="c0 c1"><span class="c9 c3"></span></p><p class="c0"><span class="c9 c3">&Icirc;n articolele urm&#259;toare vom analiza func&#539;ionarea acestor metode.</span></p><p class="c0 c1"><span class="c9 c3"></span></p></body></html>