<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_aH4gUIUjZTH34PuvJkbTJT);ol{margin:0;padding:0}table td,table th{padding:0}.c6{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c3{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Open Sans";font-style:normal}.c14{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:27pt;font-family:"Open Sans";font-style:normal}.c15{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:15pt;font-family:"Open Sans";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c0{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#ffffff;font-weight:400}.c9{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#fcc28c;font-weight:400}.c8{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#a2fca2;font-weight:400}.c12{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#888888;font-weight:400}.c5{background-color:#333333;font-size:12pt;font-family:"Consolas";color:#ffffaa;font-weight:400}.c7{border-spacing:0;border-collapse:collapse;margin-right:auto}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c16{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c10{font-size:12pt;font-family:"Open Sans";font-weight:700}.c17{font-size:15pt;font-family:"Open Sans";font-weight:700}.c11{font-size:12pt;font-family:"Open Sans";font-weight:400}.c1{height:0pt}.c4{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c16 doc-content"><p class="c2"><span class="c14">Unirea, intersectarea &#537;i diferen&#539;a colec&#539;iilor.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">LINQ ofer&#259; mai multe metode pentru a lucra cu colec&#539;iile ca &#537;i cu mul&#539;imile, &#537;i anume pentru a g&#259;si diferen&#539;a, unirea &#537;i intersectarea acestora.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c15">Diferen&#539;a secven&#539;elor.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c11">Cu ajutorul metodei</span><span class="c10">&nbsp;Except() </span><span class="c3">se poate ob&#539;ine diferen&#539;a dintre dou&#259; secven&#539;e:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.227ad231ed831c6a86fcdf46f8006aaad633765a"></a><a id="t.0"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c9">string</span><span class="c0">[] soft = { </span><span class="c8">&quot;Microsoft&quot;</span><span class="c0">, </span><span class="c8">&quot;Google&quot;</span><span class="c0">, </span><span class="c8">&quot;Apple&quot;</span><span class="c0">&nbsp;};<br></span><span class="c9">string</span><span class="c0">[] hard = { </span><span class="c8">&quot;Apple&quot;</span><span class="c0">, </span><span class="c8">&quot;IBM&quot;</span><span class="c0">, </span><span class="c8">&quot;Samsung&quot;</span><span class="c0">&nbsp;};<br><br></span><span class="c12">// diferen&#539;a secven&#539;elor</span><span class="c0"><br></span><span class="c9">var</span><span class="c0">&nbsp;result = soft.Except(hard);<br><br></span><span class="c9">foreach</span><span class="c0">&nbsp;(</span><span class="c9">string</span><span class="c0">&nbsp;s </span><span class="c9">in</span><span class="c0">&nbsp;result)<br> &nbsp; &nbsp;Console.WriteLine(s);</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">&Icirc;n acest caz, din array-ul soft sunt eliminate toate elementele care exist&#259; &icirc;n array-ul hard. Rezultatul opera&#539;iei va fi dou&#259; elemente:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.01e561e6ce6ce9da96251942b5dc16ae32d17f75"></a><a id="t.1"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c0">Microsoft<br>Google</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c15">Intersectarea secven&#539;elor.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c11">Pentru a ob&#539;ine intersectarea secven&#539;elor, adic&#259; elementele comune pentru ambele seturi, se folose&#537;te metoda </span><span class="c10">Intersect</span><span class="c3">:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.9a309966173cc191ef9f7930a922c94f4ed67bb9"></a><a id="t.2"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c9">string</span><span class="c0">[] soft = { </span><span class="c8">&quot;Microsoft&quot;</span><span class="c0">, </span><span class="c8">&quot;Google&quot;</span><span class="c0">, </span><span class="c8">&quot;Apple&quot;</span><span class="c0">&nbsp;};<br></span><span class="c9">string</span><span class="c0">[] hard = { </span><span class="c8">&quot;Apple&quot;</span><span class="c0">, </span><span class="c8">&quot;IBM&quot;</span><span class="c0">, </span><span class="c8">&quot;Samsung&quot;</span><span class="c0">&nbsp;};<br><br></span><span class="c12">// intersectarea secven&#539;elor</span><span class="c0"><br></span><span class="c9">var</span><span class="c0">&nbsp;result = soft.Intersect(hard);<br><br></span><span class="c9">foreach</span><span class="c0">&nbsp;(</span><span class="c9">string</span><span class="c0">&nbsp;s </span><span class="c9">in</span><span class="c0">&nbsp;result)<br> &nbsp; &nbsp;Console.WriteLine(s);</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">Deoarece ambele seturi au doar un singur element comun, doar acesta va fi inclus &icirc;n selec&#539;ia rezultat&#259;:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.43f658c3dbed4c1833cb38f856d7528265cb4cd0"></a><a id="t.3"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c0">Apple</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c17">Eliminarea duplicatelor</span><span class="c3">.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c11">Pentru a elimina duplicatele dintr-un set se utilizeaz&#259; metoda </span><span class="c10">Distinct</span><span class="c3">:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.dbb0fa437aa2ca72d19c03226ce02b9c20b32709"></a><a id="t.4"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c9">string</span><span class="c0">[] soft = { </span><span class="c8">&quot;Microsoft&quot;</span><span class="c0">, </span><span class="c8">&quot;Google&quot;</span><span class="c0">, </span><span class="c8">&quot;Apple&quot;</span><span class="c0">, </span><span class="c8">&quot;Microsoft&quot;</span><span class="c0">, </span><span class="c8">&quot;Google&quot;</span><span class="c0">&nbsp;};<br><br></span><span class="c12">// eliminarea duplicatelor</span><span class="c0"><br></span><span class="c9">var</span><span class="c0">&nbsp;result = soft.Distinct();<br><br></span><span class="c9">foreach</span><span class="c0">&nbsp;(</span><span class="c9">string</span><span class="c0">&nbsp;s </span><span class="c9">in</span><span class="c0">&nbsp;result)<br> &nbsp; &nbsp;Console.WriteLine(s);</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">Rezultatul:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.c7a924c812a1703a6e65acfd64f10b63d7cd18cb"></a><a id="t.5"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c0">Microsoft<br>Google<br>Apple</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c15">Unirea secven&#539;elor.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c11">Pentru a uni dou&#259; secven&#539;e se utilizeaz&#259; metoda </span><span class="c10">Union</span><span class="c3">. Rezultatul s&#259;u este un nou set care con&#539;ine elemente at&acirc;t din prima c&acirc;t &#537;i din a doua secven&#539;&#259;. Elementele duplicate sunt ad&#259;ugate &icirc;n rezultat doar o singur&#259; dat&#259;:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.97cc846aa7e3f0aaa65fac02724136b7823ab510"></a><a id="t.6"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c9">string</span><span class="c0">[] soft = { </span><span class="c8">&quot;Microsoft&quot;</span><span class="c0">, </span><span class="c8">&quot;Google&quot;</span><span class="c0">, </span><span class="c8">&quot;Apple&quot;</span><span class="c0">&nbsp;};<br></span><span class="c9">string</span><span class="c0">[] hard = { </span><span class="c8">&quot;Apple&quot;</span><span class="c0">, </span><span class="c8">&quot;IBM&quot;</span><span class="c0">, </span><span class="c8">&quot;Samsung&quot;</span><span class="c0">&nbsp;};<br><br></span><span class="c12">// unirea secven&#539;elor</span><span class="c0"><br></span><span class="c9">var</span><span class="c0">&nbsp;result = soft.Union(hard);<br><br></span><span class="c9">foreach</span><span class="c0">&nbsp;(</span><span class="c9">string</span><span class="c0">&nbsp;s </span><span class="c9">in</span><span class="c0">&nbsp;result)<br> &nbsp; &nbsp;Console.WriteLine(s);</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">Rezultatul opera&#539;iei va fi urm&#259;torul set:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.84309c00edac4c11b9c8e856b32d3938cc911032"></a><a id="t.7"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c0">Microsoft<br>Google<br>Apple<br>IBM<br>Samsung</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c11">Dac&#259; dorim o simpl&#259; concatenare a celor dou&#259; seturi, putem folosi metoda </span><span class="c10">Concat</span><span class="c3">:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.f5339bc3901447c51bc784aaf032c5014420dd7a"></a><a id="t.8"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c9">var</span><span class="c0">&nbsp;result = soft.Concat(hard);</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">&Icirc;n acest caz, elementele care apar &icirc;n ambele seturi se vor dubla &icirc;n secven&#539;a rezultat&#259;.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">Aplicarea consecutiv&#259; a metodelor Concat &#537;i Distinct va fi similar&#259; cu ac&#539;iunea metodei Union.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c15">Lucrul cu obiecte complexe.</span></p><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">Pentru compararea obiectelor &icirc;n secven&#539;e se folosesc implement&#259;rile metodelor GetHashCode() &#537;i Equals(). Prin urmare, dac&#259; dorim s&#259; lucr&#259;m cu secven&#539;e care con&#539;in obiecte ale claselor sau structurilor proprii, trebuie s&#259; definim aceste metode pentru ele:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.884e0e065f0bc053097c8f8cbf6b709ad3ded281"></a><a id="t.9"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c0">Person[] students = { </span><span class="c9">new</span><span class="c0">&nbsp;Person(</span><span class="c8">&quot;Tom&quot;</span><span class="c0">), </span><span class="c9">new</span><span class="c0">&nbsp;Person(</span><span class="c8">&quot;Bob&quot;</span><span class="c0">), </span><span class="c9">new</span><span class="c0">&nbsp;Person(</span><span class="c8">&quot;Sam&quot;</span><span class="c0">) };<br>Person[] employees = { </span><span class="c9">new</span><span class="c0">&nbsp;Person(</span><span class="c8">&quot;Tom&quot;</span><span class="c0">), </span><span class="c9">new</span><span class="c0">&nbsp;Person(</span><span class="c8">&quot;Bob&quot;</span><span class="c0">), </span><span class="c9">new</span><span class="c0">&nbsp;Person(</span><span class="c8">&quot;Mike&quot;</span><span class="c0">) };<br><br></span><span class="c12">// unirea secven&#539;elor</span><span class="c0"><br></span><span class="c9">var</span><span class="c0">&nbsp;people = students.Union(employees);<br><br></span><span class="c9">foreach</span><span class="c0">&nbsp;(Person person </span><span class="c9">in</span><span class="c0">&nbsp;people)<br> &nbsp; &nbsp;Console.WriteLine(person.Name);<br><br></span><span class="c9">class</span><span class="c0">&nbsp;</span><span class="c5">Person</span><span class="c0"><br>{<br> &nbsp; &nbsp;</span><span class="c9">public</span><span class="c0">&nbsp;</span><span class="c9">string</span><span class="c0">&nbsp;Name { </span><span class="c9">get</span><span class="c0">; }<br> &nbsp; &nbsp;</span><span class="c9">public</span><span class="c0">&nbsp;</span><span class="c5">Person</span><span class="c0">(</span><span class="c9">string</span><span class="c0">&nbsp;name) =&gt; Name = name;<br><br> &nbsp; &nbsp;</span><span class="c9">public</span><span class="c0">&nbsp;</span><span class="c9">override</span><span class="c0">&nbsp;</span><span class="c9">bool</span><span class="c0">&nbsp;</span><span class="c5">Equals</span><span class="c0">(</span><span class="c9">object</span><span class="c0">? obj)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c9">if</span><span class="c0">&nbsp;(obj </span><span class="c9">is</span><span class="c0">&nbsp;Person person) </span><span class="c9">return</span><span class="c0">&nbsp;Name == person.Name;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c9">return</span><span class="c0">&nbsp;</span><span class="c9">false</span><span class="c0">;<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c9">public</span><span class="c0">&nbsp;</span><span class="c9">override</span><span class="c0">&nbsp;</span><span class="c9">int</span><span class="c0">&nbsp;</span><span class="c5">GetHashCode</span><span class="c0">() =&gt; Name.GetHashCode();<br>}</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2"><span class="c3">Aici, obiectele Person sunt comparate pe baza valorii propriet&#259;&#539;ii lor Name - dac&#259; numele sunt egale, &#537;i obiectele Person sunt egale. Afi&#537;area pe consol&#259;:</span></p><p class="c2 c4"><span class="c3"></span></p><a id="t.a994a86c6e7074da6640c6bd11cafae02e203757"></a><a id="t.10"></a><table class="c7"><tr class="c1"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c0">Tom<br>Bob<br>Sam<br>Mike</span></p></td></tr></table><p class="c2 c4"><span class="c3"></span></p><p class="c2 c4"><span class="c3"></span></p></body></html>