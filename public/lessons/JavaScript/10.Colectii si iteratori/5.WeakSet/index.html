<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        @import url(https://themes.googleusercontent.com/fonts/css?kit=iMc4-4exjgqA-toZgqqJBf35jAjY-31lSKWZb9Fa77M);

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c7 {
            border-right-style: solid;
            padding: 5pt 5pt 5pt 5pt;
            border-bottom-color: #000000;
            border-top-width: 0pt;
            border-right-width: 0pt;
            border-left-color: #000000;
            vertical-align: top;
            border-right-color: #000000;
            border-left-width: 0pt;
            border-top-style: solid;
            background-color: #333333;
            border-left-style: solid;
            border-bottom-width: 0pt;
            width: 468pt;
            border-top-color: #000000;
            border-bottom-style: solid
        }

        .c12 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 15pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c14 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 27pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c9 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c18 {
            padding-top: 18pt;
            padding-bottom: 4pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c4 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c8 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #a2fca2;
            font-weight: 400
        }

        .c3 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #ffffaa;
            font-weight: 400
        }

        .c6 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #d36363;
            font-weight: 400
        }

        .c2 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #888888;
            font-weight: 400
        }

        .c1 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #ffffff;
            font-weight: 400
        }

        .c0 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #fcc28c;
            font-weight: 400
        }

        .c17 {
            color: #000000;
            text-decoration: none;
            vertical-align: baseline;
            font-style: normal
        }

        .c5 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            text-align: left
        }

        .c16 {
            border-spacing: 0;
            border-collapse: collapse;
            margin-right: auto
        }

        .c15 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c13 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 400
        }

        .c19 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c11 {
            height: 0pt
        }

        .c10 {
            height: 11pt
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body class="c19 doc-content">
    <h1 class="c18" id="h.qxpuwcs5d0s8"> WeakSet. </h1>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c13">Obiectul </span><span class="c15">WeakSet </span><span class="c9">este &icirc;n
            multe privin&#539;e similar cu un set obi&#537;nuit. El poate stoca doar valori unice &#537;i fiecare
            element al s&#259;u trebuie s&#259; reprezinte un obiect.</span></p>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">Pentru a crea un obiect WeakSet, se folose&#537;te constructorul s&#259;u, &icirc;n
            care pot fi furnizate valorile ini&#539;iale:</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.33c59137c3948988eee6ba8b45d26cb28ee9675b"></a><a
        id="t.0"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c2">// WeakSet gol</span><span class="c1"><br></span><span
                        class="c0">const</span><span class="c1">&nbsp;weakSet1 = </span><span class="c0">new</span><span
                        class="c1">&nbsp;</span><span class="c3">WeakSet</span><span class="c1">();<br></span><span
                        class="c2">// Ini&#539;ializare cu valori ini&#539;iale</span><span class="c1"><br></span><span
                        class="c0">const</span><span class="c1">&nbsp;weakSet2 = </span><span class="c0">new</span><span
                        class="c1">&nbsp;</span><span class="c3">WeakSet</span><span class="c1">([{name:</span><span
                        class="c8">&quot;Tom&quot;</span><span class="c1">, age: </span><span class="c6">37</span><span
                        class="c1">}, {name:</span><span class="c8">&quot;Alice&quot;</span><span class="c1">, age:
                    </span><span class="c6">34</span><span class="c1">}]);</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">Pentru ini&#539;ializare, la fel ca &icirc;n cazul obiectului Set, &icirc;n
            constructor se furnizeaz&#259; un array, dar acest array con&#539;ine &icirc;n mod specific obiecte, nu
            valori scalare precum numere sau &#537;iruri de caractere.</span></p>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c13">Pentru ad&#259;ugarea datelor &icirc;ntr-un WeakSet, se folose&#537;te metoda
        </span><span class="c15">add()</span><span class="c9">:</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.d103c55ba66d81538cc51fb9892ca9b8e4b81d7a"></a><a
        id="t.1"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c1">&nbsp;weakSet = </span><span
                        class="c0">new</span><span class="c1">&nbsp;</span><span class="c3">WeakSet</span><span
                        class="c1">();<br>weakSet.add({lang: </span><span class="c8">&quot;JavaScript&quot;</span><span
                        class="c1">});<br>weakSet.add({lang: </span><span class="c8">&quot;TypeScript&quot;</span><span
                        class="c1">});<br></span><span class="c2">// weakSet.add(34); // nu se poate - 34 este un
                        num&#259;r, nu un obiect</span><span class="c1"><br></span><span class="c3">console</span><span
                        class="c1">.log(weakSet); &nbsp; </span><span class="c2">// {{lang: &quot;JavaScript&quot;},
                        {lang: &quot;TypeScript&quot;}}</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">De asemenea, trebuie men&#539;ionat c&#259; putem ad&#259;uga doar obiecte, nu valori
            scalare precum numere sau &#537;iruri de caractere.</span></p>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c13">Pentru &#537;tergere, se folose&#537;te metoda</span><span
            class="c15">&nbsp;delete()</span><span class="c9">, la care se furnizeaz&#259; referin&#539;a c&#259;tre
            obiectul de &#537;ters:</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.5443b9fcd02456089e75fcac844e87fcf8e67df9"></a><a
        id="t.2"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c1">&nbsp;weakSet = </span><span
                        class="c0">new</span><span class="c1">&nbsp;</span><span class="c3">WeakSet</span><span
                        class="c1">();<br></span><span class="c0">const</span><span class="c1">&nbsp;js = {lang:
                    </span><span class="c8">&quot;JavaScript&quot;</span><span class="c1">};<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;ts = {lang: </span><span
                        class="c8">&quot;TypeScript&quot;</span><span
                        class="c1">};<br>weakSet.add(js);<br>weakSet.add(ts);<br> <br>weakSet.delete(js);<br>
                        <br></span><span class="c3">console</span><span class="c1">.log(weakSet); &nbsp; </span><span
                        class="c2">// {{lang: &quot;TypeScript&quot;}}</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c13">Dac&#259; trebuie s&#259; verifica&#539;i dac&#259; un obiect exist&#259;
            &icirc;ntr-un WeakSet, pute&#539;i utiliza metoda</span><span class="c15">&nbsp;has()</span><span
            class="c9">, care returneaz&#259; true &icirc;n cazul &icirc;n care obiectul este prezent:</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.17785508492c184cfcec0b2659bca3d3450523bf"></a><a
        id="t.3"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c1">&nbsp;js = {lang: </span><span
                        class="c8">&quot;JavaScript&quot;</span><span class="c1">};<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;ts = {lang: </span><span
                        class="c8">&quot;TypeScript&quot;</span><span class="c1">};<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;java = {lang: </span><span
                        class="c8">&quot;Java&quot;</span><span class="c1">};<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;weakSet = </span><span class="c0">new</span><span
                        class="c1">&nbsp;</span><span class="c3">WeakSet</span><span class="c1">([js,
                        ts]);<br></span><span class="c3">console</span><span class="c1">.log(weakSet.has(ts)); &nbsp;
                        &nbsp; &nbsp; </span><span class="c2">// true</span><span class="c1"><br></span><span
                        class="c3">console</span><span class="c1">.log(weakSet.has(java)); &nbsp; &nbsp; </span><span
                        class="c2">// &nbsp;false</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c12">Iterarea prin WeakSet.</span></p>
    <p class="c4 c10"><span class="c17 c15"></span></p>
    <p class="c4"><span class="c9">Trebuie men&#539;ionat c&#259; WeakSet nu sus&#539;ine iterarea nici prin intermediul
            metodei ForEach, pe care WeakSet nu o are, nici prin intermediul unui ciclu for. De exemplu, dac&#259;
            &icirc;ncerc&#259;m s&#259; iter&#259;m prin WeakSet folosind un ciclu for..of:</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.0b775c7b9da9387f70cd568c76a361764a3bf0e9"></a><a
        id="t.4"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c1">&nbsp;weakSet = </span><span
                        class="c0">new</span><span class="c1">&nbsp;</span><span class="c3">WeakSet</span><span
                        class="c1">([<br> &nbsp; &nbsp;{lang: </span><span class="c8">&quot;JavaScript&quot;</span><span
                        class="c1">}, <br> &nbsp; &nbsp;{lang: </span><span
                        class="c8">&quot;TypeScript&quot;</span><span class="c1">}, <br> &nbsp; &nbsp;{lang:
                    </span><span class="c8">&quot;Java&quot;</span><span class="c1">}<br>]);<br> <br> <br></span><span
                        class="c0">for</span><span class="c1">(item </span><span class="c0">of</span><span
                        class="c1">&nbsp;weakSet){<br> &nbsp; &nbsp;</span><span class="c3">console</span><span
                        class="c1">.log(item);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">vom primi o eroare</span></p>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c15 c17">Uncaught TypeError: weakSet nu este iterabil</span></p>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c12">Referin&#539;e slabe.</span></p>
    <p class="c4 c10"><span class="c17 c15"></span></p>
    <p class="c4"><span class="c9">Obiectele sunt ad&#259;ugate &icirc;ntr-un WeakSet prin referin&#539;&#259;. O
            caracteristic&#259; distinctiv&#259; a WeakSet este c&#259; atunci c&acirc;nd un obiect &icirc;nceteaz&#259;
            s&#259; mai existe din diverse motive, el este eliminat din WeakSet. Astfel, s&#259; lu&#259;m &icirc;n
            considerare urm&#259;torul exemplu:</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.ab355f270647740ce85d6a0f2e8c6ee9f3229219"></a><a
        id="t.5"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">let</span><span class="c1">&nbsp;js = {lang: </span><span
                        class="c8">&quot;JavaScript&quot;</span><span class="c1">};<br></span><span
                        class="c0">let</span><span class="c1">&nbsp;ts = {lang: </span><span
                        class="c8">&quot;TypeScript&quot;</span><span class="c1">};<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;weakSet = </span><span class="c0">new</span><span
                        class="c1">&nbsp;</span><span class="c3">WeakSet</span><span class="c1">([js, ts]);<br> <br>js =
                    </span><span class="c0">null</span><span class="c1">;<br> <br></span><span
                        class="c3">console</span><span class="c1">.log(weakSet); &nbsp; </span><span class="c2">//
                        {{lang: &quot;JavaScript&quot;}, {lang: &quot;TypeScript&quot;}}</span><span
                        class="c1"><br></span><span class="c3">console</span><span class="c1">.log(</span><span
                        class="c8">&quot;Anumit&#259; munc&#259;&quot;</span><span class="c1">);<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;timerId = setTimeout(</span><span
                        class="c0">function</span><span class="c1">(){<br> &nbsp; &nbsp;</span><span
                        class="c3">console</span><span class="c1">.log(weakSet); &nbsp; </span><span class="c2">//
                        {{lang: &quot;TypeScript&quot;}}</span><span class="c1"><br> &nbsp;
                        &nbsp;clearTimeout(timerId);<br>}, </span><span class="c6">20000</span><span
                        class="c1">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">&Icirc;n acest caz, mai &icirc;nt&acirc;i obiectul WeakSet stocheaz&#259;
            referin&#539;e c&#259;tre dou&#259; obiecte: js &#537;i ts. Apoi, set&#259;m valoarea variabilei js la
            null.</span></p>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">Acest lucru va duce la faptul c&#259;, dup&#259; un anumit timp, valoarea
            ini&#539;ial&#259; a acestei variabile va fi eliminat&#259; de colectorul de gunoi JavaScript.</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.3aac9d6c994872fc8e364615d59f8f912078b9da"></a><a
        id="t.6"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c1">js = </span><span class="c0">null</span><span class="c1">;</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">&Icirc;n cazul &icirc;n care imediat dup&#259; aceasta verific&#259;m con&#539;inutul
            weakSet, vom vedea c&#259; obiectul js este &icirc;nc&#259; prezent &icirc;n el. Cu toate acestea, dup&#259;
            un timp, referin&#539;a va fi eliminat&#259; din weakSet. Pentru a simula trecerea timpului, aici se
            utilizeaz&#259; func&#539;ia setTimeout, care afi&#537;eaz&#259; con&#539;inutul weakSet la 9000 de
            milisecunde (perioada de timp specific&#259; dup&#259; care colectorul de gunoi va &#537;terge valoarea
            poate diferi).</span></p>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c13">Acum, s&#259; compar&#259;m cu ceea ce se &icirc;nt&acirc;mpl&#259; dac&#259;
            folosim </span><span class="c15">Set </span><span class="c9">&icirc;n loc de WeakSet:</span></p>
    <p class="c4 c10"><span class="c9"></span></p><a id="t.563d917eaf4d9e4dc41a81c8543756a0a4ffa455"></a><a
        id="t.7"></a>
    <table class="c16">
        <tr class="c11">
            <td class="c7" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">let</span><span class="c1">&nbsp;js = {lang: </span><span
                        class="c8">&quot;JavaScript&quot;</span><span class="c1">};<br></span><span
                        class="c0">let</span><span class="c1">&nbsp;ts = {lang: </span><span
                        class="c8">&quot;TypeScript&quot;</span><span class="c1">};<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;set = </span><span class="c0">new</span><span
                        class="c1">&nbsp;</span><span class="c3">Set</span><span class="c1">([js, ts]);<br> <br>js =
                    </span><span class="c0">null</span><span class="c1">;<br> <br></span><span
                        class="c3">console</span><span class="c1">.log(set); &nbsp; </span><span class="c2">// Set(2)
                        {{lang: &quot;JavaScript&quot;}, {lang: &quot;TypeScript&quot;}}</span><span
                        class="c1"><br></span><span class="c3">console</span><span class="c1">.log(</span><span
                        class="c8">&quot;Anumit&#259; munc&#259;&quot;</span><span class="c1">);<br></span><span
                        class="c0">const</span><span class="c1">&nbsp;timerId = setTimeout(</span><span
                        class="c0">function</span><span class="c1">(){<br> &nbsp; &nbsp;</span><span
                        class="c3">console</span><span class="c1">.log(set); &nbsp; </span><span class="c2">//
                        Set(2){{lang: &quot;JavaScript&quot;}, {lang: &quot;TypeScript&quot;}}</span><span
                        class="c1"><br> &nbsp; &nbsp;clearTimeout(timerId);<br>}, </span><span
                        class="c6">20000</span><span class="c1">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c4 c10"><span class="c9"></span></p>
    <p class="c4"><span class="c9">&Icirc;n cazul unui Set, chiar &#537;i dup&#259; un anumit timp, vom observa c&#259;
            obiectul pentru care a fost setat&#259; valoarea null este &icirc;nc&#259; prezent &icirc;n obiectul
            Set.</span></p>
</body>

</html>