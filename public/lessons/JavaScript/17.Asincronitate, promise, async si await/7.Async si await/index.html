<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        @import url(https://themes.googleusercontent.com/fonts/css?kit=iMc4-4exjgqA-toZgqqJBf35jAjY-31lSKWZb9Fa77M);

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c8 {
            border-right-style: solid;
            padding: 5pt 5pt 5pt 5pt;
            border-bottom-color: #000000;
            border-top-width: 0pt;
            border-right-width: 0pt;
            border-left-color: #000000;
            vertical-align: top;
            border-right-color: #000000;
            border-left-width: 0pt;
            border-top-style: solid;
            background-color: #333333;
            border-left-style: solid;
            border-bottom-width: 0pt;
            width: 468pt;
            border-top-color: #000000;
            border-bottom-style: solid
        }

        .c16 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 15pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c0 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c15 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 27pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c2 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left;
            height: 11pt
        }

        .c4 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c1 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #fcc28c;
            font-weight: 400
        }

        .c3 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #a2fca2;
            font-weight: 400
        }

        .c17 {
            color: #000000;
            text-decoration: none;
            vertical-align: baseline;
            font-style: normal
        }

        .c18 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            text-align: left
        }

        .c7 {
            border-spacing: 0;
            border-collapse: collapse;
            margin-right: auto
        }

        .c5 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c6 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 400
        }

        .c19 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c10 {
            background-color: #333333;
            color: #d36363
        }

        .c13 {
            background-color: #333333;
            color: #888888
        }

        .c11 {
            background-color: #333333;
            color: #ffffaa
        }

        .c9 {
            background-color: #333333;
            color: #ffffff
        }

        .c12 {
            font-style: italic
        }

        .c14 {
            height: 0pt
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body class="c19 doc-content">
    <h1 class="c4 c15">Async È™i await. </h1>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Introducerea standardului ES2017 &icirc;n JavaScript a adus dou&#259; noi operatori:
        </span><span class="c5">async </span><span class="c6">&#537;i </span><span class="c5">await</span><span
            class="c0">, care sunt destinate s&#259; simplifice lucrul cu promise-urile.</span></p>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Operatorul </span><span class="c5">async </span><span class="c0">define&#537;te o
            func&#539;ie asincron&#259;, &icirc;n care se presupune c&#259; se vor executa una sau mai multe sarcini
            asincrone:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.668b5ccd7ac3a2c06cc7399fbbd2a3f688f2ac9b"></a><a id="t.0"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">async</span><span class="c6 c9">&nbsp;</span><span
                        class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">nume_func</span><span class="c6 c9">&#539;</span><span
                        class="c6 c11">ie</span><span class="c6 c9">(){<br> &nbsp; &nbsp;</span><span class="c6 c13">//
                        opera&#539;iuni asincrone</span><span class="c6 c9"><br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">&Icirc;n interiorul unei func&#539;ii asincrone putem utiliza operatorul </span><span
            class="c5">await</span><span class="c0">. Acesta este plasat &icirc;naintea apelului unei opera&#539;iuni
            asincrone care returneaz&#259; un obiect Promise:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.fdecddbd8fe87317037ea74ccec37b8de6f33160"></a><a id="t.1"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">async</span><span class="c6 c9">&nbsp;</span><span
                        class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">nume_func</span><span class="c6 c9">&#539;</span><span
                        class="c6 c11">ie</span><span class="c6 c9">(){<br> &nbsp; &nbsp; <br> &nbsp; &nbsp;</span><span
                        class="c1">await</span><span class="c6 c9">&nbsp;opera&#539;iune_asincron&#259;();<br>}</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Operatorul </span><span class="c5">await </span><span class="c0">suspend&#259;
            execu&#539;ia func&#539;iei asincrone p&acirc;n&#259; c&acirc;nd opera&#539;iunea asincron&#259; (obiectul
            Promise) returneaz&#259; un rezultat.</span></p>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Trebuie s&#259; &#539;inem cont c&#259; operatorul </span><span class="c5">await
        </span><span class="c6">poate fi utilizat doar &icirc;n interiorul unei func&#539;ii la care se aplic&#259;
            operatorul </span><span class="c5">async</span><span class="c0">.</span></p>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c0">S&#259; examin&#259;m cel mai simplu exemplu utiliz&acirc;nd Promise:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.df8d270162b01ceebda9204f9ba87b3e93adc79f"></a><a id="t.2"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">sum</span><span class="c6 c9">(x, y){ <br> &nbsp; &nbsp;</span><span
                        class="c1">return</span><span class="c6 c9">&nbsp;</span><span class="c1">new</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">Promise</span><span class="c6 c9">(</span><span
                        class="c1">function</span><span class="c6 c9">(resolve){<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;result = x + y;<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;resolve(result);<br> &nbsp; &nbsp;});<br>}<br>sum(</span><span
                        class="c6 c10">5</span><span class="c6 c9">, </span><span class="c6 c10">3</span><span
                        class="c6 c9">).then(</span><span class="c1">function</span><span class="c6 c9">(value){ <br>
                        &nbsp; &nbsp;</span><span class="c6 c11">console</span><span class="c6 c9">.log(</span><span
                        class="c3">&quot;Rezultatul opera&#539;iunii asincrone:&quot;</span><span class="c6 c9">,
                        value);<br>}); </span><span class="c6 c13">// Rezultatul opera&#539;iunii asincrone: 8</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">&Icirc;n acest caz, func&#539;ia </span><span class="c6 c12">sum()</span><span
            class="c6">&nbsp;reprezint&#259; o sarcin&#259; asincron&#259;. Ea prime&#537;te dou&#259; numere &#537;i
            returneaz&#259; un obiect Promise, &icirc;n care se realizeaz&#259; adunarea acestor numere. Rezultatul
            adun&#259;rii este transmis func&#539;iei </span><span class="c6 c12">resolve().</span><span
            class="c6">&nbsp;&#536;i apoi, &icirc;n metoda</span><span class="c6 c12">&nbsp;then()</span><span
            class="c0">, putem ob&#539;ine acest rezultat &#537;i s&#259; realiz&#259;m diferite ac&#539;iuni cu
            acesta.</span></p>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Acum s&#259; rescriem acest exemplu utiliz&acirc;nd </span><span
            class="c5">async/await</span><span class="c0">:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.6eb790a490821ababde19a10f354ee6c5b94e41a"></a><a id="t.3"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">sum</span><span class="c6 c9">(x, y){ <br> &nbsp; &nbsp;</span><span
                        class="c1">return</span><span class="c6 c9">&nbsp;</span><span class="c1">new</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">Promise</span><span class="c6 c9">(</span><span
                        class="c1">function</span><span class="c6 c9">(resolve){<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;result = x + y;<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;resolve(result);<br> &nbsp; &nbsp;});<br>}<br></span><span class="c6 c13">//
                        varianta simplificat&#259;</span><span class="c6 c9"><br></span><span class="c6 c13">// function
                        sum(x, y){ return Promise.resolve(x + y);}</span><span class="c6 c9"><br> <br> <br></span><span
                        class="c1">async</span><span class="c6 c9">&nbsp;</span><span class="c1">function</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">calculate</span><span class="c6 c9">(){<br>
                        &nbsp; &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;value = </span><span
                        class="c1">await</span><span class="c6 c9">&nbsp;sum(</span><span class="c6 c10">5</span><span
                        class="c6 c9">, </span><span class="c6 c10">3</span><span class="c6 c9">);<br> &nbsp;
                        &nbsp;</span><span class="c6 c11">console</span><span class="c6 c9">.log(</span><span
                        class="c3">&quot;Rezultatul opera&#539;iunii asincrone:&quot;</span><span class="c6 c9">,
                        value);<br>}<br>calculate(); &nbsp; &nbsp;</span><span class="c6 c13">// Rezultatul
                        opera&#539;iunii asincrone: 8</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Aici am definit func&#539;ia asincron&#259;</span><span
            class="c6 c12">&nbsp;calculate()</span><span class="c6">, la care se aplic&#259; </span><span
            class="c5">async</span><span class="c0">:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.49f161c1a2197c1763e17fe2194c7bf1dee3b538"></a><a id="t.4"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">async</span><span class="c6 c9">&nbsp;</span><span
                        class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">calculate</span><span class="c6 c9">(){</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">&Icirc;n interiorul func&#539;iei se apeleaz&#259; opera&#539;iunea asincron&#259;
        </span><span class="c6 c12">sum()</span><span class="c6">, c&#259;reia i se transmit ni&#537;te valori. &#536;i
            la aceast&#259; func&#539;ie se aplic&#259; operatorul </span><span class="c5">await</span><span
            class="c6">. Datorit&#259; operatorului </span><span class="c6 c12">await</span><span class="c6">, nu mai
            este necesar s&#259; apel&#259;m metoda</span><span class="c5">&nbsp;then() </span><span class="c0">la
            promise. Rezultatul returnat de Promise poate fi ob&#539;inut direct din apelul func&#539;iei sum &#537;i,
            de exemplu, atribuit unei constante sau unei variabile:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.c444713b6a52a780a6676ffdc88dfa1e1fc922d8"></a><a id="t.5"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">const</span><span class="c6 c9">&nbsp;value = </span><span
                        class="c1">await</span><span class="c6 c9">&nbsp;sum(</span><span class="c6 c10">5</span><span
                        class="c6 c9">, </span><span class="c6 c10">3</span><span class="c6 c9">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Apoi putem apela func&#539;ia </span><span class="c6 c12">calculate() </span><span
            class="c0">ca o func&#539;ie obi&#537;nuit&#259; pentru a executa toate ac&#539;iunile sale.</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.5b17cf3c7d3f856199ef3212be048da0e255201f"></a><a id="t.6"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c6 c9">calculate();</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Trebuie s&#259; men&#539;ion&#259;m c&#259; pentru o func&#539;ie definit&#259; cu
            cuv&acirc;ntul </span><span class="c5">async </span><span class="c0">se creeaz&#259; implicit un obiect
            Promise. Prin urmare, o putem utiliza &#537;i ca un promise:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.f11d37b5aa72023b46d30e844c68a92ab9a0575b"></a><a id="t.7"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">sum</span><span class="c6 c9">(x, y){ <br> &nbsp; &nbsp;</span><span
                        class="c1">return</span><span class="c6 c9">&nbsp;</span><span class="c1">new</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">Promise</span><span class="c6 c9">(</span><span
                        class="c1">function</span><span class="c6 c9">(resolve){<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;result = x + y;<br> &nbsp;
                        &nbsp; &nbsp; <br><br> resolve(result);<br> &nbsp; &nbsp;});<br>}<br> <br></span><span
                        class="c1">async</span><span class="c6 c9">&nbsp;</span><span class="c1">function</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">calculate</span><span class="c6 c9">(){<br>
                        &nbsp; &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;result = </span><span
                        class="c1">await</span><span class="c6 c9">&nbsp;sum(</span><span class="c6 c10">5</span><span
                        class="c6 c9">, </span><span class="c6 c10">3</span><span class="c6 c9">);<br> &nbsp;
                        &nbsp;</span><span class="c1">return</span><span
                        class="c6 c9">&nbsp;result;<br>}<br>calculate().then(value=&gt; </span><span
                        class="c6 c11">console</span><span class="c6 c9">.log(</span><span class="c3">&quot;Rezultatul
                        opera&#539;iunii asincrone:&quot;</span><span class="c6 c9">, value));</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c16">Executarea secven&#539;ial&#259; a opera&#539;iunilor asincrone.</span></p>
    <p class="c2"><span class="c17 c5"></span></p>
    <p class="c4"><span class="c6">O func&#539;ie asincron&#259; poate con&#539;ine mai multe opera&#539;iuni asincrone
            la care se aplic&#259; operatorul </span><span class="c5">await</span><span class="c0">. &Icirc;n acest caz,
            toate opera&#539;iunile asincrone vor fi executate secven&#539;ial:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.c01b6fc738cc12d1e797144652ef0a7ba782858b"></a><a id="t.8"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">sum</span><span class="c6 c9">(x, y){ <br> &nbsp; &nbsp;</span><span
                        class="c1">return</span><span class="c6 c9">&nbsp;</span><span class="c1">new</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">Promise</span><span class="c6 c9">(</span><span
                        class="c1">function</span><span class="c6 c9">(resolve){<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;result = x + y;<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;resolve(result);<br> &nbsp; &nbsp;});<br>}<br> <br></span><span
                        class="c1">async</span><span class="c6 c9">&nbsp;</span><span class="c1">function</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">calculate</span><span class="c6 c9">(){<br>
                        &nbsp; &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;value1 = </span><span
                        class="c1">await</span><span class="c6 c9">&nbsp;sum(</span><span class="c6 c10">5</span><span
                        class="c6 c9">, </span><span class="c6 c10">3</span><span class="c6 c9">);<br> &nbsp;
                        &nbsp;</span><span class="c6 c11">console</span><span class="c6 c9">.log(</span><span
                        class="c3">&quot;Rezultatul 1 al opera&#539;iunii asincrone:&quot;</span><span class="c6 c9">,
                        value1);<br> &nbsp; &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;value2 =
                    </span><span class="c1">await</span><span class="c6 c9">&nbsp;sum(</span><span
                        class="c6 c10">6</span><span class="c6 c9">, </span><span class="c6 c10">4</span><span
                        class="c6 c9">);<br> &nbsp; &nbsp;</span><span class="c6 c11">console</span><span
                        class="c6 c9">.log(</span><span class="c3">&quot;Rezultatul 2 al opera&#539;iunii
                        asincrone:&quot;</span><span class="c6 c9">, value2);<br> &nbsp; &nbsp;</span><span
                        class="c1">const</span><span class="c6 c9">&nbsp;value3 = </span><span
                        class="c1">await</span><span class="c6 c9">&nbsp;sum(</span><span class="c6 c10">7</span><span
                        class="c6 c9">, </span><span class="c6 c10">5</span><span class="c6 c9">);<br> &nbsp;
                        &nbsp;</span><span class="c6 c11">console</span><span class="c6 c9">.log(</span><span
                        class="c3">&quot;Rezultatul 3 al opera&#539;iunii asincrone:&quot;</span><span class="c6 c9">,
                        value3);<br>}<br>calculate(); &nbsp; &nbsp;<br></span><span class="c6 c13">// Rezultatul 1 al
                        opera&#539;iunii asincrone: 8</span><span class="c6 c9"><br></span><span class="c6 c13">//
                        Rezultatul 2 al opera&#539;iunii asincrone: 10</span><span class="c6 c9"><br></span><span
                        class="c6 c13">// Rezultatul 3 al opera&#539;iunii asincrone: 12</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c16">Tratarea erorilor.</span></p>
    <p class="c2"><span class="c5 c17"></span></p>
    <p class="c4"><span class="c6">Pentru tratarea erorilor care pot ap&#259;rea &icirc;n timpul apelului unei
            opera&#539;iuni asincrone se utilizeaz&#259; construc&#539;ia</span><span
            class="c5">&nbsp;try..catch..finally</span><span class="c0">.</span></p>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c0">De exemplu, s&#259; lu&#259;m urm&#259;torul cod care folose&#537;te Promise:</span>
    </p>
    <p class="c2"><span class="c0"></span></p><a id="t.7546f098605351680cb9a7550efe4395ea650552"></a><a id="t.9"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">square</span><span class="c6 c9">(str){<br> &nbsp; &nbsp;</span><span
                        class="c1">return</span><span class="c6 c9">&nbsp;</span><span class="c1">new</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">Promise</span><span class="c6 c9">((resolve,
                        reject) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">const</span><span
                        class="c6 c9">&nbsp;n = </span><span class="c6 c11">parseInt</span><span
                        class="c6 c9">(str);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">if</span><span
                        class="c6 c9">&nbsp;(</span><span class="c6 c11">isNaN</span><span class="c6 c9">(n))
                        reject(</span><span class="c3">&quot;Not a number&quot;</span><span class="c6 c9">);<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;</span><span class="c1">else</span><span class="c6 c9">&nbsp;resolve(n *
                        n);<br> &nbsp; &nbsp;});<br>};<br></span><span class="c1">function</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">calculate</span><span class="c6 c9">(str){<br>
                        &nbsp; &nbsp; <br> &nbsp; &nbsp;square(str)<br> &nbsp; &nbsp; &nbsp; &nbsp;.then(value =&gt;
                    </span><span class="c6 c11">console</span><span class="c6 c9">.log(</span><span
                        class="c3">&quot;Result: &quot;</span><span class="c6 c9">, value))<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;.catch(error =&gt; </span><span class="c6 c11">console</span><span
                        class="c6 c9">.log(error));<br>}<br> <br>calculate(</span><span
                        class="c3">&quot;g8&quot;</span><span class="c6 c9">); &nbsp; &nbsp;</span><span
                        class="c6 c13">// Not a number </span><span class="c6 c9"><br>calculate(</span><span
                        class="c3">&quot;4&quot;</span><span class="c6 c9">); &nbsp; &nbsp; </span><span
                        class="c6 c13">// Result: &nbsp;16</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Func&#539;ia </span><span class="c6 c12">square()</span><span
            class="c0">&nbsp;prime&#537;te o valoare oarecare, iar &icirc;n promise aceast&#259; valoare este
            convertit&#259; &icirc;n num&#259;r. &#536;i &icirc;n caz de succes, din promise se returneaz&#259;
            p&#259;tratul num&#259;rului. Dac&#259; valoarea transmis&#259; nu este un num&#259;r, atunci se
            returneaz&#259; o eroare.</span></p>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">La apelarea func&#539;iei </span><span class="c6 c12">square()</span><span
            class="c6">&nbsp;cu metoda </span><span class="c5">catch()</span><span class="c0">&nbsp;putem trata eroarea
            ap&#259;rut&#259;.</span></p>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Acum s&#259; rescriem exemplul folosind </span><span
            class="c5">async/await</span><span class="c0">:</span></p>
    <p class="c2"><span class="c0"></span></p><a id="t.dedc02143b4aef74723c657add59f32fecdb29a3"></a><a id="t.10"></a>
    <table class="c7">
        <tr class="c14">
            <td class="c8" colspan="1" rowspan="1">
                <p class="c18"><span class="c1">function</span><span class="c6 c9">&nbsp;</span><span
                        class="c6 c11">square</span><span class="c6 c9">(str){<br> &nbsp; &nbsp;</span><span
                        class="c1">return</span><span class="c6 c9">&nbsp;</span><span class="c1">new</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">Promise</span><span class="c6 c9">((resolve,
                        reject) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">const</span><span
                        class="c6 c9">&nbsp;n = </span><span class="c6 c11">parseInt</span><span
                        class="c6 c9">(str);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">if</span><span
                        class="c6 c9">&nbsp;(</span><span class="c6 c11">isNaN</span><span class="c6 c9">(n))
                        reject(</span><span class="c3">&quot;Not a number&quot;</span><span class="c6 c9">);<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;</span><span class="c1">else</span><span class="c6 c9">&nbsp;resolve(n *
                        n);<br> &nbsp; &nbsp;})<br>};<br> <br></span><span class="c1">async</span><span
                        class="c6 c9">&nbsp;</span><span class="c1">function</span><span
                        class="c6 c9">&nbsp;</span><span class="c6 c11">calculate</span><span class="c6 c9">(str){<br>
                        &nbsp; &nbsp; <br> &nbsp; &nbsp;</span><span class="c1">try</span><span class="c6 c9">{<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">const</span><span class="c6 c9">&nbsp;value =
                    </span><span class="c1">await</span><span class="c6 c9">&nbsp;square(str);<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c6 c11">console</span><span class="c6 c9">.log(</span><span
                        class="c3">&quot;Result: &quot;</span><span class="c6 c9">, value);<br> &nbsp; &nbsp;}<br>
                        &nbsp; &nbsp;</span><span class="c1">catch</span><span class="c6 c9">(error){<br> &nbsp; &nbsp;
                        &nbsp; &nbsp;</span><span class="c6 c11">console</span><span class="c6 c9">.log(error);<br>
                        &nbsp; &nbsp;}<br>}<br> <br>calculate(</span><span class="c3">&quot;g8&quot;</span><span
                        class="c6 c9">); &nbsp; &nbsp;</span><span class="c6 c13">// Not a number </span><span
                        class="c6 c9"><br>calculate(</span><span class="c3">&quot;4&quot;</span><span class="c6 c9">);
                        &nbsp; &nbsp; </span><span class="c6 c13">// Result: &nbsp;16</span></p>
            </td>
        </tr>
    </table>
    <p class="c2"><span class="c0"></span></p>
    <p class="c4"><span class="c6">Apelul opera&#539;iunii asincrone este plasat &icirc;n blocul </span><span
            class="c5">try</span><span class="c6">, iar &icirc;n blocul </span><span class="c5">catch </span><span
            class="c0">putem ob&#539;ine eroarea ap&#259;rut&#259; &#537;i o putem trata.</span></p>
    <p class="c2"><span class="c0"></span></p>
</body>

</html>