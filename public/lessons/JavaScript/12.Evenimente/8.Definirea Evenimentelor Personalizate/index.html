<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        @import url(https://themes.googleusercontent.com/fonts/css?kit=iMc4-4exjgqA-toZgqqJBf35jAjY-31lSKWZb9Fa77M);

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c9 {
            border-right-style: solid;
            padding: 5pt 5pt 5pt 5pt;
            border-bottom-color: #000000;
            border-top-width: 0pt;
            border-right-width: 0pt;
            border-left-color: #000000;
            vertical-align: top;
            border-right-color: #000000;
            border-left-width: 0pt;
            border-top-style: solid;
            background-color: #333333;
            border-left-style: solid;
            border-bottom-width: 0pt;
            width: 468pt;
            border-top-color: #000000;
            border-bottom-style: solid
        }

        .c20 {
            color: #000000;
            font-weight: 700;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 15pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c1 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c0 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c12 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #fcc28c;
            font-weight: 400
        }

        .c13 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #62c8f3;
            font-weight: 400
        }

        .c11 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #62c8f3;
            font-weight: 700
        }

        .c6 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #a2fca2;
            font-weight: 400
        }

        .c7 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #ffffaa;
            font-weight: 400
        }

        .c8 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            text-align: left;
            height: 11pt
        }

        .c4 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #ffffff;
            font-weight: 400
        }

        .c21 {
            color: #000000;
            text-decoration: none;
            vertical-align: baseline;
            font-style: normal
        }

        .c3 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: italic;
            font-weight: 400
        }

        .c5 {
            border-spacing: 0;
            border-collapse: collapse;
            margin-right: auto
        }

        .c10 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            text-align: left
        }

        .c19 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c22 {
            font-weight: 700;
            font-size: 27pt;
            font-family: "Open Sans"
        }

        .c15 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 400
        }

        .c16 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c17 {
            background-color: #333333;
            color: #d36363
        }

        .c18 {
            background-color: #333333;
            color: #888888
        }

        .c14 {
            height: 11pt
        }

        .c2 {
            height: 0pt
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body class="c19 doc-content">
    <h1 class="c0 c21 c22">Definirea Evenimentelor Personalizate. </h1>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Capacitatea de a genera evenimente programatic ne deschide calea c&#259;tre crearea
            de evenimente personalizate - putem defini &#537;i declan&#537;a evenimente arbitrare.</span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">De exemplu, avem o func&#539;ie constructor Account, care accept&#259; o sum&#259; de
            bani &#537;i creeaz&#259; un cont monetar condi&#539;ional:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.6d526ef9e692b508be633517dbbfcf1e85c98cfc"></a><a
        id="t.0"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c12">function</span><span class="c4">&nbsp;</span><span
                        class="c7">Account</span><span class="c4">(money) {<br> &nbsp; &nbsp;_money = money;<br> &nbsp;
                        &nbsp;</span><span class="c12">this</span><span class="c4">.pay = </span><span
                        class="c12">function</span><span class="c4">(sum) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c12">if</span><span class="c4">(_money &gt;= sum) {<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp;_money -= sum;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">console</span><span class="c4">.log(_money);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br>
                        &nbsp; &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c15">&Icirc;n variabila</span><span class="c3">&nbsp;_money</span><span
            class="c15">&nbsp;este stocat&#259; suma curent&#259; de bani din cont. Cu func&#539;ia pay cheltuim
            condi&#539;ionat o anumit&#259; sum&#259;, dac&#259; balan&#539;a permite. Dar, s&#259; presupunem c&#259;
            trebuie s&#259; notific&#259;m sistemul c&acirc;nd are loc o retragere de fonduri. Pe de o parte, am putea
            face acest lucru direct &icirc;n metoda pay - s&#259; apel&#259;m</span><span
            class="c3">&nbsp;console.log()</span><span class="c1">&nbsp;&icirc;n metod&#259; &#537;i s&#259;
            afi&#537;&#259;m un text pe consol&#259;. Dar &icirc;n momentul scrierii acestui cod, s-ar putea s&#259; nu
            fim siguri ce text exact trebuie afi&#537;at pe consol&#259;. Sau poate fi nevoie s&#259; nu
            afi&#537;&#259;m pe consol&#259;, ci &icirc;n fereastra browserului. Sau s&#259; trimitem notificarea la o
            resurs&#259; de re&#539;ea anumit&#259;. Sau poate func&#539;ia noastr&#259; constructor va fi folosit&#259;
            &icirc;n Node.js, unde poate fi necesar&#259; o alt&#259; prelucrare. &#536;i poate c&#259; al&#539;i
            dezvoltatori vor folosi func&#539;ia noastr&#259; constructor, care ar putea avea propriul lor
            &icirc;n&#539;eles despre ce trebuie f&#259;cut la retragerea fondurilor. &Icirc;n orice caz, ne
            confrunt&#259;m cu multivarian&#539;&#259;, dar &icirc;n toate aceste situa&#539;ii, principalul lucru pe
            care trebuie s&#259;-l facem este s&#259; notific&#259;m sistemul c&#259; a avut loc o retragere de fonduri.
            &#536;i pentru a acoperi toate aceste situa&#539;ii, ne va ajuta definirea propriilor evenimente.</span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c15">Pentru definirea evenimentelor personalizate, putem utiliza constructorul
        </span><span class="c16">Event</span><span class="c1">, &icirc;n care se transmite numele evenimentului. Deci,
            s&#259; lu&#259;m &icirc;n considerare urm&#259;torul program:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.f8241adc26142c93546c7357af5569cc84122905"></a><a
        id="t.1"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c4">&lt;!DOCTYPE html&gt;<br></span><span class="c13">&lt;</span><span
                        class="c11">html</span><span class="c13">&gt;</span><span class="c4"><br></span><span
                        class="c13">&lt;</span><span class="c11">head</span><span class="c13">&gt;</span><span
                        class="c4"><br> &nbsp; &nbsp;</span><span class="c13">&lt;</span><span
                        class="c11">meta</span><span class="c13">&nbsp;charset=</span><span
                        class="c6">&quot;utf-8&quot;</span><span class="c13">&nbsp;/&gt;</span><span class="c4"><br>
                        &nbsp; &nbsp;</span><span class="c13">&lt;</span><span class="c11">title</span><span
                        class="c13">&gt;</span><span class="c4">FDC.COM</span><span class="c13">&lt;/</span><span
                        class="c11">title</span><span class="c13">&gt;</span><span class="c4"><br></span><span
                        class="c13">&lt;/</span><span class="c11">head</span><span class="c13">&gt;</span><span
                        class="c4"><br></span><span class="c13">&lt;</span><span class="c11">body</span><span
                        class="c13">&gt;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c13">&lt;</span><span class="c11">button</span><span class="c13">&nbsp;id=</span><span
                        class="c6">&quot;btn&quot;</span><span class="c13">&gt;</span><span class="c4">Pay</span><span
                        class="c13">&lt;/</span><span class="c11">button</span><span class="c13">&gt;</span><span
                        class="c4"><br> &nbsp; &nbsp;</span><span class="c13">&lt;</span><span
                        class="c11">script</span><span class="c13">&gt;</span><span class="c4"><br> &nbsp; &nbsp;const
                        button = document.getElementById(&quot;btn&quot;);<br> &nbsp; &nbsp;const myAcc = new
                        Account(100); // contul monetar condi&#539;ional<br> &nbsp; &nbsp;// stabilim handler-ul pentru
                        evenimentul payment pentru &icirc;ntregul document<br> &nbsp;
                        &nbsp;document.addEventListener(&quot;payment&quot;, () =&gt; console.log(&quot;Payment
                        succeeded!&quot;));<br><br> &nbsp; &nbsp;// la ap&#259;sarea butonului, execut&#259;m metoda
                        pay<br> &nbsp; &nbsp;button.addEventListener(&quot;click&quot;, () =&gt; myAcc.pay(50));<br>
                        &nbsp; &nbsp;// constructorul obiectului cont<br> &nbsp; &nbsp;function Account(money) {<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;_money = money;<br> &nbsp; &nbsp; &nbsp; &nbsp;this.pay =
                        function(sum) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(_money &gt;= sum) {<br> &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_money -= sum;<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;console.log(_money);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp;const event = new Event(&quot;payment&quot;); // definim obiectul
                        evenimentului<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;document.dispatchEvent(event); &nbsp; &nbsp; &nbsp;// gener&#259;m evenimentul pentru
                        &icirc;ntregul document<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c13">&lt;/</span><span
                        class="c11">script</span><span class="c13">&gt;</span><span class="c4"><br></span><span
                        class="c13">&lt;/</span><span class="c11">body</span><span class="c13">&gt;</span><span
                        class="c4"><br></span><span class="c13">&lt;/</span><span class="c11">html</span><span
                        class="c13">&gt;</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Aspecte principale. &Icirc;n metoda pay, cre&#259;m un obiect Event care va
            reprezenta evenimentul &quot;payment&quot; (nu conteaz&#259; c&#259; un astfel de eveniment nu exist&#259;
            ini&#539;ial, noi &icirc;l cre&#259;m). Apoi gener&#259;m acest eveniment:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.04c1c630fa0da7916ddbcf9bf73006e55a12f3b5"></a><a
        id="t.2"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c12">const</span><span class="c4">&nbsp;event = </span><span
                        class="c12">new</span><span class="c4">&nbsp;Event(</span><span
                        class="c6">&quot;payment&quot;</span><span class="c4">); </span><span class="c15 c18">// definim
                        obiectul evenimentului</span><span class="c4"><br></span><span class="c7">document</span><span
                        class="c4">.dispatchEvent(event); &nbsp; &nbsp; &nbsp;</span><span class="c15 c18">//
                        gener&#259;m evenimentul pentru &icirc;ntregul document</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c15">De men&#539;ionat c&#259; evenimentul este generat pentru &icirc;ntregul document:
        </span><span class="c16">document</span><span class="c1">.dispatchEvent(event), dar acesta poate fi orice
            element specific al paginii web.</span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Pentru a procesa acest eveniment, ne abon&#259;m la el:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.bf88cf43359b71398c316fcb733c2f74d521892b"></a><a
        id="t.3"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c7">document</span><span class="c4">.addEventListener(</span><span
                        class="c6">&quot;payment&quot;</span><span class="c4">, () =&gt; </span><span
                        class="c7">console</span><span class="c4">.log(</span><span class="c6">&quot;Payment
                        succeeded!&quot;</span><span class="c4">));</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Din nou, abonarea la eveniment se face pentru &icirc;ntregul document. Handler-ul
            evenimentului doar afi&#537;eaz&#259; un &#537;ir pe consol&#259;.</span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">La ap&#259;sarea butonului, apel&#259;m metoda pay a obiectului myAcc &#537;i astfel
            gener&#259;m evenimentul &quot;payment&quot; (dac&#259; pe cont sunt suficiente fonduri).</span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Pentru a testa, ap&#259;sa&#539;i pe buton.</span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 345.33px;"><img
                alt="" src="images/image1.png"
                style="width: 624.00px; height: 345.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">De asemenea, la fel ca &icirc;n cazul general, putem ob&#539;ine obiectul
            evenimentului &icirc;n handler:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.c1a82b05060ce19d69f61d6556541cbce3a79a14"></a><a
        id="t.4"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c15 c18">// ob&#539;inem obiectul evenimentului prin parametrul
                        e</span><span class="c4"><br></span><span class="c7">document</span><span
                        class="c4">.addEventListener(</span><span class="c6">&quot;payment&quot;</span><span
                        class="c4">, (e) =&gt; {<br> &nbsp; &nbsp;</span><span class="c7">console</span><span
                        class="c4">.log(e.type); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c15 c18">// &nbsp;payment</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c7">console</span><span class="c4">.log(</span><span class="c6">&quot;Payment
                        succeeded!&quot;</span><span class="c4">);<br>});</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c21 c16"></span></p>
    <p class="c0"><span class="c20">CustomEvent.</span></p>
    <p class="c0 c14"><span class="c16 c21"></span></p>
    <p class="c0"><span class="c15">Cu toate c&#259; tipul Event poate fi utilizat, acesta nu este foarte potrivit
            pentru definirea evenimentelor personalizate. De exemplu, ce se &icirc;nt&acirc;mpl&#259; dac&#259; dorim
            s&#259; transmitem &icirc;n handler-ul evenimentului informa&#539;ii suplimentare - suma retras&#259;,
            soldul curent sau altceva? Pentru astfel de cazuri, este mai bine s&#259; utiliz&#259;m tipul </span><span
            class="c16">CustomEvent</span><span class="c1">. S&#259; modific&#259;m codul JavaScript &icirc;n modul
            urm&#259;tor:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.7f76595ce2d133d01896f8508dd7b25a3d815229"></a><a
        id="t.5"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c12">const</span><span class="c4">&nbsp;button = </span><span
                        class="c7">document</span><span class="c4">.getElementById(</span><span
                        class="c6">&quot;btn&quot;</span><span class="c4">);<br></span><span
                        class="c7">document</span><span class="c4">.addEventListener(</span><span
                        class="c6">&quot;payment&quot;</span><span class="c4">, (e) =&gt; {<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Payment succeeded!&quot;</span><span class="c4">);<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Payment Sum:&quot;</span><span class="c4">, e.detail.paymentSum); &nbsp;
                    </span><span class="c15 c18">// ob&#539;inem datele evenimentului</span><span class="c4"><br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Current balance:&quot;</span><span class="c4">,
                        e.detail.balance);<br>});<br><br></span><span class="c12">const</span><span
                        class="c4">&nbsp;myAcc = </span><span class="c12">new</span><span
                        class="c4">&nbsp;Account(</span><span class="c15 c17">100</span><span
                        class="c4">);<br></span><span class="c15 c18">// la ap&#259;sarea butonului, execut&#259;m
                        metoda pay</span><span class="c4"><br>button.addEventListener(</span><span
                        class="c6">&quot;click&quot;</span><span class="c4">, () =&gt; myAcc.pay(</span><span
                        class="c15 c17">50</span><span class="c4">));<br><br></span><span
                        class="c12">function</span><span class="c4">&nbsp;</span><span class="c7">Account</span><span
                        class="c4">(money) {<br> &nbsp; &nbsp;_money = money;<br> &nbsp; &nbsp;</span><span
                        class="c12">this</span><span class="c4">.pay = </span><span class="c12">function</span><span
                        class="c4">(sum) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c12">if</span><span
                        class="c4">(_money &gt;= sum) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_money -= sum;<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c18">// definim obiectul
                        evenimentului</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c12">const</span><span class="c4">&nbsp;event = </span><span class="c12">new</span><span
                        class="c4">&nbsp;CustomEvent(</span><span class="c6">&quot;payment&quot;</span><span
                        class="c4">, {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;detail: { &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c18">// &nbsp;transmitem
                        date despre eveniment &icirc;n CustomEvent</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;paymentSum: sum, <br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;balance: _money<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">document</span><span
                        class="c4">.dispatchEvent(event); &nbsp; &nbsp; &nbsp;</span><span class="c15 c18">//
                        gener&#259;m evenimentul pentru &icirc;ntregul document</span><span class="c4"><br> &nbsp;
                        &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c15">&Icirc;n CustomEvent, ca al doilea parametru, se transmite un obiect de configurare,
            care are proprietatea </span><span class="c16">detail</span><span class="c15">. Aceast&#259; proprietate, la
            r&acirc;ndul s&#259;u, reprezint&#259; un obiect cu un set arbitrar de propriet&#259;&#539;i. &Icirc;n acest
            caz definim &icirc;n el propriet&#259;&#539;ile </span><span class="c3">paymentSum </span><span
            class="c15">&#537;i </span><span class="c3">balance </span><span class="c1">&#537;i le transmitem valorile
            care ne intereseaz&#259;:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.1ec36db4bad5900e8b337653b547af8ab439d790"></a><a
        id="t.6"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c12">const</span><span class="c4">&nbsp;event = </span><span
                        class="c12">new</span><span class="c4">&nbsp;CustomEvent(</span><span
                        class="c6">&quot;payment&quot;</span><span class="c4">, {<br> &nbsp; &nbsp;detail: {<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;paymentSum: sum, <br> &nbsp; &nbsp; &nbsp; &nbsp;balance: _money<br> &nbsp;
                        &nbsp;}<br>});</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Apoi transmitem obiectul CustomEvent (la fel ca &#537;i Event) &icirc;n dispatchEvent
            &#537;i astfel gener&#259;m evenimentul:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.186357f58b839d7ca70eae6422ed5dc1dbddbd98"></a><a
        id="t.7"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c7">document</span><span class="c4">.dispatchEvent(event);</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">La procesarea evenimentului, putem ob&#539;ine datele transmise prin proprietatea
            detail:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.8ce3aeec95a0b88bf8af9d15b88252f06b373f5e"></a><a
        id="t.8"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c7">document</span><span class="c4">.addEventListener(</span><span
                        class="c6">&quot;payment&quot;</span><span class="c4">, (e) =&gt; {<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Payment succeeded!&quot;</span><span class="c4">);<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Payment Sum:&quot;</span><span class="c4">, e.detail.paymentSum); &nbsp;
                    </span><span class="c15 c18">// ob&#539;inem datele evenimentului</span><span class="c4"><br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Current balance:&quot;</span><span class="c4">,
                        e.detail.balance);<br>});</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Exemplu de afi&#537;are &icirc;n consol&#259; la prima ap&#259;sare a
            butonului:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.292f8e95bb9893490ebdb045750c630d1b7c3efd"></a><a
        id="t.9"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c4">Payment succeeded!<br>Payment Sum: </span><span
                        class="c15 c17">50</span><span class="c4"><br>Current balance: </span><span
                        class="c15 c17">50</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">&Icirc;n mod similar, putem defini &#537;i alte evenimente. De exemplu, s&#259;
            definim un alt eveniment pentru cazul &icirc;n care nu sunt suficiente fonduri pentru efectuarea
            pl&#259;&#539;ii:</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.42b6d6e2b28ddd7754506e86b81bee3681ff3252"></a><a
        id="t.10"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c12">const</span><span class="c4">&nbsp;button = </span><span
                        class="c7">document</span><span class="c4">.getElementById(</span><span
                        class="c6">&quot;btn&quot;</span><span class="c4">);<br></span><span
                        class="c7">document</span><span class="c4">.addEventListener(</span><span
                        class="c6">&quot;payment_success&quot;</span><span class="c4">, (e) =&gt; {<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Payment succeeded!&quot;</span><span class="c4">);<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Payment Sum:&quot;</span><span class="c4">, e.detail.paymentSum);<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c4">.log(</span><span
                        class="c6">&quot;Current balance:&quot;</span><span class="c4">,
                        e.detail.balance);<br>});<br></span><span class="c7">document</span><span
                        class="c4">.addEventListener(</span><span class="c6">&quot;payment_fail&quot;</span><span
                        class="c4">, (e) =&gt; {<br> &nbsp; &nbsp;</span><span class="c7">console</span><span
                        class="c4">.error(</span><span class="c6">&quot;Payment failed&quot;</span><span
                        class="c4">);<br> &nbsp; &nbsp;</span><span class="c7">console</span><span
                        class="c4">.error(</span><span class="c6">&quot;Current balance:&quot;</span><span class="c4">,
                        e.detail.balance, </span><span class="c6">&quot;Requested Sum: &quot;</span><span class="c4">,
                        e.detail.paymentSum);<br>});<br></span><span class="c12">const</span><span
                        class="c4">&nbsp;myAcc = </span><span class="c12">new</span><span
                        class="c4">&nbsp;Account(</span><span class="c15 c17">100</span><span class="c4">);
                        <br>button.addEventListener(</span><span class="c6">&quot;click&quot;</span><span class="c4">,
                        () =&gt; myAcc.pay(</span><span class="c15 c17">50</span><span
                        class="c4">));<br><br></span><span class="c12">function</span><span
                        class="c4">&nbsp;</span><span class="c7">Account</span><span class="c4">(money) {<br> &nbsp;
                        &nbsp;_money = money;<br> &nbsp; &nbsp;</span><span class="c12">this</span><span class="c4">.pay
                        = </span><span class="c12">function</span><span class="c4">(sum) {<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c12">const</span><span class="c4">&nbsp;data = { <br> &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;paymentSum: sum, <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;balance: _money<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c12">if</span><span class="c4">(_money &gt;= sum) {<br> &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;_money -= sum;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c12">const</span><span class="c4">&nbsp;event = </span><span
                        class="c12">new</span><span class="c4">&nbsp;CustomEvent(</span><span
                        class="c6">&quot;payment_success&quot;</span><span class="c4">, {<br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;detail: data<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">document</span><span class="c4">.dispatchEvent(event);<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;} </span><span class="c12">else</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp;</span><span class="c12">const</span><span class="c4">&nbsp;event =
                    </span><span class="c12">new</span><span class="c4">&nbsp;CustomEvent(</span><span
                        class="c6">&quot;payment_fail&quot;</span><span class="c4">, {<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;detail: data<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c7">document</span><span
                        class="c4">.dispatchEvent(event);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp;
                        &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Acum, dac&#259; sunt suficiente fonduri &icirc;n cont, se genereaz&#259; evenimentul
            &quot;payment_success&quot;, iar dac&#259; nu, se genereaz&#259; &quot;payment_fail&quot;. Pentru fiecare
            dintre aceste evenimente definim propriul nostru handler.</span></p>
    <p class="c0 c14"><span class="c1"></span></p>
    <p class="c0"><span class="c1">Afi&#537;area &icirc;n consol&#259; a programului (la trei ap&#259;s&#259;ri ale
            butonului):</span></p>
    <p class="c0 c14"><span class="c1"></span></p><a id="t.4643861e8a5d6b64807af54cf3f6e6ad1e5f2a62"></a><a
        id="t.11"></a>
    <table class="c5">
        <tr class="c2">
            <td class="c9" colspan="1" rowspan="1">
                <p class="c10"><span class="c4">Payment succeeded!<br>Payment Sum: </span><span
                        class="c15 c17">50</span><span class="c4"><br>Current balance: </span><span
                        class="c15 c17">100</span><span class="c4"><br>Payment succeeded!<br>Payment Sum: </span><span
                        class="c15 c17">50</span><span class="c4"><br>Current balance: </span><span
                        class="c15 c17">50</span><span class="c4"><br>Payment failed<br>Current balance: </span><span
                        class="c15 c17">0</span><span class="c4">&nbsp;Requested Sum: </span><span
                        class="c15 c17">50</span></p>
            </td>
        </tr>
    </table>
    <p class="c8"><span class="c1"></span></p>
</body>

</html>