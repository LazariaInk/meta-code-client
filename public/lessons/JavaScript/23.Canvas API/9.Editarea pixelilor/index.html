<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        @import url(https://themes.googleusercontent.com/fonts/css?kit=iMc4-4exjgqA-toZgqqJBf35jAjY-31lSKWZb9Fa77M);

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c13 {
            border-right-style: solid;
            padding: 5pt 5pt 5pt 5pt;
            border-bottom-color: #000000;
            border-top-width: 0pt;
            border-right-width: 0pt;
            border-left-color: #000000;
            vertical-align: top;
            border-right-color: #000000;
            border-left-width: 0pt;
            border-top-style: solid;
            background-color: #333333;
            border-left-style: solid;
            border-bottom-width: 0pt;
            width: 468pt;
            border-top-color: #000000;
            border-bottom-style: solid
        }

        .c3 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 12pt;
            font-family: "Open Sans";
            font-style: normal
        }

        .c0 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c5 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #62c8f3;
            font-weight: 400
        }

        .c4 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #ffffff;
            font-weight: 400
        }

        .c1 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #d36363;
            font-weight: 400
        }

        .c2 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #a2fca2;
            font-weight: 400
        }

        .c7 {
            background-color: #333333;
            font-size: 12pt;
            font-family: "Open Sans";
            color: #fcc28c;
            font-weight: 400
        }

        .c17 {
            color: #000000;
            text-decoration: none;
            vertical-align: baseline;
            font-style: normal
        }

        .c16 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.5;
            text-align: left
        }

        .c15 {
            border-spacing: 0;
            border-collapse: collapse;
            margin-right: auto
        }

        .c10 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c22 {
            font-size: 27pt;
            font-family: "Open Sans";
            font-weight: 700
        }

        .c19 {
            font-weight: 700;
            font-size: 15pt;
            font-family: "Open Sans"
        }

        .c18 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c9 {
            font-size: 12pt;
            font-family: "Open Sans";
            font-weight: 400
        }

        .c20 {
            font-weight: 400;
            font-size: 27pt;
            font-family: "Open Sans"
        }

        .c11 {
            background-color: #333333;
            color: #888888
        }

        .c21 {
            background-color: #333333;
            color: #ffffaa
        }

        .c14 {
            background-color: #333333;
            color: #62c8f3
        }

        .c8 {
            height: 0pt
        }

        .c6 {
            height: 11pt
        }

        .c12 {
            font-style: italic
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body class="c18 doc-content">
    <h1 class="c0 c22">Editarea pixelilor. </h1>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c9">JavaScript ofer&#259; func&#539;ionalit&#259;&#539;i &icirc;ncorporate pentru
            editarea imaginilor &#537;i setarea valorilor pixelilor specifici pe canvas. &Icirc;n special, putem
            modifica valorile de culoare ale unui pixel, precum &#537;i transparen&#539;a acestuia. Pentru aceasta sunt
            destinate metode precum</span><span class="c10">&nbsp;getImageData()</span><span class="c9">, </span><span
            class="c10">putImageData()</span><span class="c9">&nbsp;&#537;i</span><span
            class="c10">&nbsp;createImageData()</span><span class="c3">.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c17 c19">Metoda getImageData().</span></p>
    <p class="c0 c6"><span class="c17 c10"></span></p>
    <p class="c0"><span class="c9">Metoda </span><span class="c10">getImageData()</span><span class="c3">&nbsp;permite
            extragerea unei anumite p&#259;r&#539;i a imaginii de pe canvas. Are urm&#259;toarea defini&#539;ie:</span>
    </p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.6649ffa7d086d1d109ce9355c020dcca8963dbc9"></a><a id="t.0"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c4">getImageData(sx, sy, sw, sh);</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Aici, sx &#537;i sy sunt coordonatele col&#539;ului st&acirc;nga sus al zonei din
            care sunt extrase datele pe canvas, iar sw &#537;i sh sunt respectiv l&#259;&#539;imea &#537;i
            &icirc;n&#259;l&#539;imea acestei zone.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c9">Datele din zona definit&#259; de ace&#537;ti parametri sunt extrase sub forma unui
            obiect </span><span class="c10">ImageData</span><span class="c3">, care ulterior este folosit pentru
            manipularea pixelilor.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Exemplu de utilizare:</span></p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.939331929648166d1528c498b4eb5cf1434b6e06"></a><a id="t.1"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c7">const</span><span class="c4">&nbsp;canvas = </span><span
                        class="c9 c21">document</span><span class="c4">.getElementById(</span><span
                        class="c2">&quot;canvas&quot;</span><span class="c4">);<br></span><span
                        class="c7">const</span><span class="c4">&nbsp;context = canvas.getContext(</span><span
                        class="c2">&quot;2d&quot;</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; <br></span><span class="c7">const</span><span class="c4">&nbsp;img =
                    </span><span class="c7">new</span><span class="c4">&nbsp;Image();<br>img.src = </span><span
                        class="c2">&quot;forest.png&quot;</span><span class="c4">;<br>img.onload = </span><span
                        class="c7">function</span><span class="c4">() {<br> &nbsp; &nbsp;context.drawImage(img,
                    </span><span class="c1">0</span><span class="c4">, </span><span class="c1">0</span><span
                        class="c4">);<br> &nbsp; &nbsp;</span><span class="c7">const</span><span
                        class="c4">&nbsp;imageData = context.getImageData(</span><span class="c1">0</span><span
                        class="c4">,</span><span class="c1">0</span><span class="c4">, </span><span
                        class="c1">100</span><span class="c4">, </span><span class="c1">100</span><span
                        class="c4">);<br>};</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c9">Toate datele despre imagine &icirc;n obiectul ImageData sunt stocate &icirc;n
            array-ul </span><span class="c9 c12">data</span><span class="c3">. Fiecare pixel pe canvas este caracterizat
            de patru componente &icirc;n format RGBA: componenta ro&#537;ie, verde, albastr&#259;, care stabilesc
            culoarea, &#537;i componenta alfa, care stabile&#537;te transparen&#539;a. Fiecare component&#259;
            accept&#259; valori de la 0 la 255. Pentru a ob&#539;ine valorile de culoare pentru primul pixel &icirc;n
            ImageData, trebuie s&#259; ob&#539;inem secven&#539;ial patru valori din array-ul data:</span></p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.331afe0d4383f454a88260d437d14f9d066b6fd2"></a><a id="t.2"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c7">const</span><span class="c4">&nbsp;canvas = </span><span
                        class="c9 c21">document</span><span class="c4">.getElementById(</span><span
                        class="c2">&quot;canvas&quot;</span><span class="c4">);<br></span><span
                        class="c7">const</span><span class="c4">&nbsp;context = canvas.getContext(</span><span
                        class="c2">&quot;2d&quot;</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; <br></span><span class="c7">const</span><span class="c4">&nbsp;img =
                    </span><span class="c7">new</span><span class="c4">&nbsp;Image();<br>img.src = </span><span
                        class="c2">&quot;fox2.png&quot;</span><span class="c4">;<br>img.onload = </span><span
                        class="c7">function</span><span class="c4">() {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; <br> &nbsp; &nbsp;context.drawImage(img, </span><span class="c1">0</span><span
                        class="c4">, </span><span class="c1">0</span><span class="c4">);<br> &nbsp; &nbsp;</span><span
                        class="c7">const</span><span class="c4">&nbsp;imageData = context.getImageData(</span><span
                        class="c1">0</span><span class="c4">,</span><span class="c1">0</span><span class="c4">,
                    </span><span class="c1">100</span><span class="c4">, </span><span class="c1">100</span><span
                        class="c4">);<br> &nbsp; &nbsp;</span><span class="c7">const</span><span class="c4">&nbsp;red =
                        imageData.data[</span><span class="c1">0</span><span class="c4">]; &nbsp;</span><span
                        class="c9 c11">// componenta ro&#537;ie</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c7">const</span><span class="c4">&nbsp;green = imageData.data[</span><span
                        class="c1">1</span><span class="c4">]; &nbsp; &nbsp;</span><span class="c9 c11">// componenta
                        verde</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c7">const</span><span
                        class="c4">&nbsp;blue = imageData.data[</span><span class="c1">2</span><span class="c4">];
                    </span><span class="c9 c11">// componenta albastr&#259;</span><span class="c4"><br> &nbsp;
                        &nbsp;</span><span class="c7">const</span><span class="c4">&nbsp;alpha =
                        imageData.data[</span><span class="c1">3</span><span class="c4">]; &nbsp; &nbsp;</span><span
                        class="c9 c11">// componenta transparen&#539;ei</span><span class="c4"><br>};</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Pentru a ob&#539;ine informa&#539;ii despre al doilea pixel, care are coordonatele
            x=1 &#537;i y=0, trebuie s&#259; ob&#539;inem urm&#259;toarele patru valori din array-ul data:</span></p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.b9a07c794666552b142e77063c7228be8832885a"></a><a id="t.3"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c4">imageData.data[</span><span class="c1">4</span><span class="c4">];
                        &nbsp;</span><span class="c9 c11">// componenta ro&#537;ie</span><span
                        class="c4"><br>imageData.data[</span><span class="c1">5</span><span class="c4">];
                        &nbsp;</span><span class="c9 c11">// componenta verde</span><span
                        class="c4"><br>imageData.data[</span><span class="c1">6</span><span class="c4">];
                        &nbsp;</span><span class="c9 c11">// componenta albastr&#259;</span><span
                        class="c4"><br>imageData.data[</span><span class="c1">7</span><span class="c4">];
                        &nbsp;</span><span class="c9 c11">// componenta transparen&#539;ei</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">&#536;i a&#537;a mai departe, putem ob&#539;ine informa&#539;ii despre to&#539;i
            pixelii.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c17 c19">Metoda putImageData().</span></p>
    <p class="c0 c6"><span class="c17 c10"></span></p>
    <p class="c0"><span class="c9">Metoda </span><span class="c10">putImageData() </span><span
            class="c3">stabile&#537;te pe canvas datele noi. Aceast&#259; metod&#259; are urm&#259;toarele forme:</span>
    </p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.b16515a4a3c198c81d8d82b462f534fe7ba4a6e3"></a><a id="t.4"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c4">putImageData(imageData, dx, dy)<br>putImageData(imageData, dx, dy,
                        dirtyX, dirtyY, dirtyWidth, dirtyHeight)</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Parametrii dx &#537;i dy indic&#259; coordonatele col&#539;ului st&acirc;nga sus al
            dreptunghiului imaginar imageData, care este plasat pe canvas.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Parametrii adi&#539;ionali dirtyX &#537;i dirtyY indic&#259; respectiv coordonatele X
            &#537;i Y ale col&#539;ului st&acirc;nga al zonei dreptunghiulare, care va fi extras&#259; din imaginea
            ob&#539;inut&#259;. Parametrii dirtyWidth &#537;i dirtyHeight stabilesc respectiv l&#259;&#539;imea &#537;i
            &icirc;n&#259;l&#539;imea acestei zone.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c9">Utilizarea metodelor</span><span class="c9 c12">&nbsp;getImageData()</span><span
            class="c9">&nbsp;&#537;i </span><span class="c9 c12">putImageData()</span><span class="c3">&nbsp;pentru
            transformarea imaginii:</span></p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.b57474f3f6665cb6b1a7e1cefb029cd32b0594b5"></a><a id="t.5"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c4">&lt;!DOCTYPE html&gt;<br></span><span class="c5">&lt;</span><span
                        class="c10 c14">html</span><span class="c5">&gt;</span><span class="c4"><br></span><span
                        class="c5">&lt;</span><span class="c10 c14">head</span><span class="c5">&gt;</span><span
                        class="c4"><br> &nbsp; &nbsp;</span><span class="c5">&lt;</span><span
                        class="c10 c14">meta</span><span class="c5">&nbsp;charset=</span><span
                        class="c2">&quot;utf-8&quot;</span><span class="c5">&nbsp;/&gt;</span><span class="c4"><br>
                        &nbsp; &nbsp;</span><span class="c5">&lt;</span><span class="c10 c14">title</span><span
                        class="c5">&gt;</span><span class="c4">FDC.COM</span><span class="c5">&lt;/</span><span
                        class="c10 c14">title</span><span class="c5">&gt;</span><span class="c4"><br></span><span
                        class="c5">&lt;/</span><span class="c10 c14">head</span><span class="c5">&gt;</span><span
                        class="c4"><br></span><span class="c5">&lt;</span><span class="c10 c14">body</span><span
                        class="c5">&gt;</span><span class="c4"><br></span><span class="c5">&lt;</span><span
                        class="c10 c14">canvas</span><span class="c5">&nbsp;id=</span><span
                        class="c2">&quot;canvas&quot;</span><span class="c5">&nbsp;width=</span><span
                        class="c2">&quot;700&quot;</span><span class="c5">&nbsp;height=</span><span
                        class="c2">&quot;300&quot;</span><span class="c5">&gt;&lt;/</span><span
                        class="c10 c14">canvas</span><span class="c5">&gt;</span><span class="c4"><br></span><span
                        class="c5">&lt;</span><span class="c10 c14">script</span><span class="c5">&gt;</span><span
                        class="c4"><br></span><span class="c7">const</span><span class="c4">&nbsp;canvas = </span><span
                        class="c9 c21">document</span><span class="c4">.getElementById(</span><span
                        class="c2">&quot;canvas&quot;</span><span class="c4">);<br></span><span
                        class="c7">const</span><span class="c4">&nbsp;context = canvas.getContext(</span><span
                        class="c2">&quot;2d&quot;</span><span class="c4">);<br> <br></span><span
                        class="c7">const</span><span class="c4">&nbsp;img = </span><span class="c7">new</span><span
                        class="c4">&nbsp;Image();<br>img.src = </span><span class="c2">&quot;fox2.png&quot;</span><span
                        class="c4">;<br>img.onload = </span><span class="c7">function</span><span class="c4">() {<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp;
                        &nbsp;context.drawImage(img, </span><span class="c1">0</span><span class="c4">, </span><span
                        class="c1">0</span><span class="c4">);<br> &nbsp; &nbsp;</span><span
                        class="c7">const</span><span class="c4">&nbsp;imageData = context.getImageData(</span><span
                        class="c1">0</span><span class="c4">,</span><span class="c1">0</span><span class="c4">,
                        img.width, img.height);<br> &nbsp; &nbsp;</span><span class="c7">let</span><span
                        class="c4">&nbsp;red, green, blue, grayscale;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;</span><span class="c7">for</span><span
                        class="c4">&nbsp;(</span><span class="c7">let</span><span class="c4">&nbsp;i = </span><span
                        class="c1">0</span><span class="c4">; i &lt; imageData.data.length; i += </span><span
                        class="c1">4</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;red = imageData.data[i];
                    </span><span class="c9 c11">// ob&#539;inem componenta ro&#537;ie</span><span class="c4"><br> &nbsp;
                        &nbsp; &nbsp; &nbsp;green = imageData.data[i + </span><span class="c1">1</span><span
                        class="c4">]; &nbsp;</span><span class="c9 c11">// ob&#539;inem componenta verde</span><span
                        class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;blue = imageData.data[i + </span><span
                        class="c1">2</span><span class="c4">]; &nbsp; </span><span class="c9 c11">// ob&#539;inem
                        componenta albastr&#259;</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;grayscale = red
                        * </span><span class="c1">0.3</span><span class="c4">&nbsp;+ green * </span><span
                        class="c1">0.59</span><span class="c4">&nbsp;+ blue * </span><span class="c1">0.11</span><span
                        class="c4">; </span><span class="c9 c11">// calcul&#259;m nuan&#539;a de gri</span><span
                        class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;imageData.data[i] = grayscale; &nbsp;</span><span
                        class="c9 c11">// set&#259;m culoarea gri</span><span class="c4"><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;imageData.data[i + </span><span class="c1">1</span><span class="c4">] = grayscale;<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;imageData.data[i + </span><span class="c1">2</span><span class="c4">]
                        = grayscale;<br> &nbsp; &nbsp;} &nbsp; <br> &nbsp; &nbsp;context.putImageData(imageData,
                        img.width + </span><span class="c1">10</span><span class="c4">, </span><span
                        class="c1">0</span><span class="c4">);<br>};<br></span><span class="c5">&lt;/</span><span
                        class="c10 c14">script</span><span class="c5">&gt;</span><span class="c4"><br></span><span
                        class="c5">&lt;/</span><span class="c10 c14">body</span><span class="c5">&gt;</span><span
                        class="c4"><br></span><span class="c5">&lt;/</span><span class="c10 c14">html</span><span
                        class="c5">&gt;</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c10">P.S. Ca s&#259; nu ave&#539;i eroare, ar fi bine s&#259; rula&#539;i programul de
            pe</span><span class="c10 c12">&nbsp;server.js</span><span class="c17 c10">&nbsp;care l-a&#539;i f&#259;cut
            &icirc;n temele anterioare &#537;i s&#259; trece&#539;i pe locallhost:3000.</span></p>
    <p class="c0 c6"><span class="c17 c10"></span></p>
    <p class="c0"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 304.00px;"><img
                alt="" src="images/image1.png"
                style="width: 624.00px; height: 304.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Sec&#539;iunea cheie a codului este bucla, &icirc;n care are loc transformarea
            imaginii &icirc;n gri:</span></p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.be6a9cbd47f3a299be5b7df4dfd13068dc50a6c6"></a><a id="t.6"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c7">let</span><span class="c4">&nbsp;red, green, blue, grayscale;<br> &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br></span><span
                        class="c7">for</span><span class="c4">&nbsp;(</span><span class="c7">let</span><span
                        class="c4">&nbsp;i = </span><span class="c1">0</span><span class="c4">; i &lt;
                        imageData.data.length; i += </span><span class="c1">4</span><span class="c4">) {<br> &nbsp;
                        &nbsp;red = imageData.data[i]; </span><span class="c9 c11">// ob&#539;inem componenta
                        ro&#537;ie</span><span class="c4"><br> &nbsp; &nbsp;green = imageData.data[i + </span><span
                        class="c1">1</span><span class="c4">]; &nbsp;</span><span class="c9 c11">// ob&#539;inem
                        componenta verde</span><span class="c4"><br> &nbsp; &nbsp;blue = imageData.data[i + </span><span
                        class="c1">2</span><span class="c4">]; &nbsp; </span><span class="c9 c11">// ob&#539;inem
                        componenta albastr&#259;</span><span class="c4"><br> &nbsp; &nbsp;grayscale = red * </span><span
                        class="c1">0.3</span><span class="c4">&nbsp;+ green * </span><span class="c1">0.59</span><span
                        class="c4">&nbsp;+ blue * </span><span class="c1">0.11</span><span class="c4">; </span><span
                        class="c9 c11">// calcul&#259;m nuan&#539;a de gri</span><span class="c4"><br> &nbsp;
                        &nbsp;imageData.data[i] = grayscale; &nbsp;</span><span class="c9 c11">// set&#259;m culoarea
                        gri</span><span class="c4"><br> &nbsp; &nbsp;imageData.data[i + </span><span
                        class="c1">1</span><span class="c4">] = grayscale;<br> &nbsp; &nbsp;imageData.data[i +
                    </span><span class="c1">2</span><span class="c4">] = grayscale;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c9">Aici, parcurgem &icirc;ntregul array </span><span
            class="c9 c12">imageData.data</span><span class="c3">, proces&acirc;nd c&acirc;te patru elemente odat&#259;,
            care reprezint&#259; un singur pixel. Lu&#259;m &icirc;n considerare doar trei elemente, deoarece componenta
            de transparen&#539;&#259; nu ne intereseaz&#259; &icirc;n acest caz.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">&Icirc;n primul r&acirc;nd, ob&#539;inem componentele RGB. Apoi, aplic&acirc;nd
            formula matematic&#259;, transform&#259;m valorile RGB &icirc;n nuan&#539;a de gri. La final, culoarea gri
            este setat&#259; pentru elementele pixelului.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c17 c19">Probleme de securitate.</span></p>
    <p class="c0 c6"><span class="c17 c10"></span></p>
    <p class="c0"><span class="c9">Dac&#259; &icirc;ncerc&#259;m s&#259; deschidem direct fi&#537;ierul paginii web cu
            codul men&#539;ionat mai sus &icirc;n browserul Google Chrome sau prin dublu clic, Google Chrome nu va
            afi&#537;a imaginea transformat&#259; &icirc;n gri din cauza politicilor browserului. De&#537;i &icirc;n
            alte browsere, precum Firefox sau Microsoft Edge, totul poate func&#539;iona normal. Motivul este c&#259;
            Google Chrome nu permite manipularea imaginilor unui site dintr-un domeniu de c&#259;tre un utilizator din
            alt domeniu. Practic, c&acirc;nd &icirc;nc&#259;rc&#259;m fi&#537;ierul prin protocolul</span><span
            class="c10">&nbsp;file://</span><span class="c3">&nbsp;(prin tragerea fi&#537;ierului &icirc;n browser sau
            prin dublu clic), browserul consider&#259; utilizatorul &#537;i pagina web deschis&#259; ca fiind din
            domenii diferite.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Dac&#259; pagina web este g&#259;zduit&#259; pe un server web &#537;i
            &icirc;nc&#259;rcat&#259; prin protocolul http, cum este obi&#537;nuit, atunci problema nu va ap&#259;rea,
            deoarece utilizatorul &#537;i site-ul vor opera &icirc;n cadrul aceluia&#537;i domeniu. Pentru testare, va
            trebui fie s&#259; utiliz&#259;m un server web, fie s&#259; ajust&#259;m corespunz&#259;tor set&#259;rile
            browserului Google Chrome.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c17 c19">Metoda createImageData().</span></p>
    <p class="c0 c6"><span class="c10 c17"></span></p>
    <p class="c0"><span class="c9">Metoda</span><span class="c10">&nbsp;createImageData()</span><span
            class="c3">&nbsp;creeaz&#259; un nou obiect ImageData, care ulterior poate fi utilizat pe canvas. Metoda
            createImageData() are dou&#259; forme:</span></p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.6b63e22c6e7235512e69e0ac8cbb9b79123dd07c"></a><a id="t.7"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c4">createImageData(width, height);<br>createImageData(imagedata);</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Prima form&#259; prime&#537;te parametrii width &#537;i height, care stabilesc
            respectiv l&#259;&#539;imea &#537;i &icirc;n&#259;l&#539;imea obiectului ImageData creat.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">A doua form&#259; prime&#537;te ca parametru un alt obiect ImageData, pe baza
            c&#259;ruia va fi creat un nou obiect ImageData.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c3">Exemplu de utilizare:</span></p>
    <p class="c0 c6"><span class="c3"></span></p><a id="t.d8a0f6c83d26bd78bc024d8578dafe1ba64838da"></a><a id="t.8"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c13" colspan="1" rowspan="1">
                <p class="c16"><span class="c7">const</span><span class="c4">&nbsp;canvas = </span><span
                        class="c9 c21">document</span><span class="c4">.getElementById(</span><span
                        class="c2">&quot;canvas&quot;</span><span class="c4">);<br></span><span
                        class="c7">const</span><span class="c4">&nbsp;context = canvas.getContext(</span><span
                        class="c2">&quot;2d&quot;</span><span class="c4">);<br> <br></span><span
                        class="c7">const</span><span class="c4">&nbsp;img = </span><span class="c7">new</span><span
                        class="c4">&nbsp;Image();<br>img.src = </span><span class="c2">&quot;fox2.png&quot;</span><span
                        class="c4">;<br>img.onload = </span><span class="c7">function</span><span class="c4">() {<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br> &nbsp; &nbsp;context.drawImage(img,
                    </span><span class="c1">0</span><span class="c4">, </span><span class="c1">0</span><span
                        class="c4">);<br> &nbsp; &nbsp;</span><span class="c7">const</span><span
                        class="c4">&nbsp;imageData = context.getImageData(</span><span class="c1">0</span><span
                        class="c4">,</span><span class="c1">0</span><span class="c4">, img.width, img.height);<br>
                        &nbsp; &nbsp;</span><span class="c7">const</span><span class="c4">&nbsp;newImageData =
                        context.createImageData(imageData);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        <br> &nbsp; &nbsp;</span><span class="c7">for</span><span class="c4">&nbsp;(</span><span
                        class="c7">let</span><span class="c4">&nbsp;i = </span><span class="c1">0</span><span
                        class="c4">; i &lt; newImageData.data.length; i++) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; <br> &nbsp; &nbsp; &nbsp; &nbsp;newImageData.data[i] =
                        imageData.data[i];<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c9 c11">// dac&#259; este
                        componenta alfa</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c7">if</span><span class="c4">((i+</span><span class="c1">1</span><span
                        class="c4">)%</span><span class="c1">4</span><span class="c4">===</span><span
                        class="c1">0</span><span class="c4">){<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;newImageData.data[i] = </span><span class="c1">120</span><span class="c4">;<br> &nbsp;
                        &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;context.putImageData(newImageData,
                        img.width + </span><span class="c1">10</span><span class="c4">, </span><span
                        class="c1">0</span><span class="c4">);<br>};</span></p>
            </td>
        </tr>
    </table>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span class="c9">&Icirc;n acest caz, se creeaz&#259; un nou obiect </span><span
            class="c9 c12">newImageData</span><span class="c3">, &icirc;n care sunt copiate toate datele din imageData
            curent, ce reprezint&#259; imaginea pe canvas. &Icirc;n timpul copierii, valorii componentei alfa, care
            r&#259;spunde de transparen&#539;&#259;, i se atribuie valoarea 120, adic&#259; face pixelul
            semitransparent.</span></p>
    <p class="c0 c6"><span class="c3"></span></p>
    <p class="c0"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 292.00px;"><img
                alt="" src="images/image2.png"
                style="width: 624.00px; height: 292.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
</body>

</html>