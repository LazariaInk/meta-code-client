<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c16 doc-content">
    <h1 class="c12 c14 c20">Imagini pe canvas. </h1>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span class="c8">Anterior, am discutat despre setarea imaginilor ca fundal pentru figuri, dar
            putem de asemenea s&#259; afi&#537;&#259;m separat imaginile pe canvas. Pentru aceasta, se utilizeaz&#259;
            metoda</span><span class="c21">&nbsp;drawImage()</span><span class="c0">&nbsp;a contextului canvas.
            Aceast&#259; metod&#259; are trei versiuni:</span></p>
    <p class="c10"><span class="c0"></span></p><a id="t.2a373eb722229ef66e002d788d612e4dbb08346b"></a><a id="t.0"></a>
    <table class="c15">
        <tr class="c17">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c12"><span class="c2">context.drawImage(image, x, y)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c12 c14 c19"><span class="c0">Aici, parametrul image transmite imaginea care trebuie afi&#537;at&#259;,
            iar parametrii x &#537;i y - coordonatele col&#539;ului st&acirc;nga sus al imaginii.</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.0c287c72c7b7508a20ba3086022ad27b4afa6d8d"></a><a id="t.1"></a>
    <table class="c15">
        <tr class="c17">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c12 c19"><span class="c2">context.drawImage(image, x, y, width, height)</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c12 c14 c19"><span class="c0">Prin intermediul parametrilor adi&#539;ionali width &#537;i height, se poate
            stabili respectiv l&#259;&#539;imea &#537;i &icirc;n&#259;l&#539;imea imaginii afi&#537;ate.</span></p>
    <p class="c5"><span class="c0"></span></p><a id="t.425fda2246726fc24def9e3698c311928da46575"></a><a id="t.2"></a>
    <table class="c15">
        <tr class="c17">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c12 c19"><span class="c2">drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth,
                        dHeight)</span></p>
            </td>
        </tr>
    </table>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span class="c8">Unde parametrii </span><span class="c7">sx </span><span class="c8">&#537;i
        </span><span class="c7">sy </span><span class="c8">reprezint&#259; coordonatele pe imagine de la care
            &icirc;ncepe decuparea, iar </span><span class="c7">sWidth </span><span class="c8">&#537;i </span><span
            class="c7">sHeight </span><span class="c8">reprezint&#259; respectiv l&#259;&#539;imea &#537;i
            &icirc;n&#259;l&#539;imea decupajului relativ la coordonatele sx &#537;i sy. Parametrii dx &#537;i dy
            indic&#259; coordonatele pe canvas unde s&#259; se afi&#537;eze imaginea decupat&#259;, iar </span><span
            class="c7">dWidth </span><span class="c8">&#537;i </span><span class="c7">dHeight </span><span
            class="c0">indic&#259; respectiv l&#259;&#539;imea &#537;i &icirc;n&#259;l&#539;imea imaginii pe
            canvas.</span></p>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span class="c0">De exemplu, aplic&#259;m prima versiune a metodei pentru a afi&#537;a o
            imagine:</span></p>
    <p class="c10"><span class="c0"></span></p><a id="t.c9315d955a31a3d4714cf6561dad200d6e6caea8"></a><a id="t.3"></a>
    <table class="c15">
        <tr class="c17">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c12"><span class="c2">&lt;!DOCTYPE html&gt;<br></span><span class="c6">&lt;</span><span
                        class="c3">html</span><span class="c6">&gt;</span><span class="c2"><br></span><span
                        class="c6">&lt;</span><span class="c3">head</span><span class="c6">&gt;</span><span
                        class="c2"><br> &nbsp; &nbsp;</span><span class="c6">&lt;</span><span
                        class="c3">meta</span><span class="c6">&nbsp;charset=</span><span
                        class="c4">&quot;utf-8&quot;</span><span class="c6">&nbsp;/&gt;</span><span class="c2"><br>
                        &nbsp; &nbsp;</span><span class="c6">&lt;</span><span class="c3">title</span><span
                        class="c6">&gt;</span><span class="c2">FDC.COM</span><span class="c6">&lt;/</span><span
                        class="c3">title</span><span class="c6">&gt;</span><span class="c2"><br></span><span
                        class="c6">&lt;/</span><span class="c3">head</span><span class="c6">&gt;</span><span
                        class="c2"><br></span><span class="c6">&lt;</span><span class="c3">body</span><span
                        class="c6">&gt;</span><span class="c2"><br></span><span class="c6">&lt;</span><span
                        class="c3">canvas</span><span class="c6">&nbsp;id=</span><span
                        class="c4">&quot;canvas&quot;</span><span class="c6">&nbsp;width=</span><span
                        class="c4">&quot;450&quot;</span><span class="c6">&nbsp;height=</span><span
                        class="c4">&quot;300&quot;</span><span class="c6">&gt;&lt;/</span><span
                        class="c3">canvas</span><span class="c6">&gt;</span><span class="c2"><br></span><span
                        class="c6">&lt;</span><span class="c3">script</span><span class="c6">&gt;</span><span
                        class="c2"><br></span><span class="c8 c13">const</span><span class="c2">&nbsp;canvas =
                    </span><span class="c8 c9">document</span><span class="c2">.getElementById(</span><span
                        class="c4">&quot;canvas&quot;</span><span class="c2">);<br></span><span
                        class="c8 c13">const</span><span class="c2">&nbsp;context = canvas.getContext(</span><span
                        class="c4">&quot;2d&quot;</span><span class="c2">);<br></span><span
                        class="c8 c13">const</span><span class="c2">&nbsp;img = </span><span
                        class="c8 c13">new</span><span class="c2">&nbsp;Image();<br>img.src = </span><span
                        class="c4">&quot;fox2.png&quot;</span><span class="c2">;<br>img.onload = ()=&gt;
                        context.drawImage(img, </span><span class="c1">0</span><span class="c2">, </span><span
                        class="c1">0</span><span class="c2">); &nbsp; &nbsp; &nbsp; <br></span><span
                        class="c6">&lt;/</span><span class="c3">script</span><span class="c6">&gt;</span><span
                        class="c2"><br></span><span class="c6">&lt;/</span><span class="c3">body</span><span
                        class="c6">&gt;</span><span class="c2"><br></span><span class="c6">&lt;/</span><span
                        class="c3">html</span><span class="c6">&gt;</span></p>
            </td>
        </tr>
    </table>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 618.00px; height: 515.00px;"><img
                alt="" src="images/image2.png"
                style="width: 618.00px; height: 515.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span class="c8">Din nou, c&acirc;nd afi&#537;&#259;m o imagine, trebuie s&#259; fim siguri
            c&#259; imaginea a fost deja &icirc;nc&#259;rcat&#259; de browser &#537;i este gata de utilizare, a&#537;a
            c&#259; metoda de desenare a imaginii este plasat&#259; &icirc;n handlerul de &icirc;nc&#259;rcare a
            imaginii</span><span class="c7">&nbsp;img.onload</span><span class="c0">.</span></p>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span class="c8">A doua versiune a metodei</span><span class="c21">&nbsp;drawImage()</span><span
            class="c0">&nbsp;permite s&#259; se stabileasc&#259; adi&#539;ional l&#259;&#539;imea &#537;i
            &icirc;n&#259;l&#539;imea imaginii afi&#537;ate, ceea ce poate fi folosit pentru scalarea imaginii:</span>
    </p>
    <p class="c10"><span class="c0"></span></p><a id="t.747085e485627356ca97911bb9014cffd900151d"></a><a id="t.4"></a>
    <table class="c15">
        <tr class="c17">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c12"><span class="c8 c13">const</span><span class="c2">&nbsp;canvas = </span><span
                        class="c8 c9">document</span><span class="c2">.getElementById(</span><span
                        class="c4">&quot;canvas&quot;</span><span class="c2">);<br></span><span
                        class="c8 c13">const</span><span class="c2">&nbsp;context = canvas.getContext(</span><span
                        class="c4">&quot;2d&quot;</span><span class="c2">);<br></span><span
                        class="c8 c13">const</span><span class="c2">&nbsp;img = </span><span
                        class="c8 c13">new</span><span class="c2">&nbsp;Image();<br>img.src = </span><span
                        class="c4">&quot;fox2.png&quot;</span><span class="c2">;<br>img.onload = ()=&gt; {<br> &nbsp;
                        &nbsp;context.drawImage(img, </span><span class="c1">10</span><span class="c2">, </span><span
                        class="c1">10</span><span class="c2">, </span><span class="c1">180</span><span class="c2">,
                    </span><span class="c1">150</span><span class="c2">);<br> &nbsp; &nbsp;context.drawImage(img,
                    </span><span class="c1">200</span><span class="c2">, </span><span class="c1">10</span><span
                        class="c2">, </span><span class="c1">180</span><span class="c2">, </span><span
                        class="c1">150</span><span class="c2">);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 618.00px; height: 342.00px;"><img
                alt="" src="images/image1.png"
                style="width: 618.00px; height: 342.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span class="c0">De asemenea, aplic&#259;m a treia form&#259; a metodei drawImage():</span></p>
    <p class="c10"><span class="c0"></span></p><a id="t.7ebfc34d423e4fc65a121c4c05448a20ebc3ffdd"></a><a id="t.5"></a>
    <table class="c15">
        <tr class="c17">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c12"><span class="c8 c13">const</span><span class="c2">&nbsp;canvas = </span><span
                        class="c8 c9">document</span><span class="c2">.getElementById(</span><span
                        class="c4">&quot;canvas&quot;</span><span class="c2">);<br></span><span
                        class="c8 c13">const</span><span class="c2">&nbsp;context = canvas.getContext(</span><span
                        class="c4">&quot;2d&quot;</span><span class="c2">);<br></span><span
                        class="c8 c13">const</span><span class="c2">&nbsp;img = </span><span
                        class="c8 c13">new</span><span class="c2">&nbsp;Image();<br>img.src = </span><span
                        class="c4">&quot;fox2.png&quot;</span><span class="c2">;<br>img.onload = ()=&gt;
                        context.drawImage(img, </span><span class="c1">0</span><span class="c2">, </span><span
                        class="c1">100</span><span class="c2">, </span><span class="c1">300</span><span class="c2">,
                    </span><span class="c1">200</span><span class="c2">, </span><span class="c1">20</span><span
                        class="c2">, </span><span class="c1">30</span><span class="c2">, </span><span
                        class="c1">300</span><span class="c2">, </span><span class="c1">200</span><span
                        class="c2">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 617.00px; height: 423.00px;"><img
                alt="" src="images/image4.png"
                style="width: 617.00px; height: 423.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c12 c14"><span class="c11">Capturarea imaginilor de pe alte elemente.</span></p>
    <p class="c10"><span class="c11"></span></p>
    <p class="c12 c14"><span class="c0">Una dintre func&#539;ionalit&#259;&#539;ile remarcabile ale elementului canvas
            este capacitatea de a captura imaginea de pe un alt element, de exemplu, de pe un element video sau de pe un
            alt element canvas. De exemplu:</span></p>
    <p class="c10"><span class="c0"></span></p><a id="t.d631710a846f43b1fb86fcc150802e0c98d56cca"></a><a id="t.6"></a>
    <table class="c15">
        <tr class="c17">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c12"><span class="c2">&lt;!DOCTYPE html&gt;<br></span><span class="c6">&lt;</span><span
                        class="c3">html</span><span class="c6">&gt;</span><span class="c2"><br></span><span
                        class="c6">&lt;</span><span class="c3">head</span><span class="c6">&gt;</span><span
                        class="c2"><br> &nbsp; &nbsp;</span><span class="c6">&lt;</span><span
                        class="c3">meta</span><span class="c6">&nbsp;charset=</span><span
                        class="c4">&quot;utf-8&quot;</span><span class="c6">&nbsp;/&gt;</span><span class="c2"><br>
                        &nbsp; &nbsp;</span><span class="c6">&lt;</span><span class="c3">title</span><span
                        class="c6">&gt;</span><span class="c2">FDC.COM</span><span class="c6">&lt;/</span><span
                        class="c3">title</span><span class="c6">&gt;</span><span class="c2"><br></span><span
                        class="c6">&lt;/</span><span class="c3">head</span><span class="c6">&gt;</span><span
                        class="c2"><br></span><span class="c6">&lt;</span><span class="c3">body</span><span
                        class="c6">&gt;</span><span class="c2"><br></span><span class="c6">&lt;</span><span
                        class="c3">video</span><span class="c6">&nbsp;id=</span><span
                        class="c4">&quot;myVideo&quot;</span><span class="c6">&nbsp;src=</span><span
                        class="c4">&quot;fox.mp4&quot;</span><span class="c6">&nbsp;width=</span><span
                        class="c4">&quot;300&quot;</span><span class="c6">&nbsp;height=</span><span
                        class="c4">&quot;200&quot;</span><span class="c6">&nbsp;controls &gt;&lt;/</span><span
                        class="c3">video</span><span class="c6">&gt;</span><span class="c2"><br></span><span
                        class="c6">&lt;</span><span class="c3">canvas</span><span class="c6">&nbsp;id=</span><span
                        class="c4">&quot;canvas&quot;</span><span class="c6">&nbsp;width=</span><span
                        class="c4">&quot;300&quot;</span><span class="c6">&nbsp;height=</span><span
                        class="c4">&quot;200&quot;</span><span class="c6">&nbsp;style=</span><span
                        class="c4">&quot;background-color:#eee; border:1px solid #ccc;&quot;</span><span
                        class="c6">&gt;&lt;/</span><span class="c3">canvas</span><span class="c6">&gt;</span><span
                        class="c2"><br></span><span class="c6">&lt;</span><span class="c3">div</span><span
                        class="c6">&gt;&lt;</span><span class="c3">button</span><span class="c6">&nbsp;id=</span><span
                        class="c4">&quot;snap&quot;</span><span class="c6">&gt;</span><span class="c2">Face&#539;i o
                        fotografie</span><span class="c6">&lt;/</span><span class="c3">button</span><span
                        class="c6">&gt;&lt;/</span><span class="c3">div</span><span class="c6">&gt;</span><span
                        class="c2"><br></span><span class="c6">&lt;</span><span class="c3">script</span><span
                        class="c6">&gt;</span><span class="c2"><br></span><span class="c8 c13">const</span><span
                        class="c2">&nbsp;canvas = </span><span class="c8 c9">document</span><span
                        class="c2">.getElementById(</span><span class="c4">&quot;canvas&quot;</span><span
                        class="c2">);<br></span><span class="c8 c13">const</span><span class="c2">&nbsp;context =
                        canvas.getContext(</span><span class="c4">&quot;2d&quot;</span><span
                        class="c2">);<br></span><span class="c8 c13">const</span><span class="c2">&nbsp;video =
                    </span><span class="c8 c9">document</span><span class="c2">.getElementById(</span><span
                        class="c4">&quot;myVideo&quot;</span><span class="c2">);<br></span><span
                        class="c8 c9">document</span><span class="c2">.getElementById(</span><span
                        class="c4">&quot;snap&quot;</span><span class="c2">).onclick = () =&gt; context.drawImage(video,
                    </span><span class="c1">0</span><span class="c2">, </span><span class="c1">0</span><span
                        class="c2">, </span><span class="c1">300</span><span class="c2">, </span><span
                        class="c1">200</span><span class="c2">);<br></span><span class="c6">&lt;/</span><span
                        class="c3">script</span><span class="c6">&gt;</span><span class="c2"><br></span><span
                        class="c6">&lt;/</span><span class="c3">body</span><span class="c6">&gt;</span><span
                        class="c2"><br></span><span class="c6">&lt;/</span><span class="c3">html</span><span
                        class="c6">&gt;</span></p>
            </td>
        </tr>
    </table>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span
            style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 622.00px; height: 598.00px;"><img
                alt="" src="images/image3.png"
                style="width: 622.00px; height: 598.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                title=""></span></p>
    <p class="c10"><span class="c0"></span></p>
    <p class="c12 c14"><span class="c8">Ap&#259;s&acirc;nd pe buton, canvas va ob&#539;ine cadru curent al videoului
            redat &#537;i &icirc;l va fixa ca imagine. &Icirc;n acest caz, &icirc;n metoda </span><span
            class="c7">drawImage</span><span class="c0">, ca prim parametru se transmite elementul care este folosit ca
            surs&#259; a imaginii.</span></p>
    <p class="c10"><span class="c0"></span></p>
</body>

</html>