<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c23 doc-content">
    <h1 class="c13 c22" id="h.17084jfs1tue">Proxy.</h1>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p>
    <p class="c5 c13"><span class="c7">Proxy </span><span class="c9 c6">reprezint&#259; un obiect care permite
            interceptarea execu&#539;iei opera&#539;iilor asupra unui alt obiect &#537;i poate redefini comportamentul
            acestuia.</span></p>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p>
    <p class="c5 c13"><span class="c9 c6">Pentru a crea un obiect Proxy, se utilizeaz&#259; constructorul
            Proxy():</span></p>
    <p class="c5 c8 c13"><span class="c9 c6"></span></p><a id="t.625315e563f3b1821cbf3facddace8a9920fa680"></a><a
        id="t.0"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;proxy = </span><span
                        class="c0">new</span><span class="c2">&nbsp;</span><span class="c1">Proxy</span><span
                        class="c2">(target, handler);</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p>
    <p class="c5 c13"><span class="c9 c6">Constructorul Proxy accept&#259; doi parametri:</span></p>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p>
    <ul class="c4 lst-kix_cn78kax1x8ji-0 start">
        <li class="c5 c13 c20 li-bullet-0"><span class="c7">target </span><span class="c9 c6">- &#539;inta pentru
                crearea proxy-ului, poate fi orice obiect asupra c&#259;ruia se aplic&#259; Proxy</span></li>
    </ul>
    <p class="c5 c13 c8 c21"><span class="c9 c6"></span></p>
    <ul class="c4 lst-kix_cn78kax1x8ji-0">
        <li class="c5 c13 c20 li-bullet-0"><span class="c7">handler </span><span class="c9 c6">- alt obiect care
                define&#537;te ce opera&#539;ii ale obiectului target vor fi interceptate &#537;i redefinite, precum
                &#537;i modul &icirc;n care vor fi tratate.</span></li>
    </ul>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p>
    <p class="c5 c13"><span class="c9 c6">S&#259; examin&#259;m un exemplu simplu:</span></p>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p><a id="t.aec18409b7d2faa65e760e0cdcc9caaeaa7f8844"></a><a
        id="t.1"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c6 c14">// obiectul asupra c&#259;ruia se aplic&#259; proxy</span><span
                        class="c2"><br></span><span class="c0">const</span><span class="c2">&nbsp;target = { name:
                    </span><span class="c6 c15">&quot;Tom&quot;</span><span class="c2">&nbsp;};<br></span><span
                        class="c6 c14">// obiectul care define&#537;te cum va fi redefinit target</span><span
                        class="c2"><br></span><span class="c0">const</span><span class="c2">&nbsp;handler =
                        {};<br></span><span class="c6 c14">// obiectul proxy</span><span class="c2"><br></span><span
                        class="c0">const</span><span class="c2">&nbsp;proxy = </span><span class="c0">new</span><span
                        class="c2">&nbsp;</span><span class="c1">Proxy</span><span class="c2">(target,
                        handler);<br><br></span><span class="c1">console</span><span class="c2">.log(proxy.name); &nbsp;
                        &nbsp;</span><span class="c6 c14">// Tom</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p>
    <p class="c5 c13"><span class="c6">Prin urmare, &icirc;n exemplul de mai sus, &#539;inta este obiectul la care se va
            aplica proxierea. &Icirc;n acest caz, acest obiect are o proprietate numit&#259; </span><span
            class="c6 c19">name</span><span class="c9 c6">.</span></p>
    <p class="c5 c13 c8"><span class="c9 c6"></span></p><a id="t.0d7845aba173dd08781c37b7f902880f4d6ebf79"></a><a
        id="t.2"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;target = {name: </span><span
                        class="c6 c15">&quot;Tom&quot;</span><span class="c2">};</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">&Icirc;n continuare, se creeaz&#259; un handler gol (un manipulator vid):</span>
    </p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.2ededab5fa26f36cebd9d3b1a1af8158d31af533"></a><a
        id="t.3"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;handler = {};</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">&Icirc;n principiu, acest obiect ar trebui s&#259; defineasc&#259; modul &icirc;n
            care obiectul target va fi suprascris. Dar, deocamdat&#259;, &icirc;l vom l&#259;sa gol.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Apoi, se creeaz&#259; un obiect Proxy, furniz&acirc;nd obiectele target &#537;i
            handler &icirc;n constructorul s&#259;u.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.625315e563f3b1821cbf3facddace8a9920fa680"></a><a
        id="t.4"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;proxy = </span><span
                        class="c0">new</span><span class="c2">&nbsp;</span><span class="c1">Proxy</span><span
                        class="c2">(target, handler);</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Proxierea obiectului (&icirc;n acest caz, a obiectului target) &icirc;nseamn&#259;
            c&#259; prin intermediul proxy-ului putem accesa func&#539;ionalitatea acestui obiect. &#536;i &icirc;n
            acest caz, prin intermediul obiectului proxy, putem accesa proprietatea name a obiectului target
            proxiat:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.57ac2c08da76399e520338b3b74ada2daa28d412"></a><a
        id="t.5"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c1">console</span><span class="c2">.log(proxy.name); &nbsp;
                        &nbsp;</span><span class="c6 c14">// Tom</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">&#536;i deoarece am folosit un handler gol, care nu suprascrie nimic, practic
            proxy se comport&#259; ca obiectul original target.</span></p>
    <p class="c5 c8"><span class="c9 c17"></span></p>
    <p class="c5"><span class="c9 c17">Suprascrierea func&#539;ionalit&#259;&#539;ii obiectului.</span></p>
    <p class="c5 c8"><span class="c9 c7"></span></p>
    <p class="c5"><span class="c6">Mai sus am realizat proxierea obiectului, dar &icirc;nc&#259; nu am suprascris
            comportamentul s&#259;u. Cheia &icirc;n acest caz este definirea </span><span class="c7">handler</span><span
            class="c6">-ului care poate intercepta acces&#259;rile propriet&#259;&#539;ilor obiectului proxiat. Acest
            handler poate defini dou&#259; metode: </span><span class="c7">get </span><span class="c6">&#537;i
        </span><span class="c7">set</span><span class="c9 c6">.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c17">Metoda </span><span class="c17 c19">get </span><span class="c9 c17">&#537;i
            ob&#539;inerea propriet&#259;&#539;ilor obiectului.</span></p>
    <p class="c5 c8"><span class="c9 c7"></span></p>
    <p class="c5"><span class="c6">Metoda </span><span class="c7">get </span><span class="c9 c6">intercepteaz&#259;
            acces&#259;rile la o proprietate atunci c&acirc;nd se ob&#539;ine valoarea acesteia &#537;i returneaz&#259;
            o anumit&#259; valoare pentru acea proprietate:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.7c4a9087db9cdcee7b8866fa2661f6b96bcc59bf"></a><a
        id="t.6"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;handler = {<br> &nbsp;get:
                    </span><span class="c0">function</span><span class="c2">(target, prop, receiver) {<br> &nbsp;
                        &nbsp;</span><span class="c0">return</span><span
                        class="c2">&nbsp;&#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1077;_&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;;<br>
                        &nbsp;}<br>};</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Metoda get are trei parametri:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c6">- </span><span class="c7">target</span><span class="c9 c6">: obiectul proxiat
            &icirc;n sine. Datorit&#259; acestui parametru, putem accesa func&#539;ionalitatea obiectului
            original.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c6">- </span><span class="c7">prop</span><span class="c9 c6">: numele
            propriet&#259;&#539;ii la care se face referire.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c6">- </span><span class="c7">receiver</span><span class="c9 c6">: obiectul Proxy prin
            intermediul c&#259;ruia se realizeaz&#259; proxierea.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">S&#259; lu&#259;m urm&#259;torul exemplu:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.879c976659a62c122ec3f9670f724355fdaa78d9"></a><a
        id="t.7"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;target = {name: </span><span
                        class="c6 c15">&quot;Tom&quot;</span><span class="c2">};<br></span><span
                        class="c0">const</span><span class="c2">&nbsp;handler = {<br> &nbsp;get: </span><span
                        class="c0">function</span><span class="c2">(target, prop, receiver) {<br> &nbsp;
                        &nbsp;</span><span class="c0">return</span><span class="c2">&nbsp;</span><span
                        class="c6 c15">&quot;Tomas Smith&quot;</span><span class="c2">;<br>
                        &nbsp;}<br>};<br></span><span class="c0">const</span><span class="c2">&nbsp;proxy = </span><span
                        class="c0">new</span><span class="c2">&nbsp;</span><span class="c1">Proxy</span><span
                        class="c2">(target, handler);<br></span><span class="c1">console</span><span
                        class="c2">.log(proxy.name); &nbsp; &nbsp;</span><span class="c6 c14">// Tomas Smith</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Aici, &icirc;n handler, &icirc;n metoda get, se returneaz&#259; &#537;irul
            &quot;Tomas Smith&quot;:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.2b3afc57b76db37cfe9c0f6f8412f2e4ecceda75"></a><a
        id="t.8"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c2">get: </span><span class="c0">function</span><span class="c2">(target,
                        prop, receiver) {<br> &nbsp; &nbsp;</span><span class="c0">return</span><span
                        class="c2">&nbsp;</span><span class="c6 c15">&quot;Tomas Smith&quot;</span><span
                        class="c2">;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Aceasta va avea ca rezultat faptul c&#259;, atunci c&acirc;nd se face referire la
            orice proprietate a obiectului proxy, va fi returnat acest &#537;ir: &quot;Tomas Smith&quot;.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.783379da8127f0034133a58938265ea55f74fce3"></a><a
        id="t.9"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c1">console</span><span class="c2">.log(proxy.name); &nbsp;
                        &nbsp;</span><span class="c6 c14">// Tomas Smith</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Astfel, am interceptat accesarea propriet&#259;&#539;ii &#537;i am realizat o
            simpl&#259; suprascriere. &Icirc;n acest timp, putem accesa &#537;i obiectul original care este
            proxiat:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.6d347fcb1672c84f8cc6c5c41a10a8d484bf03e7"></a><a
        id="t.10"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;target = {name: </span><span
                        class="c6 c15">&quot;Tom&quot;</span><span class="c2">};<br></span><span
                        class="c0">const</span><span class="c2">&nbsp;handler = {<br> &nbsp;get: </span><span
                        class="c0">function</span><span class="c2">(target, prop) {<br> &nbsp; &nbsp;</span><span
                        class="c0">return</span><span class="c2">&nbsp;</span><span class="c6 c15">&quot;Name:
                        &quot;</span><span class="c2">&nbsp;+ target.name;<br> &nbsp;}<br>};<br></span><span
                        class="c0">const</span><span class="c2">&nbsp;proxy = </span><span class="c0">new</span><span
                        class="c2">&nbsp;</span><span class="c1">Proxy</span><span class="c2">(target,
                        handler);<br></span><span class="c1">console</span><span class="c2">.log(proxy.name); &nbsp;
                        &nbsp;</span><span class="c6 c14">// Name: Tom</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Aici, handler-ul returneaz&#259; &#537;irul &quot;Name: &quot; + target.name, unde
            target.name reprezint&#259; accesarea propriet&#259;&#539;ii name a obiectului original. Desigur, logica de
            returnare a valorii unei propriet&#259;&#539;i poate fi mai complex&#259;.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Dar s&#259; lu&#259;m un obiect mai complex, cu dou&#259;
            propriet&#259;&#539;i:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.748ff543d10de3cab5e9e7a3f6384c8a212b2884"></a><a
        id="t.11"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;target = {name: </span><span
                        class="c6 c15">&quot;Tom&quot;</span><span class="c2">, age: </span><span
                        class="c6 c12">37</span><span class="c2">};<br></span><span class="c0">const</span><span
                        class="c2">&nbsp;handler = {<br> &nbsp;get: </span><span class="c0">function</span><span
                        class="c2">(target, prop) {<br> &nbsp; &nbsp;</span><span class="c0">return</span><span
                        class="c2">&nbsp;target[prop];<br> &nbsp;}<br>};<br></span><span class="c0">const</span><span
                        class="c2">&nbsp;proxy = </span><span class="c0">new</span><span class="c2">&nbsp;</span><span
                        class="c1">Proxy</span><span class="c2">(target, handler);<br></span><span
                        class="c1">console</span><span class="c2">.log(proxy.name); &nbsp; &nbsp;</span><span
                        class="c6 c14">// Tom</span><span class="c2"><br></span><span class="c1">console</span><span
                        class="c2">.log(proxy.age); &nbsp; &nbsp; </span><span class="c6 c14">// 37</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Aici, obiectul &#539;int&#259; are dou&#259; propriet&#259;&#539;i: name &#537;i
            age. &Icirc;n handler, intercept&#259;m acces&#259;rile la acestea, dar nu le suprascriem, ci pur &#537;i
            simplu return&#259;m valorile propriet&#259;&#539;ilor obiectului original:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.bce10f5f67666fb7b6a46def8985bdc4cc3288b2"></a><a
        id="t.12"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">return</span><span class="c2">&nbsp;target[prop];</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Pentru a accesa propriet&#259;&#539;ile obiectului &#539;int&#259;, se
            folose&#537;te sintaxa cu paranteze p&#259;trate.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">De asemenea, putem verifica la ce proprietate exact&#259; se face referire &#537;i
            s&#259; efectu&#259;m o anumit&#259; suprascriere:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.8ae91369b7b36480a26f967719898516ad7c901b"></a><a
        id="t.13"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;target = {name: </span><span
                        class="c6 c15">&quot;Tom&quot;</span><span class="c2">, age: </span><span
                        class="c6 c12">37</span><span class="c2">};<br></span><span class="c0">const</span><span
                        class="c2">&nbsp;handler = {<br> &nbsp;get: </span><span class="c0">function</span><span
                        class="c2">(target, prop) {<br> &nbsp; &nbsp;</span><span class="c0">if</span><span
                        class="c2">(prop===</span><span class="c6 c15">&quot;name&quot;</span><span class="c2">)<br>
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">return</span><span
                        class="c2">&nbsp;target.name.toUpperCase();<br> &nbsp; &nbsp;</span><span
                        class="c0">else</span><span class="c2"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c0">return</span><span class="c2">&nbsp;target[prop];<br> &nbsp;}<br>};<br></span><span
                        class="c0">const</span><span class="c2">&nbsp;proxy = </span><span class="c0">new</span><span
                        class="c2">&nbsp;</span><span class="c1">Proxy</span><span class="c2">(target,
                        handler);<br></span><span class="c1">console</span><span class="c2">.log(proxy.name); &nbsp;
                        &nbsp;</span><span class="c6 c14">// TOM</span><span class="c2"><br></span><span
                        class="c1">console</span><span class="c2">.log(proxy.age); &nbsp; &nbsp; </span><span
                        class="c6 c14">// 37</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">&Icirc;n acest caz, dac&#259; referirea este f&#259;cut&#259; la proprietatea
            name, adic&#259; la proprietatea care stocheaz&#259; un &#537;ir de caractere, apel&#259;m metoda
            toUpperCase() pentru acest &#537;ir &#537;i &icirc;l convertim &icirc;n litere mari.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c17">Setarea propriet&#259;&#539;ii &#537;i metoda </span><span class="c16">set.</span>
    </p>
    <p class="c5 c8"><span class="c16"></span></p>
    <p class="c5"><span class="c6">Metoda </span><span class="c7">set </span><span class="c9 c6">intercepteaz&#259;
            acces&#259;rile la o proprietate atunci c&acirc;nd i se seteaz&#259; o valoare:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.cfa06971f7abd1ab13c0035d361433b24e3648ac"></a><a
        id="t.14"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;handler = {<br> &nbsp;set:
                    </span><span class="c0">function</span><span class="c2">(target, property, value, receiver) {<br>
                        &nbsp; &nbsp; <br> &nbsp;}<br>};</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Metoda set are patru parametri:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c6">- </span><span class="c7">target</span><span class="c9 c6">: obiectul original
            c&#259;tre care se face proxierea</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c6">- </span><span class="c7">property</span><span class="c9 c6">: numele
            propriet&#259;&#539;ii la care se face referire</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c6">- </span><span class="c7">value</span><span class="c9 c6">: valoarea care se
            seteaz&#259;</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c6">- </span><span class="c7">receiver</span><span class="c9 c6">: obiectul Proxy prin
            intermediul c&#259;ruia se realizeaz&#259; proxierea</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">S&#259; analiz&#259;m un exemplu:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.9cef06835cbcfe91eccb2d48221fc63e60915880"></a><a
        id="t.15"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;target = {name: </span><span
                        class="c6 c15">&quot;Tom&quot;</span><span class="c2">, age: </span><span
                        class="c6 c12">37</span><span class="c2">};<br></span><span class="c0">const</span><span
                        class="c2">&nbsp;handler = {<br> &nbsp;set: </span><span class="c0">function</span><span
                        class="c2">(target, prop, value) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c1">console</span><span class="c2">.log(value);<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;target[prop] = value;<br> &nbsp;}<br>};<br></span><span class="c0">const</span><span
                        class="c2">&nbsp;proxy = </span><span class="c0">new</span><span class="c2">&nbsp;</span><span
                        class="c1">Proxy</span><span class="c2">(target, handler);<br>proxy.name = </span><span
                        class="c6 c15">&quot;Tomas&quot;</span><span class="c2">;<br></span><span
                        class="c1">console</span><span class="c2">.log(proxy.name); &nbsp; &nbsp;</span><span
                        class="c6 c14">// Tomas</span><span class="c2"><br>proxy.age = </span><span
                        class="c6 c12">22</span><span class="c2">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        <br></span><span class="c1">console</span><span class="c2">.log(proxy.age); &nbsp; &nbsp;
                    </span><span class="c6 c14">// 22</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">&Icirc;n acest exemplu, &icirc;n metoda set, mai &icirc;nt&acirc;i
            &icirc;nregistr&#259;m &icirc;n jurnal valoarea transmis&#259; propriet&#259;&#539;ii, apoi set&#259;m
            proprietatea:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.dd5f8b0b0ff328899b787d3f6a91e1a132fda160"></a><a
        id="t.16"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c2">target[prop] = value;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Vom face mici modific&#259;ri &icirc;n exemplu:</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.26023927618ee77a9d4fa16bf81af694678ebfa3"></a><a
        id="t.17"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">const</span><span class="c2">&nbsp;target = {name: </span><span
                        class="c6 c15">&quot;Tom&quot;</span><span class="c2">, age: </span><span
                        class="c6 c12">37</span><span class="c2">};<br></span><span class="c0">const</span><span
                        class="c2">&nbsp;handler = {<br> &nbsp;set: </span><span class="c0">function</span><span
                        class="c2">(target, prop, value) {<br> &nbsp; &nbsp;</span><span class="c0">if</span><span
                        class="c2">(prop === </span><span class="c6 c15">&quot;age&quot;</span><span
                        class="c2">&nbsp;&amp;&amp; value &lt; </span><span class="c6 c12">1</span><span
                        class="c2">)<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">console</span><span
                        class="c2">.log(</span><span class="c6 c15">&quot;V&acirc;rst&#259;
                        incorect&#259;&quot;</span><span class="c2">);<br> &nbsp; &nbsp;</span><span
                        class="c0">else</span><span class="c2"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c0">return</span><span class="c2">&nbsp;target[prop] = value;<br>
                        &nbsp;}<br>};<br></span><span class="c0">const</span><span class="c2">&nbsp;proxy = </span><span
                        class="c0">new</span><span class="c2">&nbsp;</span><span class="c1">Proxy</span><span
                        class="c2">(target, handler);<br>proxy.name = </span><span
                        class="c6 c15">&quot;Tomas&quot;</span><span class="c2">;<br></span><span
                        class="c1">console</span><span class="c2">.log(proxy.name); &nbsp; &nbsp;</span><span
                        class="c6 c14">// Tomas</span><span class="c2"><br>proxy.age = </span><span
                        class="c6 c12">-199</span><span class="c2">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span
                        class="c6 c14">// V&acirc;rst&#259; incorect&#259;</span><span class="c2"><br></span><span
                        class="c1">console</span><span class="c2">.log(proxy.age); &nbsp; &nbsp; </span><span
                        class="c6 c14">// 37</span><span class="c2"><br>proxy.age = </span><span
                        class="c6 c12">22</span><span class="c2">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        <br></span><span class="c1">console</span><span class="c2">.log(proxy.age); &nbsp; &nbsp;
                    </span><span class="c6 c14">// 22</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Aici, &icirc;n metoda set a handler-ului, verific&#259;m dac&#259; se face setarea
            propriet&#259;&#539;ii age &#537;i valoarea este mai mic&#259; de 1, atunci pur &#537;i simplu
            afi&#537;&#259;m un mesaj despre incorectitudinea datelor. Altfel, transmitem valoarea c&#259;tre
            proprietatea obiectului original.</span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.f7a6ee6d17a2cecb59ad482c3676a8b7aa6bac44"></a><a
        id="t.18"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">if</span><span class="c2">&nbsp;(prop === </span><span
                        class="c6 c15">&quot;age&quot;</span><span class="c2">&nbsp;&amp;&amp; value &lt; </span><span
                        class="c6 c12">1</span><span class="c2">)<br> &nbsp; &nbsp;</span><span
                        class="c1">console</span><span class="c2">.log(</span><span
                        class="c6 c15">&quot;V&acirc;rst&#259; incorect&#259;&quot;</span><span class="c2">);</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5"><span class="c9 c6">Altfel, transmitem valoarea c&#259;tre proprietatea obiectului original.</span>
    </p>
    <p class="c5 c8"><span class="c9 c6"></span></p><a id="t.c291f92b12a0b973553993890a783c6d787e5838"></a><a
        id="t.19"></a>
    <table class="c10">
        <tr class="c11">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c5"><span class="c0">else</span><span class="c2"><br> &nbsp; &nbsp;</span><span
                        class="c0">return</span><span class="c2">&nbsp;target[prop] = value;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5 c8"><span class="c9 c6"></span></p>
    <p class="c5 c8"><span class="c9 c6"></span></p>
</body>

</html>