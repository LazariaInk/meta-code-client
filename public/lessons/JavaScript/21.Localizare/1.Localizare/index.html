<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c22 doc-content">
    <h1 class="c1 c14">Localizare. </h1>
    <p class="c1 c4"><span class="c16 c8"></span></p>
    <p class="c1"><span class="c16 c18">Introducere &icirc;n Internationalization API.</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c15">Implementarea ultimelor standarde a ad&#259;ugat &icirc;n limbajul JavaScript
            capacit&#259;&#539;i &icirc;ncorporate de localizare sau ceea ce reprezint&#259;</span><span
            class="c8">&nbsp;Internationalization API</span><span class="c15">. De&#537;i browserele populare au
            implementat deja acest API, dac&#259; lucr&#259;m cu versiuni vechi ale browserelor, ne putem confrunta cu
            situa&#539;ia &icirc;n care acest API nu este suportat. &Icirc;n acest caz, putem verifica disponibilitatea
            obiectului </span><span class="c8">window.Intl</span><span class="c6">:</span></p>
    <p class="c1 c4"><span class="c6"></span></p><a id="t.1284e92efb3b6b5559d34759f72ba80bae19a794"></a><a id="t.0"></a>
    <table class="c10">
        <tr class="c12">
            <td class="c20" colspan="1" rowspan="1">
                <p class="c13"><span class="c11">if</span><span class="c2">&nbsp;(</span><span
                        class="c7">window</span><span class="c2">.Intl &amp;&amp; </span><span
                        class="c11">typeof</span><span class="c2">&nbsp;</span><span class="c7">window</span><span
                        class="c2">.Intl === </span><span class="c0">&quot;object&quot;</span><span class="c2">){
                        &nbsp;<br> &nbsp; &nbsp;</span><span class="c7">console</span><span class="c2">.log(</span><span
                        class="c0">&quot;Internationalization API este suportat&quot;</span><span class="c2">);<br>}
                        <br></span><span class="c11">else</span><span class="c2">&nbsp;{ &nbsp;<br> &nbsp;
                        &nbsp;</span><span class="c7">console</span><span class="c2">.log(</span><span
                        class="c0">&quot;Internationalization API nu este suportat&quot;</span><span
                        class="c2">);<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c15">Capacit&#259;&#539;ile </span><span class="c8">Internationalization API </span><span
            class="c6">sunt reprezentate &icirc;n principal de urm&#259;toarele obiecte:</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <ul class="c3 lst-kix_3z5lnnvzhpzt-0 start">
        <li class="c1 c5 li-bullet-0"><span class="c8">Intl.ListFormat</span><span class="c6">: aplicat pentru
                formatarea listelor</span></li>
    </ul>
    <p class="c1 c17 c4"><span class="c6"></span></p>
    <ul class="c3 lst-kix_3z5lnnvzhpzt-0">
        <li class="c1 c5 li-bullet-0"><span class="c8">Intl.DisplayNames</span><span class="c6">: aplicat pentru
                formatarea anumitor denumiri</span></li>
    </ul>
    <p class="c1 c17 c4"><span class="c6"></span></p>
    <ul class="c3 lst-kix_3z5lnnvzhpzt-0">
        <li class="c1 c5 li-bullet-0"><span class="c8">Intl.DateTimeFormat</span><span class="c6">: aplicat pentru
                formatarea datei &#537;i timpului</span></li>
    </ul>
    <p class="c1 c4 c17"><span class="c6"></span></p>
    <ul class="c3 lst-kix_3z5lnnvzhpzt-0">
        <li class="c1 c5 li-bullet-0"><span class="c8">Intl.NumberFormat</span><span class="c6">: aplicat pentru
                formatarea numerelor</span></li>
    </ul>
    <p class="c1 c17 c4"><span class="c6"></span></p>
    <ul class="c3 lst-kix_3z5lnnvzhpzt-0">
        <li class="c1 c5 li-bullet-0"><span class="c8">Intl.Collator</span><span class="c6">: aplicat pentru compararea
                &#537;irurilor de caractere</span></li>
    </ul>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c15">Pentru crearea obiectelor acestor tipuri se folosesc func&#539;ii-constructor
            corespunz&#259;toare, care accept&#259; p&acirc;n&#259; la 3 parametri (exemplu pentru constructorul
        </span><span class="c9">Intl.Collator()</span><span class="c6">):</span></p>
    <p class="c1 c4"><span class="c6"></span></p><a id="t.934b8ab5d9f261aac752bf1b1e7fb914b93871e2"></a><a id="t.1"></a>
    <table class="c10">
        <tr class="c12">
            <td class="c20" colspan="1" rowspan="1">
                <p class="c13"><span class="c11">new</span><span class="c2">&nbsp;</span><span
                        class="c7">Intl</span><span class="c2">.Collator()<br></span><span class="c11">new</span><span
                        class="c2">&nbsp;</span><span class="c7">Intl</span><span
                        class="c2">.Collator(locales)<br></span><span class="c11">new</span><span
                        class="c2">&nbsp;</span><span class="c7">Intl</span><span class="c2">.Collator(locales,
                        options)</span></p>
            </td>
        </tr>
    </table>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">Ca prim parametru se transmit localele utilizate. Dac&#259; acest parametru nu este
            specificat, se utilizeaz&#259; locala implicit&#259;. &Icirc;n plus, &icirc;n toate
            func&#539;iile-constructor se poate transmite un obiect de configurare op&#539;ional, care depinde de tipul
            specific al constructorului.</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">Locala reprezint&#259; codul limbii &icirc;n formatul BCP 47 sau un set de coduri
            lingvistice. Se poate folosi codul principal al localei. De exemplu, limba englez&#259; este
            reprezentat&#259; de codul &quot;en&quot;. Totu&#537;i, pot exista diferite varia&#539;ii ale limbii,
            &#537;i pentru a le reflecta, la codul principal se poate ad&#259;uga codul regiunii, de exemplu,
            &quot;en-GB&quot; (englez&#259; britanic&#259;) sau &quot;en-US&quot; (englez&#259; american&#259;).
            Similar, limba rom&acirc;n&#259; este definit&#259; de codul &quot;ro&quot; (sau varia&#539;iile regionale
            de tip &quot;ro-RO&quot;), germana - de codul &quot;de&quot;, etc.</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">Exemplu de creare a obiectelor pentru locala rom&acirc;n&#259;:</span></p>
    <p class="c1 c4"><span class="c6"></span></p><a id="t.e2326cf842734635c2004b1217daac8ec4a4d693"></a><a id="t.2"></a>
    <table class="c10">
        <tr class="c12">
            <td class="c20" colspan="1" rowspan="1">
                <p class="c13"><span class="c11">const</span><span class="c2">&nbsp;locale = </span><span
                        class="c0">&quot;ro&quot;</span><span class="c2">;<br></span><span class="c11">const</span><span
                        class="c2">&nbsp;roDateTimeFormat = </span><span class="c11">new</span><span
                        class="c2">&nbsp;</span><span class="c7">Intl</span><span
                        class="c2">.DateTimeFormat(locale);<br></span><span class="c11">const</span><span
                        class="c2">&nbsp;roNumberFormat = </span><span class="c11">new</span><span
                        class="c2">&nbsp;</span><span class="c7">Intl</span><span
                        class="c2">.NumberFormat(locale);<br></span><span class="c11">const</span><span
                        class="c2">&nbsp;roCollator = </span><span class="c11">new</span><span
                        class="c2">&nbsp;</span><span class="c7">Intl</span><span class="c2">.Collator(locale);</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">De asemenea, se poate transmite un set de locale</span></p>
    <p class="c1 c4"><span class="c6"></span></p><a id="t.8d5412149613b99b8628f4f168a841fd544c40a8"></a><a id="t.3"></a>
    <table class="c10">
        <tr class="c12">
            <td class="c20" colspan="1" rowspan="1">
                <p class="c13"><span class="c11">const</span><span class="c2">&nbsp;locales = [ </span><span
                        class="c0">&quot;ro-RO&quot;</span><span class="c2">, </span><span
                        class="c0">&quot;en-US&quot;</span><span class="c2">, </span><span
                        class="c0">&quot;de-DE&quot;</span><span class="c2">];<br></span><span
                        class="c11">const</span><span class="c2">&nbsp;dateTimeFormat = </span><span
                        class="c11">new</span><span class="c2">&nbsp;</span><span class="c7">Intl</span><span
                        class="c2">.DateTimeFormat(locales);<br></span><span class="c11">const</span><span
                        class="c2">&nbsp;numberFormat = </span><span class="c11">new</span><span
                        class="c2">&nbsp;</span><span class="c7">Intl</span><span
                        class="c2">.NumberFormat(locales);<br></span><span class="c11">const</span><span
                        class="c2">&nbsp;collator = </span><span class="c11">new</span><span
                        class="c2">&nbsp;</span><span class="c7">Intl</span><span class="c2">.Collator(locales);</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">&Icirc;n acest caz, localizarea va folosi prima local&#259; suportat&#259;. Astfel,
            &icirc;n lista [ &quot;ro-RO&quot;, &quot;en-US&quot;, &quot;de-DE&quot;] prima este locala
            &quot;ro-RO&quot;, care reprezint&#259; varianta rom&acirc;n&#259; din Rom&acirc;nia. Dac&#259; aceast&#259;
            local&#259; nu este suportat&#259;, atunci browserul verific&#259; suportul pentru limba din codul principal
            al localei, adic&#259; &icirc;n acest caz &quot;ro&quot; (limba rom&acirc;n&#259; f&#259;r&#259;
            leg&#259;tur&#259; cu regiunea). Dac&#259; nici aceasta nu este suportat&#259;, atunci browserul
            verific&#259; suportul pentru a doua local&#259; din list&#259; - &icirc;n acest caz &quot;en-US&quot;.
            Dac&#259; nici aceast&#259; local&#259; nu este suportat&#259;, atunci se verific&#259; locala codului
            principal - &quot;en&quot;, &#537;i a&#537;a mai departe. &Icirc;n final, browserul va aplica prima
            local&#259; suportat&#259;.</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">Dac&#259; niciuna din localele din list&#259; nu este suportat&#259; de browser,
            atunci se aplic&#259; locala implicit&#259;.</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c15">Pentru a verifica dac&#259; o anumit&#259; local&#259; este suportat&#259; de
            browserul curent se poate folosi metoda static&#259;</span><span
            class="c9 c21">&nbsp;supportedLocalesOf()</span></p>
    <p class="c1 c4"><span class="c6"></span></p><a id="t.64e7ebe80a73f1ac43268ea21d7c98b4463d5ede"></a><a id="t.4"></a>
    <table class="c10">
        <tr class="c12">
            <td class="c20" colspan="1" rowspan="1">
                <p class="c13"><span class="c7">Intl</span><span
                        class="c2">.Collator.supportedLocalesOf()<br></span><span class="c7">Intl</span><span
                        class="c2">.DateTimeFormat.supportedLocalesOf()<br></span><span class="c7">Intl</span><span
                        class="c2">.NumberFormat.supportedLocalesOf()</span></p>
            </td>
        </tr>
    </table>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">&Icirc;n aceast&#259; metod&#259; se transmite locala sau un array de locale ale
            c&#259;ror suport trebuie verificat. De exemplu:</span></p>
    <p class="c1 c4"><span class="c6"></span></p><a id="t.3c5132f8d2f894c485a58621c7ce32d4bb3d570e"></a><a id="t.5"></a>
    <table class="c10">
        <tr class="c12">
            <td class="c20" colspan="1" rowspan="1">
                <p class="c13"><span class="c7">console</span><span class="c2">.log(</span><span
                        class="c7">Intl</span><span class="c2">.NumberFormat.supportedLocalesOf(</span><span
                        class="c0">&quot;ro&quot;</span><span class="c2">)); &nbsp; &nbsp;</span><span
                        class="c15 c19">// rom&acirc;n&#259;</span><span class="c2"><br></span><span
                        class="c7">console</span><span class="c2">.log(</span><span class="c7">Intl</span><span
                        class="c2">.NumberFormat.supportedLocalesOf(</span><span class="c0">&quot;ar&quot;</span><span
                        class="c2">)); &nbsp; &nbsp;</span><span class="c15 c19">// arab&#259;</span><span
                        class="c2"><br></span><span class="c7">console</span><span class="c2">.log(</span><span
                        class="c7">Intl</span><span class="c2">.NumberFormat.supportedLocalesOf([</span><span
                        class="c0">&quot;de&quot;</span><span class="c2">, </span><span
                        class="c0">&quot;bo&quot;</span><span class="c2">])); </span><span class="c15 c19">//
                        german&#259; &#537;i tibetan&#259;</span></p>
            </td>
        </tr>
    </table>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">Aceast&#259; metod&#259; returneaz&#259; un array de locale suportate, care corespund
            localelor verificate. De exemplu, &icirc;n cazul meu, outputul va fi urm&#259;torul:</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c16 c8">[&quot;ro&quot;]</span></p>
    <p class="c1"><span class="c16 c8">[&quot;ar&quot;]</span></p>
    <p class="c1"><span class="c8 c16">[&quot;de&quot;]</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
    <p class="c1"><span class="c6">Cum se observ&#259; din output, tibetana nu se suport&#259;.</span></p>
    <p class="c1 c4"><span class="c6"></span></p>
</body>

</html>