<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c18 doc-content">
    <h1 class="c1 c10"><span class="c19">Funcția ca obiect. Metodele call și apply.</h1>
    <p class="c1 c10 c2"><span class="c11"></span></p>
    <p class="c1 c10"><span class="c9">&Icirc;n JavaScript, </span><span class="c9 c20">func&#539;ia </span><span
            class="c9">este, de asemenea, un obiect - un obiect de tipul </span><span class="c12">Function </span><span
            class="c0">&#537;i are, de asemenea, un prototip, propriet&#259;&#539;i &#537;i metode. Toate func&#539;iile
            utilizate &icirc;n program sunt obiecte de tip Function &#537;i au toate propriet&#259;&#539;ile &#537;i
            metodele sale.</span></p>
    <p class="c1 c10 c2"><span class="c0"></span></p>
    <p class="c1 c10"><span class="c0">De exemplu, putem crea o func&#539;ie folosind constructorul Function:</span></p>
    <p class="c1 c10 c2"><span class="c0"></span></p><a id="t.2e76c514ee746ae0b12b4b1cd5d76ec0c5e995a4"></a><a
        id="t.0"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c1"><span class="c3">const</span><span class="c4">&nbsp;square = </span><span
                        class="c3">new</span><span class="c4">&nbsp;</span><span class="c5">Function</span><span
                        class="c4">(</span><span class="c7">&quot;n&quot;</span><span class="c4">, </span><span
                        class="c7">&quot;return n * n;&quot;</span><span class="c4">);<br></span><span
                        class="c5">console</span><span class="c4">.log(square(</span><span class="c9 c13">5</span><span
                        class="c4">)); &nbsp; &nbsp; </span><span class="c9 c16">// 25</span></p>
            </td>
        </tr>
    </table>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">&Icirc;n constructorul Function pot fi transmi&#537;i mai mul&#539;i parametri.
            Ultimul parametru reprezint&#259; corpul func&#539;iei &icirc;n sine sub form&#259; de &#537;ir de
            caractere. Practic, &#537;irul con&#539;ine cod JavaScript. Parametrii anteriori con&#539;in numele
            parametrilor. &Icirc;n acest caz, este definit&#259; o func&#539;ie care ridic&#259; un num&#259;r la
            p&#259;trat, av&acirc;nd un singur parametru n.</span></p>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">Dintre propriet&#259;&#539;ile obiectului Function, pot fi eviden&#539;iate
            urm&#259;toarele:</span></p>
    <p class="c1 c2"><span class="c0"></span></p>
    <ul class="c6 lst-kix_6akkz3qcvwf-0 start">
        <li class="c1 c17 li-bullet-0"><span class="c9">&nbsp;</span><span class="c12">arguments</span><span
                class="c0">: o matrice de argumente transmise la func&#539;ie</span></li>
    </ul>
    <p class="c1 c2"><span class="c0"></span></p>
    <ul class="c6 lst-kix_6akkz3qcvwf-0">
        <li class="c1 c17 li-bullet-0"><span class="c9">&nbsp;</span><span class="c12">length</span><span class="c0">:
                determin&#259; num&#259;rul de argumente pe care func&#539;ia le a&#537;teapt&#259;</span></li>
    </ul>
    <p class="c1 c2"><span class="c0"></span></p>
    <ul class="c6 lst-kix_6akkz3qcvwf-0">
        <li class="c1 c17 li-bullet-0"><span class="c9">&nbsp;</span><span class="c12">caller</span><span class="c0">:
                determin&#259; func&#539;ia care a apelat func&#539;ia curent&#259; &icirc;n execu&#539;ie</span></li>
    </ul>
    <p class="c1 c2"><span class="c0"></span></p>
    <ul class="c6 lst-kix_6akkz3qcvwf-0">
        <li class="c1 c17 li-bullet-0"><span class="c9">&nbsp;</span><span class="c12">name</span><span class="c0">:
                numele func&#539;iei</span></li>
    </ul>
    <p class="c1 c2"><span class="c0"></span></p>
    <ul class="c6 lst-kix_6akkz3qcvwf-0">
        <li class="c1 c17 li-bullet-0"><span class="c9">&nbsp;</span><span class="c12">prototype</span><span
                class="c0">: prototipul func&#539;iei</span></li>
    </ul>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">Cu ajutorul prototipului, putem defini propriet&#259;&#539;i suplimentare:</span></p>
    <p class="c1 c2"><span class="c0"></span></p><a id="t.17f390191246ffc87538632ea0e8149fb503ff31"></a><a id="t.1"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c1"><span class="c3">function</span><span class="c4">&nbsp;</span><span
                        class="c5">sayHello</span><span class="c4">(){<br> &nbsp; &nbsp;</span><span
                        class="c5">console</span><span class="c4">.log(</span><span
                        class="c7">&quot;Hello&quot;</span><span class="c4">);<br>}<br><br></span><span
                        class="c9 c16">// modific&#259;m prototipul pentru toate func&#539;iile</span><span
                        class="c4"><br></span><span class="c5">Function</span><span class="c4">.prototype.program
                        =</span><span class="c7">&quot;Hello World&quot;</span><span class="c4">;<br><br></span><span
                        class="c5">console</span><span class="c4">.log(sayHello.program); </span><span class="c9 c16">//
                        Hello World</span></p>
            </td>
        </tr>
    </table>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">Dintre metode trebuie men&#539;ionate metodele call() &#537;i apply().</span></p>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">Metoda call() apeleaz&#259; func&#539;ia cu o valoare specificat&#259; pentru this
            &#537;i cu argumente specificate:</span></p>
    <p class="c1 c2"><span class="c0"></span></p><a id="t.4a7cc991c0f71d01f9314931e877259ed1ce4ec4"></a><a id="t.2"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c1"><span class="c3">function</span><span class="c4">&nbsp;</span><span
                        class="c5">sum</span><span class="c4">(x, y){<br> &nbsp; &nbsp; <br> &nbsp; &nbsp;</span><span
                        class="c3">return</span><span class="c4">&nbsp;x + y;<br>}<br></span><span
                        class="c3">const</span><span class="c4">&nbsp;result = sum.call(</span><span
                        class="c3">this</span><span class="c4">, </span><span class="c9 c13">3</span><span class="c4">,
                    </span><span class="c9 c13">8</span><span class="c4">);<br> <br></span><span
                        class="c5">console</span><span class="c4">.log(result); </span><span class="c9 c16">// 11</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">this indic&#259; obiectul pentru care este apelat&#259; func&#539;ia - &icirc;n acest
            caz, este obiectul global window. Dup&#259; this, sunt transmise valorile pentru parametri.</span></p>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">Prin transmiterea unui obiect ca prim parametru, putem face referire la el folosind
            cuv&acirc;ntul cheie this:</span></p>
    <p class="c1 c2"><span class="c0"></span></p><a id="t.ec43cd95ca8190321dbc01a40e5ca21fc3bc07cf"></a><a id="t.3"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c1"><span class="c3">function</span><span class="c4">&nbsp;</span><span
                        class="c5">User</span><span class="c4">&nbsp;(name, age) {<br> &nbsp; &nbsp;</span><span
                        class="c3">this</span><span class="c4">.name = name;<br> &nbsp; &nbsp;</span><span
                        class="c3">this</span><span class="c4">.age = age;<br>}<br></span><span
                        class="c3">const</span><span class="c4">&nbsp;tom = </span><span class="c3">new</span><span
                        class="c4">&nbsp;User(</span><span class="c7">&quot;Tom&quot;</span><span class="c4">,
                    </span><span class="c9 c13">39</span><span class="c4">);<br></span><span
                        class="c3">function</span><span class="c4">&nbsp;</span><span class="c5">print</span><span
                        class="c4">(){<br> &nbsp; &nbsp;</span><span class="c5">console</span><span
                        class="c4">.log(</span><span class="c7">&quot;Name:&quot;</span><span class="c4">, </span><span
                        class="c3">this</span><span class="c4">.name);<br>}<br>print.call(tom); </span><span
                        class="c9 c16">// Name: Tom</span></p>
            </td>
        </tr>
    </table>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">&Icirc;n acest caz, este transmis&#259; doar o singur&#259; valoare, deoarece
            func&#539;ia print nu prime&#537;te parametri. Cu alte cuvinte, func&#539;ia va fi apelat&#259; pentru
            obiectul tom.</span></p>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">Dac&#259; nu ne pas&#259; despre obiectul pentru care este apelat&#259; func&#539;ia,
            putem transmite valoarea null:</span></p>
    <p class="c1 c2"><span class="c0"></span></p><a id="t.aba996d05f632d72e3bcc90f809a35d7bcda181c"></a><a id="t.4"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c1"><span class="c3">function</span><span class="c4">&nbsp;</span><span
                        class="c5">sum</span><span class="c4">(x, y){<br> &nbsp; &nbsp; <br> &nbsp; &nbsp;</span><span
                        class="c3">return</span><span class="c4">&nbsp;x + y;<br>}<br></span><span
                        class="c3">const</span><span class="c4">&nbsp;result = sum.call(</span><span
                        class="c3">null</span><span class="c4">, </span><span class="c9 c13">3</span><span class="c4">,
                    </span><span class="c9 c13">8</span><span class="c4">);<br> <br></span><span
                        class="c5">console</span><span class="c4">.log(result); </span><span class="c9 c16">// 11</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c1 c2"><span class="c0"></span></p>
    <p class="c1"><span class="c0">Metoda call() are o variant&#259; similar&#259; numit&#259; apply(), care de asemenea
            apeleaz&#259; o func&#539;ie &#537;i prime&#537;te un obiect ca primul parametru. &Icirc;ns&#259;, &icirc;n
            acest caz, al doilea parametru este un array de argumente:</span></p>
    <p class="c1 c2"><span class="c0"></span></p><a id="t.4d813cff225536b1b7ce2d41bb3b0b16a4449dd0"></a><a id="t.5"></a>
    <table class="c15">
        <tr class="c8">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c1"><span class="c3">function</span><span class="c4">&nbsp;</span><span
                        class="c5">sum</span><span class="c4">(x, y){<br> &nbsp; &nbsp; <br> &nbsp; &nbsp;</span><span
                        class="c3">return</span><span class="c4">&nbsp;x + y;<br>}<br></span><span
                        class="c3">const</span><span class="c4">&nbsp;result = sum.apply(</span><span
                        class="c3">null</span><span class="c4">, [</span><span class="c9 c13">3</span><span class="c4">,
                    </span><span class="c9 c13">8</span><span class="c4">]);<br> <br></span><span
                        class="c5">console</span><span class="c4">.log(result); </span><span class="c9 c16">// 11</span>
                </p>
            </td>
        </tr>
    </table>
    <p class="c1 c2"><span class="c0"></span></p>
</body>

</html>