<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c22 doc-content">
    <h1 class="c6 c19 c14">Funcția Object.create. Configurarea proprietților
            obiectelor.</h1>
    <p class="c6 c11"><span class="c17 c10"></span></p>
    <p class="c6 c19"><span class="c17 c20">Func&#539;ia Object.create.</span></p>
    <p class="c6 c11"><span class="c10 c17"></span></p>
    <p class="c6 c19"><span class="c0">Un alt mod de a crea un obiect este furnizat de func&#539;ia Object.create, care
            prime&#537;te doi parametri. Primul parametru este prototipul pe baza c&#259;ruia va fi creat obiectul, iar
            al doilea parametru este o defini&#539;ie a propriet&#259;&#539;ilor &#537;i metodelor obiectului:</span>
    </p>
    <p class="c6 c11"><span class="c0"></span></p><a id="t.4358e0eec07a1b786df5679d4d93601d1e15191b"></a><a
        id="t.0"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c8">const</span><span class="c1">&nbsp;tom = </span><span
                        class="c7">Object</span><span class="c1">.create(prototip, { propriet&#259;&#539;i &#537;i
                        metode });</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c11"><span class="c0"></span></p>
    <p class="c6 c19"><span class="c0">De exemplu:</span></p>
    <p class="c6 c11"><span class="c17 c10"></span></p><a id="t.91a34e23379806803679fd28bb092ceb11d31417"></a><a
        id="t.1"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c8">const</span><span class="c1">&nbsp;tom = </span><span
                        class="c7">Object</span><span class="c1">.create(</span><span class="c7">Object</span><span
                        class="c1">.prototype, { &nbsp;<br> &nbsp; &nbsp;name: { &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;value: </span><span class="c4">&quot;Tom&quot;</span><span class="c1"><br> &nbsp; &nbsp;},
                        &nbsp;<br> &nbsp; &nbsp;age: { <br> &nbsp; &nbsp; &nbsp; &nbsp;value: </span><span
                        class="c5">39</span><span class="c1">&nbsp; <br> &nbsp; &nbsp;}, &nbsp;<br> &nbsp; &nbsp;print:
                        { &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;value: </span><span
                        class="c8">function</span><span class="c1">() { </span><span class="c7">console</span><span
                        class="c1">.log(&lsquo;</span><span class="c4">Name: ${</span><span class="c8">this</span><span
                        class="c4">.name} &nbsp;Age: ${</span><span class="c8">this</span><span
                        class="c4">.age}&rsquo;</span><span class="c1">); &nbsp; <br> &nbsp; &nbsp;} &nbsp;<br>}});<br>
                        <br></span><span class="c7">console</span><span class="c1">.log(tom.name); &nbsp;</span><span
                        class="c13">// Tom</span><span class="c1"><br></span><span class="c7">console</span><span
                        class="c1">.log(tom.age); &nbsp; </span><span class="c13">// 39</span><span
                        class="c1"><br>tom.print(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">//
                        Name: Tom &nbsp;Age: 39</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c15">Aici, ca prototip pentru func&#539;ia Object.create(), este transmis prototipul lui
            Object - </span><span class="c10">Object.prototype</span><span class="c0">. Al doilea parametru al
            func&#539;iei este o defini&#539;ie a propriet&#259;&#539;ilor sub forma:</span></p>
    <p class="c6 c12"><span class="c0"></span></p><a id="t.926b41856e67160161c70acaa6f849e54fe8b1e7"></a><a
        id="t.2"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c1">nume_proprietate/metod&#259;: {<br> &nbsp; &nbsp;value:
                        valoare_proprietate/metod&#259;<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Numele propriet&#259;&#539;ii/metodei este asociat unui obiect &icirc;n care
            exist&#259; proprietatea value - aceasta este proprietatea &icirc;n sine &#537;i stocheaz&#259; valoarea
            propriet&#259;&#539;ii/metodei. De exemplu, proprietatea age este egal&#259; cu 39:</span></p>
    <p class="c6 c12"><span class="c0"></span></p><a id="t.857d7086442c33bff80ad1bf2cabbcbf1f06b112"></a><a
        id="t.3"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c1">age: { <br> &nbsp; &nbsp;value: </span><span class="c5">39</span><span
                        class="c1">&nbsp; <br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Pentru metoda, valoarea este definit&#259; ca o defini&#539;ie a
            func&#539;iei.</span></p>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Dup&#259; crearea obiectului, putem accesa propriet&#259;&#539;ile &#537;i metodele
            sale, la fel cum am face &icirc;n orice alt caz:</span></p>
    <p class="c6 c12"><span class="c0"></span></p><a id="t.15f5eecb88b061483be068ca6af67310cfe70161"></a><a
        id="t.4"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c7">console</span><span class="c1">.log(tom.age); &nbsp; </span><span
                        class="c13">// 39</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Acest mod de creare a obiectelor poate p&#259;rea prea detaliat &#537;i redundant. Cu
            toate acestea, permite configurarea mai detaliat&#259; a propriet&#259;&#539;ilor. Astfel, &icirc;n
            afar&#259; de c&acirc;mpul value &icirc;n configurarea propriet&#259;&#539;ii, putem seta c&acirc;mpuri
            suplimentare:</span></p>
    <p class="c6 c12"><span class="c0"></span></p>
    <ul class="c18 lst-kix_1qea4r2he8y8-0 start">
        <li class="c2 li-bullet-0"><span class="c10">writeable</span><span class="c0">: stocheaz&#259; o valoare
                boolean&#259; care indic&#259; dac&#259; aceast&#259; proprietate este disponibil&#259; pentru scriere,
                adic&#259; dac&#259; &icirc;i poate fi atribuit&#259; o valoare nou&#259;. Implicit, acest atribut are
                valoarea false.</span></li>
    </ul>
    <p class="c6 c12"><span class="c0"></span></p>
    <ul class="c18 lst-kix_1qea4r2he8y8-0">
        <li class="c2 li-bullet-0"><span class="c10">enumerable</span><span class="c0">: stocheaz&#259; o valoare
                boolean&#259; care indic&#259; dac&#259; proprietatea corespunz&#259;toare este enumerabil&#259;,
                adic&#259; dac&#259; este inclus&#259; atunci c&acirc;nd sunt enumerate propriet&#259;&#539;ile
                obiectului corespunz&#259;tor (de exemplu, cu ajutorul unui ciclu for...in). Implicit, are valoarea
                false.</span></li>
    </ul>
    <p class="c6 c12"><span class="c0"></span></p>
    <ul class="c18 lst-kix_1qea4r2he8y8-0">
        <li class="c2 li-bullet-0"><span class="c10">configurable</span><span class="c0">: stocheaz&#259; o valoare
                boolean&#259; care indic&#259; dac&#259; se poate schimba &icirc;nsu&#537;i atributul pentru
                proprietatea corespunz&#259;toare, adic&#259; dac&#259; se poate configura ulterior proprietatea cu
                ajutorul atributelor. Valoarea implicit&#259; pentru acest atribut este, de asemenea, false.</span></li>
    </ul>
    <p class="c6 c12"><span class="c0"></span></p>
    <ul class="c18 lst-kix_1qea4r2he8y8-0">
        <li class="c2 li-bullet-0"><span class="c10">set</span><span class="c0">: define&#537;te func&#539;ia care este
                apelat&#259; atunci c&acirc;nd se schimb&#259; valoarea propriet&#259;&#539;ii.</span></li>
    </ul>
    <p class="c6 c12"><span class="c0"></span></p>
    <ul class="c18 lst-kix_1qea4r2he8y8-0">
        <li class="c2 li-bullet-0"><span class="c10">get</span><span class="c0">: define&#537;te func&#539;ia care este
                apelat&#259; atunci c&acirc;nd se cite&#537;te valoarea propriet&#259;&#539;ii.</span></li>
    </ul>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Vom aplica c&acirc;teva dintre aceste atribute:</span></p>
    <p class="c6 c12"><span class="c0"></span></p><a id="t.6a61fcac3bc7d614b00d60a1f400b400580be16f"></a><a
        id="t.5"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c8">const</span><span class="c1">&nbsp;tom = </span><span
                        class="c7">Object</span><span class="c1">.create(</span><span class="c7">Object</span><span
                        class="c1">.prototype, { &nbsp;<br> &nbsp; &nbsp;name: { &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;value: </span><span class="c4">&quot;Tom&quot;</span><span class="c1">,<br> &nbsp; &nbsp;
                        &nbsp; &nbsp;enumerable: </span><span class="c8">true</span><span class="c1">, &nbsp; &nbsp;
                        &nbsp; </span><span class="c13">// disponibil pentru enumerare</span><span class="c1"><br>
                        &nbsp; &nbsp; &nbsp; &nbsp;writable: </span><span class="c8">false</span><span class="c1">&nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">// NEDisponibil pentru scriere</span><span
                        class="c1"><br> &nbsp; &nbsp;}, &nbsp;<br> &nbsp; &nbsp;age: { <br> &nbsp; &nbsp; &nbsp;
                        &nbsp;value: </span><span class="c5">39</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;enumerable: </span><span class="c8">true</span><span class="c1">, &nbsp; &nbsp; &nbsp;
                    </span><span class="c13">// disponibil pentru enumerare</span><span class="c1"><br> &nbsp; &nbsp;
                        &nbsp; &nbsp;writable: </span><span class="c8">true</span><span class="c1">&nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; </span><span class="c13">// disponibil pentru scriere</span><span class="c1"><br>
                        &nbsp; &nbsp;}, &nbsp;<br> &nbsp; &nbsp;print: { &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;value: </span><span class="c8">function</span><span class="c1">() { </span><span
                        class="c7">console</span><span class="c1">.log(`</span><span class="c4">Name: ${</span><span
                        class="c8">this</span><span class="c4">.name} &nbsp;Age: ${</span><span
                        class="c8">this</span><span class="c4">.age}`</span><span class="c1">);},<br> &nbsp; &nbsp;
                        &nbsp; &nbsp;enumerable: </span><span class="c8">false</span><span class="c1">, &nbsp; &nbsp;
                        &nbsp;</span><span class="c13">// NEDisponibil pentru enumerare</span><span class="c1"><br>
                        &nbsp; &nbsp; &nbsp; &nbsp;writable: </span><span class="c8">false</span><span class="c1">&nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">// NEDisponibil pentru scriere</span><span
                        class="c1"><br> &nbsp; &nbsp;} &nbsp;<br>});<br> <br></span><span class="c7">console</span><span
                        class="c1">.log(tom.name); &nbsp;</span><span class="c13">// Tom</span><span
                        class="c1"><br>tom.name = </span><span class="c4">&quot;Tomas&quot;</span><span
                        class="c1">;<br></span><span class="c7">console</span><span class="c1">.log(tom.name);
                        &nbsp;</span><span class="c13">// Tom - proprietatea name nu este disponibil&#259; pentru
                        modificare</span><span class="c1"><br> <br></span><span class="c7">console</span><span
                        class="c1">.log(tom.age); &nbsp; </span><span class="c13">// 39</span><span
                        class="c1"><br>tom.age = </span><span class="c5">22</span><span class="c1">;<br></span><span
                        class="c7">console</span><span class="c1">.log(tom.age); &nbsp; </span><span class="c13">// 22 -
                        proprietatea age este disponibil&#259; pentru modificare</span><span class="c1"><br>
                        <br>tom.print(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">// Name: Tom
                        &nbsp;Age: 22</span><span class="c1"><br> <br></span><span class="c13">// enumerarea
                        obiectului</span><span class="c1"><br></span><span class="c8">for</span><span class="c1">(prop
                    </span><span class="c8">in</span><span class="c1">&nbsp;tom){<br> &nbsp; &nbsp;</span><span
                        class="c7">console</span><span class="c1">.log(prop);<br>}<br></span><span class="c13">//
                        Consola afi&#537;eaz&#259;:</span><span class="c1"><br></span><span class="c13">//
                        name</span><span class="c1"><br></span><span class="c13">// age</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c15">&Icirc;n exemplul de mai sus, func&#539;ia</span><span
            class="c10">&nbsp;Object.create</span><span class="c15">&nbsp;utilizeaz&#259; mult cod pentru a crea un
            obiect. Dar ce se &icirc;nt&acirc;mpl&#259; dac&#259; avem o mul&#539;ime de propriet&#259;&#539;i &#537;i
            metode, dar avem nevoie doar de o anumit&#259; configura&#539;ie (de exemplu, s&#259; facem o proprietate
            disponibil&#259; doar pentru citire) pentru o singur&#259; proprietate? &Icirc;n acest caz, putem crea
            obiectul &icirc;n mod obi&#537;nuit &#537;i s&#259; definim toate propriet&#259;&#539;ile suplimentare care
            necesit&#259; configura&#539;ie cu ajutorul func&#539;iei </span><span
            class="c10">Object.defineProperty</span><span class="c0">:</span></p>
    <p class="c6 c12"><span class="c0"></span></p><a id="t.a2554a9b5550ddfc74d0952140e7a91bd79fa0ae"></a><a
        id="t.6"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c8">const</span><span class="c1">&nbsp;tom = {<br> &nbsp; &nbsp;age:
                    </span><span class="c5">39</span><span class="c1">,<br> &nbsp; &nbsp;print: </span><span
                        class="c8">function</span><span class="c1">() { </span><span class="c7">console</span><span
                        class="c1">.log(`</span><span class="c4">Name: ${</span><span class="c8">this</span><span
                        class="c4">.name} &nbsp;Age: ${</span><span class="c8">this</span><span
                        class="c4">.age}`</span><span class="c1">); }<br>};<br></span><span
                        class="c7">Object</span><span class="c1">.defineProperty(tom, </span><span
                        class="c4">&quot;name&quot;</span><span class="c1">, {<br> &nbsp; &nbsp;value: </span><span
                        class="c4">&quot;Tom&quot;</span><span class="c1">,<br> &nbsp; &nbsp;writable: </span><span
                        class="c8">false</span><span class="c1">&nbsp; &nbsp; &nbsp;</span><span class="c13">// Nu este
                        disponibil pentru scriere</span><span class="c1"><br>});<br><br></span><span
                        class="c7">console</span><span class="c1">.log(tom.name); &nbsp;</span><span class="c13">//
                        Tom</span><span class="c1"><br>tom.name = </span><span class="c4">&quot;Tomas&quot;</span><span
                        class="c1">;<br></span><span class="c7">console</span><span class="c1">.log(tom.name);
                        &nbsp;</span><span class="c13">// Tom - Proprietatea name nu este disponibil&#259; pentru
                        modificare</span><span class="c1"><br><br>tom.print(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c13">// Name: Tom &nbsp;Age: 22</span></p>
            </td>
        </tr>
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6 c12"><span class="c8 c21"></span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Func&#539;ia Object.defineProperty() prime&#537;te trei parametri. Primul parametru
            este obiectul pentru care se define&#537;te proprietatea. Al doilea parametru este numele
            propriet&#259;&#539;ii. Al treilea parametru este obiectul de configurare. &Icirc;n acest caz,
            ad&#259;ug&#259;m proprietatea name la obiectul tom, care va fi disponibil&#259; doar pentru citire.</span>
    </p>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Dac&#259; trebuie s&#259; definim astfel mai multe propriet&#259;&#539;i, atunci se
            utilizeaz&#259; func&#539;ia Object.defineProperties, care prime&#537;te un obiect &#537;i un set de
            configur&#259;ri pentru propriet&#259;&#539;ile ad&#259;ugate:</span></p>
    <p class="c6 c12"><span class="c0"></span></p><a id="t.020795734b6b35427d38a5034919e403b6317506"></a><a
        id="t.7"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c8">const</span><span class="c1">&nbsp;tom = { age: </span><span
                        class="c5">39</span><span class="c1">&nbsp;};<br></span><span class="c13">// Ad&#259;ug&#259;m
                        propriet&#259;&#539;i la obiectul tom</span><span class="c1"><br></span><span
                        class="c7">Object</span><span class="c1">.defineProperties(tom, {<br> &nbsp; &nbsp;name: {
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c13">// Definim
                        proprietatea name</span><span class="c1"><br> &nbsp; &nbsp; &nbsp; &nbsp;value: </span><span
                        class="c4">&quot;Tom&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp; &nbsp;writable:
                    </span><span class="c8">false</span><span class="c1">&nbsp; &nbsp; &nbsp;</span><span class="c13">//
                        Nu este disponibil&#259; pentru scriere</span><span class="c1"><br> &nbsp; &nbsp;},<br> &nbsp;
                        &nbsp;print: { &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">// Definim metoda
                        print</span><span class="c1"><br> &nbsp; &nbsp; &nbsp; &nbsp;value: </span><span
                        class="c8">function</span><span class="c1">() { </span><span class="c7">console</span><span
                        class="c1">.log(`</span><span class="c4">Nume: ${</span><span class="c8">this</span><span
                        class="c4">.name} &nbsp;V&acirc;rst&#259;: ${</span><span class="c8">this</span><span
                        class="c4">.age}`</span><span class="c1">); },<br> &nbsp; &nbsp; &nbsp; &nbsp;writable:
                    </span><span class="c8">false</span><span class="c1">, &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c13">// Nu este disponibil&#259; pentru scriere</span><span class="c1"><br> &nbsp;
                        &nbsp;}<br>});<br><br>tom.name = </span><span class="c4">&quot;Tomas&quot;</span><span
                        class="c1">; </span><span class="c13">// Proprietatea name nu este disponibil&#259; pentru
                        modificare</span><span class="c1"><br>tom.print = </span><span class="c8">function</span><span
                        class="c1">(){</span><span class="c7">console</span><span class="c1">.log(</span><span
                        class="c4">&quot;Salutare Lume&quot;</span><span class="c1">);} &nbsp;</span><span
                        class="c13">// Metoda print nu este disponibil&#259; pentru modificare</span><span
                        class="c1"><br><br>tom.print(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c13">// Nume: Tom &nbsp;V&acirc;rst&#259;: 39</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6"><span class="c0">Este important de men&#539;ionat c&#259; astfel putem nu doar ad&#259;uga noi
            propriet&#259;&#539;i, ci &#537;i s&#259; reconfigur&#259;m deja pe cele existente. De exemplu:</span></p>
    <p class="c6 c12"><span class="c0"></span></p><a id="t.2ba0310561dfdef8c7c6a0e7d6cafc24c4f1a8e1"></a><a
        id="t.8"></a>
    <table class="c16">
        <tr class="c9">
            <td class="c3" colspan="1" rowspan="1">
                <p class="c6"><span class="c8">const</span><span class="c1">&nbsp;tom = { name: </span><span
                        class="c4">&quot;Tom&quot;</span><span class="c1">&nbsp;};<br></span><span class="c13">// Pentru
                        proprietatea name interzicem modificarea</span><span class="c1"><br></span><span
                        class="c7">Object</span><span class="c1">.defineProperty(tom, </span><span
                        class="c4">&quot;name&quot;</span><span class="c1">, { writable: </span><span
                        class="c8">false</span><span class="c1">&nbsp;});<br>tom.name = </span><span
                        class="c4">&quot;Tomas&quot;</span><span class="c1">;<br></span><span
                        class="c7">console</span><span class="c1">.log(tom.name); &nbsp;</span><span class="c13">// Tom
                        - valoarea propriet&#259;&#539;ii nu s-a schimbat</span></p>
            </td>
        </tr>
    </table>
    <p class="c6 c12"><span class="c0"></span></p>
    <p class="c6 c12"><span class="c0"></span></p>
</body>

</html>