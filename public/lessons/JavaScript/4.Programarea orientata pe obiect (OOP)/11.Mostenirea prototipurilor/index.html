<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c20 doc-content">
    <h1 class="c3 c10 c19">Mo»ôtenirea prototipurilor. </h1>
    <p class="c3 c8"><span class="c7"></span></p>
    <p class="c3 c10"><span class="c15">JavaScript suport&#259; mo&#537;tenirea, permi&#539;&acirc;ndu-ne s&#259;
            cre&#259;m noi tipuri de obiecte &#537;i s&#259; mo&#537;tenim func&#539;ionalitatea lor de la obiecte deja
            existente. Cu toate acestea, trebuie s&#259; &icirc;n&#539;elegem c&#259; mo&#537;tenirea &icirc;n
            JavaScript difer&#259; de cea din alte limbaje populare precum Java, C++, C# &#537;i altele. &Icirc;n
            JavaScript</span><span class="c9">, mo&#537;tenirea este bazat&#259; pe obiecte</span><span
            class="c15">&nbsp;(nu pe clase sau tipuri), fiind cunoscut&#259; &#537;i sub denumirea de</span><span
            class="c9">&nbsp;mo&#537;tenire a prototipurilor </span><span class="c15">sau</span><span
            class="c9">&nbsp;mo&#537;tenire prototipal&#259;</span><span class="c12">.</span></p>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c15">Pentru a crea un obiect bazat pe un anumit prototip, se folose&#537;te
            func&#539;ia </span><span class="c9">Object.create()</span><span class="c12">, la care se transmite
            prototipul ce urmeaz&#259; s&#259; fie mo&#537;tenit:</span></p>
    <p class="c3 c8"><span class="c12"></span></p><a id="t.0253b044d39fc3b5123bbe7d3f61ccfe35b8e8a4"></a><a
        id="t.0"></a>
    <table class="c17">
        <tr class="c18">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">const</span><span class="c4">&nbsp;person = {<br> &nbsp; &nbsp;name:
                    </span><span class="c2">&quot;&quot;</span><span class="c4">, <br> &nbsp; &nbsp;age: </span><span
                        class="c6">0</span><span class="c4">, &nbsp;<br> &nbsp; &nbsp;print: </span><span
                        class="c5">function</span><span class="c4">(){ <br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Name: ${</span><span
                        class="c5">this</span><span class="c2">.name} &nbsp;Age: ${</span><span
                        class="c5">this</span><span class="c2">.age}`</span><span class="c4">);<br> &nbsp;
                        &nbsp;}<br>};<br> <br></span><span class="c5">const</span><span class="c4">&nbsp;employee =
                    </span><span class="c11">Object</span><span class="c4">.create(person); &nbsp;</span><span
                        class="c0">// employeefolose&#537;te prototipul obiectului person</span><span class="c4"><br>
                        <br></span><span class="c0">//primim prototipul</span><span class="c4"><br></span><span
                        class="c11">console</span><span class="c4">.log(employee.__proto__); &nbsp; &nbsp; </span><span
                        class="c0">// {name: &quot;&quot;, age: 0, print: &fnof;}</span><span class="c4"><br>
                        <br>employee.name = </span><span class="c2">&quot;Tom&quot;</span><span
                        class="c4">;<br>employee.age = </span><span class="c6">39</span><span
                        class="c4">;<br>employee.print(); &nbsp; &nbsp;</span><span class="c0">// Name: Tom &nbsp;Age:
                        39</span></p>
            </td>
        </tr>
    </table>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c12">&Icirc;n acest caz, obiectul &quot;employee&quot; este creat pe baza
            prototipului obiectului &quot;person&quot;, esen&#539;ialmente, obiectul &quot;employee&quot;
            mo&#537;tene&#537;te prototipul obiectului &quot;person&quot;. Datorit&#259; acestei mo&#537;teniri,
            obiectul &quot;employee&quot; dispune de acelea&#537;i propriet&#259;&#539;i &#537;i metode definite
            &icirc;n obiectul &quot;person&quot;.</span></p>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c12">&Icirc;n plus, obiectele pot defini propriile lor propriet&#259;&#539;i &#537;i
            metode. De exemplu:</span></p>
    <p class="c3 c8"><span class="c12"></span></p><a id="t.2164b75a2f38dd6f188a410861c4f22bd01773b1"></a><a
        id="t.1"></a>
    <table class="c17">
        <tr class="c18">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">const</span><span class="c4">&nbsp;person = {<br> &nbsp; &nbsp;name:
                    </span><span class="c2">&quot;&quot;</span><span class="c4">,<br> &nbsp; &nbsp;age: </span><span
                        class="c6">0</span><span class="c4">,<br> &nbsp; &nbsp;print: </span><span
                        class="c5">function</span><span class="c4">(){<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Name: ${</span><span
                        class="c5">this</span><span class="c2">.name} &nbsp;Age: ${</span><span
                        class="c5">this</span><span class="c2">.age}`</span><span class="c4">);<br> &nbsp;
                        &nbsp;}<br>};<br><br></span><span class="c5">const</span><span class="c4">&nbsp;employee =
                    </span><span class="c11">Object</span><span class="c4">.create(person); &nbsp;</span><span
                        class="c0">// Employee folose&#537;te prototipul obiectului &quot;person&quot;</span><span
                        class="c4"><br><br>employee.name = </span><span class="c2">&quot;Tom&quot;</span><span
                        class="c4">;<br>employee.age = </span><span class="c6">39</span><span
                        class="c4">;<br>employee.company = </span><span class="c2">&quot;Google&quot;</span><span
                        class="c4">; &nbsp;</span><span class="c0">// proprietate nou&#259;</span><span
                        class="c4"><br></span><span class="c0">// metod&#259; nou&#259;</span><span
                        class="c4"><br>employee.work = </span><span class="c5">function</span><span class="c4">(){<br>
                        &nbsp; &nbsp;</span><span class="c11">console</span><span class="c4">.log(`</span><span
                        class="c2">${</span><span class="c5">this</span><span class="c2">.name} lucreaz&#259; la
                        ${</span><span class="c5">this</span><span class="c2">.company}`</span><span
                        class="c4">);<br>}<br>employee.print(); &nbsp; &nbsp;</span><span class="c0">// Name: Tom
                        &nbsp;Age: 39</span><span class="c4"><br>employee.work(); &nbsp; &nbsp;</span><span
                        class="c0">// Tom lucreaz&#259; la Google</span></p>
            </td>
        </tr>
    </table>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c12">&Icirc;n acest caz, obiectul &quot;employee&quot; define&#537;te &icirc;n plus
            proprietatea &quot;company&quot; &#537;i metoda &quot;work&quot;.</span></p>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c12">La nevoie, se pot redefini metodele mo&#537;tenite:</span></p>
    <p class="c3 c8"><span class="c12"></span></p><a id="t.fe1b47287cdd82b60d78762f4171074d6c181c98"></a><a
        id="t.2"></a>
    <table class="c17">
        <tr class="c18">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">const</span><span class="c4">&nbsp;person = {<br> &nbsp; &nbsp;name:
                    </span><span class="c2">&quot;&quot;</span><span class="c4">, <br> &nbsp; &nbsp;age: </span><span
                        class="c6">0</span><span class="c4">, &nbsp;<br> &nbsp; &nbsp;print: </span><span
                        class="c5">function</span><span class="c4">(){ <br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Name: ${</span><span
                        class="c5">this</span><span class="c2">.name} &nbsp;Age: ${</span><span
                        class="c5">this</span><span class="c2">.age}`</span><span class="c4">);<br> &nbsp;
                        &nbsp;}<br>};<br></span><span class="c5">const</span><span class="c4">&nbsp;employee =
                    </span><span class="c11">Object</span><span class="c4">.create(person);<br> <br>employee.name =
                    </span><span class="c2">&quot;Tom&quot;</span><span class="c4">;<br>employee.age = </span><span
                        class="c6">39</span><span class="c4">;<br>employee.company = </span><span
                        class="c2">&quot;Google&quot;</span><span class="c4">;<br></span><span class="c0">// redefinim
                        metoda print</span><span class="c4"><br>employee.print = </span><span
                        class="c5">function</span><span class="c4">(){ <br> &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Name: ${</span><span
                        class="c5">this</span><span class="c2">.name} &nbsp;Age: ${</span><span
                        class="c5">this</span><span class="c2">.age} Company: ${</span><span class="c5">this</span><span
                        class="c2">.company}`</span><span class="c4">);<br>}<br>employee.print(); &nbsp;
                        &nbsp;</span><span class="c0">// Name: Tom &nbsp;Age: 39 &nbsp;Company: Google</span></p>
            </td>
        </tr>
    </table>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c12">Aici redefinim func&#539;ia &quot;print&quot; pentru a afi&#537;a &#537;i
            compania angajatului. Se poate merge &#537;i mai departe &#537;i extinde lan&#539;ul de
            mo&#537;tenire:</span></p>
    <p class="c3 c8"><span class="c12"></span></p><a id="t.fa9ec6e290eec9169a860d8b89faf4d32c423977"></a><a
        id="t.3"></a>
    <table class="c17">
        <tr class="c18">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">const</span><span class="c4">&nbsp;person = {<br> &nbsp; &nbsp;name:
                    </span><span class="c2">&quot;&quot;</span><span class="c4">, <br> &nbsp; &nbsp;age: </span><span
                        class="c6">0</span><span class="c4">, &nbsp;<br> &nbsp; &nbsp;print: </span><span
                        class="c5">function</span><span class="c4">(){ <br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Name: ${</span><span
                        class="c5">this</span><span class="c2">.name} &nbsp;Age: ${</span><span
                        class="c5">this</span><span class="c2">.age}`</span><span class="c4">);<br> &nbsp;
                        &nbsp;}<br>};<br></span><span class="c0">// Obiectul &quot;employee&quot; mo&#537;tene&#537;te
                        prototipul obiectului &quot;person&quot;</span><span class="c4"><br></span><span
                        class="c5">const</span><span class="c4">&nbsp;employee = </span><span
                        class="c11">Object</span><span class="c4">.create(person);<br>employee.company = </span><span
                        class="c2">&quot;&quot;</span><span class="c4">;<br><br></span><span class="c0">// Obiectul
                        &quot;manager&quot; mo&#537;tene&#537;te prototipul obiectului &quot;employee&quot;</span><span
                        class="c4"><br></span><span class="c5">const</span><span class="c4">&nbsp;manager = </span><span
                        class="c11">Object</span><span class="c4">.create(employee);<br></span><span class="c0">//
                        Redefinim metoda &quot;print&quot;</span><span class="c4"><br>manager.print = </span><span
                        class="c5">function</span><span class="c4">(){ <br> &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Name: ${</span><span
                        class="c5">this</span><span class="c2">.name} &nbsp;Age: ${</span><span
                        class="c5">this</span><span class="c2">.age}\nManager in ${</span><span
                        class="c5">this</span><span class="c2">.company}`</span><span class="c4">);<br>}<br>manager.name
                        = </span><span class="c2">&quot;Bob&quot;</span><span class="c4">;<br>manager.age = </span><span
                        class="c6">43</span><span class="c4">;<br>manager.company = </span><span
                        class="c2">&quot;Microsoft&quot;</span><span class="c4">;<br>manager.print(); &nbsp;
                        &nbsp;</span><span class="c0">// Name: Bob &nbsp;Age: 43 &nbsp;</span><span class="c4"><br>
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">//
                        Manager in Microsoft</span></p>
            </td>
        </tr>
    </table>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c15">Astfel, ob&#539;inem un lan&#539; de prototipuri -</span><span
            class="c13">&nbsp;person-employee-manager:</span><span class="c15">&nbsp;</span><span class="c13">employee
        </span><span class="c15">mo&#537;tene&#537;te prototipul de la </span><span class="c13">person</span><span
            class="c15">, </span><span class="c13">manager </span><span class="c15">mo&#537;tene&#537;te prototipul de
            la </span><span class="c13">employee</span><span class="c12">.</span></p>
    <p class="c3 c8"><span class="c7"></span></p>
    <p class="c3 c10"><span class="c1">Apelarea metodelor din prototipul de baz&#259;.</span></p>
    <p class="c3 c8"><span class="c7"></span></p>
    <p class="c3 c10"><span class="c15">Uneori poate fi necesar s&#259; apel&#259;m metodele care sunt definite &icirc;n
            prototip. Acest lucru poate fi util pentru scurtarea codului &#537;i reducerea duplic&#259;rii, &icirc;n
            special atunci c&acirc;nd codul unei metode redefinite repet&#259; logica metodei din prototip. Prin
            ob&#539;inerea prototipului obiectului, putem apela metodele sale folosind func&#539;ia </span><span
            class="c9">call</span><span class="c12">():</span></p>
    <p class="c3 c8"><span class="c12"></span></p><a id="t.55522aa1bddcc4406092a52fa56bf1e64cc31567"></a><a
        id="t.4"></a>
    <table class="c17">
        <tr class="c18">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">const</span><span class="c4">&nbsp;person = {<br> &nbsp; &nbsp;name:
                    </span><span class="c2">&quot;&quot;</span><span class="c4">, <br> &nbsp; &nbsp;age: </span><span
                        class="c6">0</span><span class="c4">, &nbsp;<br> &nbsp; &nbsp;print: </span><span
                        class="c5">function</span><span class="c4">(){ <br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Name: ${</span><span
                        class="c5">this</span><span class="c2">.name} &nbsp;Age: ${</span><span
                        class="c5">this</span><span class="c2">.age}`</span><span class="c4">);<br> &nbsp;
                        &nbsp;}<br>};<br></span><span class="c0">// Obiectul &quot;employee&quot; mo&#537;tene&#537;te
                        prototipul obiectului &quot;person&quot;</span><span class="c4"><br></span><span
                        class="c5">const</span><span class="c4">&nbsp;employee = </span><span
                        class="c11">Object</span><span class="c4">.create(person);<br>employee.name = </span><span
                        class="c2">&quot;Tom&quot;</span><span class="c4">;<br>employee.age = </span><span
                        class="c6">39</span><span class="c4">;<br>employee.company = </span><span
                        class="c2">&quot;Google&quot;</span><span class="c4">;<br></span><span class="c0">// Redefinim
                        metoda &quot;print&quot;</span><span class="c4"><br>employee.print = </span><span
                        class="c5">function</span><span class="c4">(){ <br> &nbsp; &nbsp;</span><span
                        class="c5">this</span><span class="c4">.__proto__.print.call(</span><span
                        class="c5">this</span><span class="c4">); &nbsp; &nbsp;</span><span class="c0">// apel&#259;m
                        versiunea metodei din person</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c0">//
                        Object.getPrototypeOf(this).print.call(this); &nbsp;// variant&#259;
                        alternativ&#259;</span><span class="c4"><br> &nbsp; &nbsp;</span><span
                        class="c11">console</span><span class="c4">.log(`</span><span class="c2">Company: ${</span><span
                        class="c5">this</span><span class="c2">.company}`</span><span class="c4">);<br>}<br>
                        <br>employee.print(); &nbsp; </span><span class="c0">// Name: Tom &nbsp;Age: 39</span><span
                        class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c0">// Company: Google</span></p>
            </td>
        </tr>
    </table>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c12">&Icirc;n acest caz, &icirc;n metoda suprascris&#259; &quot;print&quot; a tipului
            &quot;employee&quot;, apel&#259;m versiunea metodei &quot;print&quot; din &quot;person&quot; folosind
            prototipul.</span></p>
    <p class="c3 c8"><span class="c12"></span></p>
    <p class="c3 c10"><span class="c1">Verificarea mo&#537;tenirii prototipurilor &#537;i Object.isPrototypeOf().</span>
    </p>
    <p class="c3 c8"><span class="c7"></span></p>
    <p class="c3 c10"><span class="c15">Cu ajutorul metodei </span><span class="c9">Object.isPrototypeOf()</span><span
            class="c12">&nbsp;pute&#539;i verifica dac&#259; un obiect este prototipul altui obiect.</span></p>
    <p class="c3 c8"><span class="c12"></span></p><a id="t.1ffccff37ea3d70f58d2eba5299ccfb16beeb076"></a><a
        id="t.5"></a>
    <table class="c17">
        <tr class="c18">
            <td class="c14" colspan="1" rowspan="1">
                <p class="c3"><span class="c5">const</span><span class="c4">&nbsp;person = {<br> &nbsp; &nbsp;name:
                    </span><span class="c2">&quot;&quot;</span><span class="c4">,<br> &nbsp; &nbsp;print:
                        ()=&gt;</span><span class="c11">console</span><span class="c4">.log(</span><span
                        class="c2">&quot;Name:&quot;</span><span class="c4">, </span><span class="c5">this</span><span
                        class="c4">.name)<br>};<br></span><span class="c5">const</span><span class="c4">&nbsp;user =
                        {<br> &nbsp; &nbsp;name: </span><span class="c2">&quot;&quot;</span><span class="c4">,<br>
                        &nbsp; &nbsp;print: ()=&gt;</span><span class="c11">console</span><span
                        class="c4">.log(</span><span class="c2">&quot;Name:&quot;</span><span class="c4">, </span><span
                        class="c5">this</span><span class="c4">.name)<br>};<br> <br></span><span class="c0">// Obiectul
                        &quot;employee&quot; mo&#537;tene&#537;te prototipul obiectului &quot;person&quot;.</span><span
                        class="c4"><br></span><span class="c5">const</span><span class="c4">&nbsp;employee =
                    </span><span class="c11">Object</span><span class="c4">.create(person);<br> <br></span><span
                        class="c11">console</span><span class="c4">.log(person.isPrototypeOf(employee)); &nbsp;
                        &nbsp;</span><span class="c0">// true</span><span class="c4"><br></span><span
                        class="c11">console</span><span class="c4">.log(user.isPrototypeOf(employee)); &nbsp; &nbsp;
                        &nbsp;</span><span class="c0">// false</span></p>
            </td>
        </tr>
    </table>
    <p class="c3 c16"><span class="c12"></span></p>
    <p class="c3"><span class="c12">Aici, obiectul &quot;employee&quot; mo&#537;tene&#537;te prototipul de la
            &quot;person&quot;. Prin urmare, apelul person.isPrototypeOf(employee) va returna true. &Icirc;ns&#259;,
            obiectul &quot;user&quot; nu este prototipul pentru &quot;employee&quot;, chiar dac&#259; au aceea&#537;i
            structur&#259; de metode &#537;i propriet&#259;&#539;i.</span></p>
</body>

</html>