<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c17 doc-content">
    <h1 class="c24 c218">Programare multithreading.</h1>
    <p class="c13"><span class="c11">Majoritatea limbajelor de programare sus&#539;in o func&#539;ionalitate
            important&#259; precum </span><span class="c10">multithreading-ul</span><span class="c0">, iar Java nu face
            excep&#539;ie &icirc;n acest sens. Cu ajutorul multithreading-ului, putem aloca &icirc;n aplica&#539;ie mai
            multe fire de execu&#539;ie, care vor efectua diverse sarcini simultan. Dac&#259; avem, de exemplu, o
            aplica&#539;ie grafic&#259; ce trimite o solicitare c&#259;tre un server sau cite&#537;te &#537;i
            proceseaz&#259; un fi&#537;ier mare, f&#259;r&#259; multithreading, interfa&#539;a grafic&#259; ar fi
            blocat&#259; pe durata execut&#259;rii sarcinii. Datorit&#259; firelor de execu&#539;ie, putem delega
            trimiterea solicit&#259;rii sau orice alt&#259; sarcin&#259; care poate dura mult timp &icirc;ntr-un fir
            separat. De aceea, majoritatea aplica&#539;iilor reale pe care le utiliz&#259;m sunt aproape de neconceput
            f&#259;r&#259; multithreading.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <h2 class="c24 c218">Clasa Thread.</span></h2>
    <p class="c13"><span class="c0">&nbsp; </span></p>
    <p class="c13"><span class="c11">&Icirc;n Java, func&#539;ionalitatea unui fir de execu&#539;ie separat este
            oferit&#259; de clasa </span><span class="c10">Thread</span><span class="c0">. Pentru a crea un nou fir,
            trebuie s&#259; cre&#259;m un obiect al acestei clase. Dar toate firele nu sunt create de la sine.
            C&acirc;nd programul porne&#537;te, &icirc;ncepe s&#259; ruleze firul principal al acestuia. Din acest fir
            principal se genereaz&#259; toate celelalte fire fiice.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c11">Cu ajutorul metodei statice T</span><span
            class="c10">hread.currentThread()</span><span class="c0">, putem ob&#539;ine firul de execu&#539;ie
            curent:</span></p>
    <p class="c5"><span class="c0"></span></p>
    <table class="c9">
        <tr class="c16">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c15"><span class="c14">public</span><span class="c3">&nbsp;</span><span
                        class="c14">static</span><span class="c3">&nbsp;</span><span class="c14">void</span><span
                        class="c3">&nbsp;</span><span class="c19">main</span><span class="c3">(String[] args) {<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; <br> &nbsp; &nbsp;Thread t = Thread.currentThread(); </span><span
                        class="c12">// ob&#539;inem firul principal</span><span class="c3"><br> &nbsp;
                        &nbsp;System.out.println(t.getName()); </span><span class="c12">// main</span><span
                        class="c3"><br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c11">Implicit, numele firului principal va fi </span><span class="c4">main</span><span
            class="c0">.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c0">Pentru gestionarea firului, clasa Thread ofer&#259; &#537;i o serie de alte metode.
            Cele mai utilizate dintre ele sunt:</span></p>
    <p class="c5"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0 start">
        <li class="c1 li-bullet-0"><span class="c10">getName()</span><span class="c0">: returneaz&#259; numele firului
                &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">setName(String name)</span><span class="c0">: seteaz&#259; numele
                firului &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">getPriority()</span><span class="c0">: returneaz&#259; prioritatea
                firului &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">setPriority(int priority)</span><span class="c0">: seteaz&#259;
                prioritatea firului. Prioritatea este unul dintre factorii cheie pentru alegerea firului de c&#259;tre
                sistem din mul&#539;imea de fire pentru execu&#539;ie. &Icirc;n aceast&#259; metod&#259;, se transmite
                ca parametru o valoare numeric&#259; a priorit&#259;&#539;ii - de la 1 la 10. Implicit, firului
                principal i se atribuie o prioritate medie - 5.</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">isAlive()</span><span class="c0">: returneaz&#259; true dac&#259;
                firul este activ &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">isInterrupted()</span><span class="c0">: returneaz&#259; true
                dac&#259; firul a fost &icirc;ntrerupt &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">join()</span><span class="c0">: a&#537;teapt&#259; finalizarea
                firului &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">run()</span><span class="c0">: define&#537;te punctul de intrare
                &icirc;n fir &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">sleep()</span><span class="c0">: suspend&#259; firul pentru un
                num&#259;r specificat de milisecunde &nbsp;</span></li>
    </ul>
    <p class="c5 c6"><span class="c0"></span></p>
    <ul class="c2 lst-kix_bsxuq4u15nyj-0">
        <li class="c1 li-bullet-0"><span class="c10">start()</span><span class="c11">: porne&#537;te firul,
                apel&acirc;nd metoda sa </span><span class="c4 c7">run() &nbsp;</span></li>
    </ul>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c0">Putem afi&#537;a toate informa&#539;iile despre fir:</span></p>
    <p class="c5"><span class="c0"></span></p>
    <table class="c9">
        <tr class="c16">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c15"><span class="c14">public</span><span class="c3">&nbsp;</span><span
                        class="c14">static</span><span class="c3">&nbsp;</span><span class="c14">void</span><span
                        class="c3">&nbsp;</span><span class="c19">main</span><span class="c3">(String[] args) {<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; <br> &nbsp; &nbsp;Thread t = Thread.currentThread(); </span><span
                        class="c12">// ob&#539;inem firul principal</span><span class="c3"><br> &nbsp;
                        &nbsp;System.out.println(t); </span><span class="c12">// main</span><span
                        class="c3"><br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c0">Ie&#537;irea &icirc;n consol&#259;:</span></p>
    <p class="c5"><span class="c0"></span></p>
    <table class="c9">
        <tr class="c16">
            <td class="c18" colspan="1" rowspan="1">
                <p class="c15"><span class="c3">Thread[main,</span><span class="c20">5</span><span class="c3">,main]
                        &nbsp;</span></p>
            </td>
        </tr>
    </table>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c11">Primul </span><span class="c4">main </span><span class="c11">reprezint&#259; numele
            firului (ce poate fi ob&#539;inut prin</span><span class="c4">&nbsp;t.getName()</span><span class="c11">),
            valoarea 5 reprezint&#259; prioritatea firului (de asemenea, poate fi ob&#539;inut&#259; prin</span><span
            class="c4">&nbsp;t.getPriority()</span><span class="c11">), iar ultimul </span><span class="c4">main
        </span><span class="c11">reprezint&#259; numele grupului de fire c&#259;ruia &icirc;i apar&#539;ine firul curent
            - implicit tot main (poate fi ob&#539;inut prin </span><span
            class="c4">t.getThreadGroup().getName()</span><span class="c0">).</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c8 c7">Dezavantajele utiliz&#259;rii firelor de execu&#539;ie.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c0">&Icirc;n continuare, vom analiza cum s&#259; cre&#259;m &#537;i s&#259;
            utiliz&#259;m firele de execu&#539;ie. Acest lucru este destul de simplu. Cu toate acestea, la crearea unei
            aplica&#539;ii multithreading, trebuie s&#259; &#539;inem cont de o serie de factori care pot afecta negativ
            func&#539;ionarea aplica&#539;iei.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c0">Pe unele platforme, pornirea de noi fire poate &icirc;ncetini func&#539;ionarea
            aplica&#539;iei. Acest lucru poate fi important dac&#259; performan&#539;a aplica&#539;iei este
            critic&#259;.</span></p>
    <p class="c5"><span class="c0"></span></p>
    <p class="c13"><span class="c0">Pentru fiecare fir, se creeaz&#259; propria sa stiv&#259; de memorie, unde sunt
            plasate toate variabilele locale &#537;i alte date legate de execu&#539;ia firului. Astfel, cu c&acirc;t se
            creeaz&#259; mai multe fire, cu at&acirc;t se utilizeaz&#259; mai mult&#259; memorie. Trebuie s&#259; ne
            amintim c&#259;, &icirc;n orice sistem, dimensiunea memoriei utilizate este limitat&#259;. &Icirc;n plus,
            multe sisteme pot avea o limit&#259; a num&#259;rului de fire. Dar chiar dac&#259; nu exist&#259; o astfel
            de limitare, exist&#259; &icirc;ntotdeauna o limitare natural&#259; sub forma vitezei maxime a
            procesorului.</span></p>
    <p class="c5"><span class="c0"></span></p>
</body>

</html>