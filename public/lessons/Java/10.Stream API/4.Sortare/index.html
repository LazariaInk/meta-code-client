<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="/lessons/styles.css">
</head>

<body class="c16 doc-content">
    <h1 class="c12 c14">Sortare.</h1>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c2">Colec&#539;iile, pe baza c&#259;rora deseori sunt create fluxuri, au deja metode
            speciale pentru sortarea con&#539;inutului. Totu&#537;i, clasa Stream include &#537;i ea posibilitatea de
            sortare. Aceast&#259; sortare poate fi utilizat&#259; atunci c&acirc;nd avem un set de opera&#539;ii
            intermediare asupra fluxului, care creeaz&#259; noi seturi de date, &#537;i avem nevoie s&#259; sort&#259;m
            aceste seturi.</span></p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c11">Pentru sortarea simpl&#259; &icirc;n ordine cresc&#259;toare se folose&#537;te
            metoda </span><span class="c13">sorted()</span><span class="c2">:</span></p>
    <p class="c6"><span class="c2"></span></p>
    <table class="c3">
        <tr class="c9">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c10"><span class="c5">import</span><span class="c1">&nbsp;java.util.ArrayList;<br></span><span
                        class="c5">import</span><span class="c1">&nbsp;java.util.Collections;<br></span><span
                        class="c5">import</span><span class="c1">&nbsp;java.util.List;<br><br></span><span
                        class="c5">public</span><span class="c1">&nbsp;</span><span class="c5">class</span><span
                        class="c1">&nbsp;</span><span class="c7">Program</span><span class="c1">&nbsp;{<br><br> &nbsp;
                        &nbsp;</span><span class="c5">public</span><span class="c1">&nbsp;</span><span
                        class="c5">static</span><span class="c1">&nbsp;</span><span class="c5">void</span><span
                        class="c1">&nbsp;</span><span class="c7">main</span><span class="c1">(String[] args) {<br><br>
                        &nbsp; &nbsp; &nbsp; &nbsp;List&lt;String&gt; phones = </span><span class="c5">new</span><span
                        class="c1">&nbsp;ArrayList&lt;String&gt;();<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;Collections.addAll(phones, </span><span class="c4">&quot;iPhone X&quot;</span><span
                        class="c1">, </span><span class="c4">&quot;Nokia 9&quot;</span><span class="c1">, </span><span
                        class="c4">&quot;Huawei Nexus 6P&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">&quot;Samsung Galaxy S8&quot;</span><span
                        class="c1">, </span><span class="c4">&quot;LG G6&quot;</span><span class="c1">, </span><span
                        class="c4">&quot;Xiaomi MI6&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">&quot;ASUS Zenfone 3&quot;</span><span
                        class="c1">, </span><span class="c4">&quot;Sony Xperia Z5&quot;</span><span class="c1">,
                    </span><span class="c4">&quot;Meizu Pro 6&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">&quot;Pixel 2&quot;</span><span
                        class="c1">);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;phones.stream()<br> &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;.filter(p -&gt; p.length() &lt; </span><span
                        class="c8">12</span><span class="c1">)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;.sorted() </span><span class="c17">// sortare &icirc;n ordine cresc&#259;toare</span><span
                        class="c1"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.forEach(s -&gt;
                        System.out.println(s));<br> &nbsp; &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c2">Rezultatul afi&#537;at &icirc;n consol&#259; dup&#259; sortarea obiectelor:</span>
    </p>
    <p class="c6"><span class="c2"></span></p>
    <table class="c3">
        <tr class="c9">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c10"><span class="c1">LG G6 &nbsp;<br>Meizu Pro </span><span class="c8">6</span><span
                        class="c1">&nbsp; <br>Nokia </span><span class="c8">9</span><span class="c1">&nbsp; <br>Pixel
                    </span><span class="c8">2</span><span class="c1">&nbsp; <br>Xiaomi MI6 &nbsp;<br>iPhone X
                        &nbsp;</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c2">Totu&#537;i, aceast&#259; metod&#259; nu este &icirc;ntotdeauna potrivit&#259;.
            Dup&#259; cum se poate observa din rezultatul afi&#537;at, metoda sorteaz&#259; obiectele &icirc;n ordine
            cresc&#259;toare, dar trateaz&#259; literele mari &#537;i mici separat.</span></p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c11">&Icirc;n plus, aceast&#259; metod&#259; este potrivit&#259; doar pentru sortarea
            obiectelor care implementeaz&#259; interfa&#539;a </span><span class="c13">Comparable</span><span
            class="c2">.</span></p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c11">Dac&#259; clasele obiectelor noastre nu implementeaz&#259; aceast&#259;
            interfa&#539;&#259; sau dorim s&#259; cre&#259;m o logic&#259; de sortare proprie, putem folosi
            cealalt&#259; versiune a metodei </span><span class="c11 c15">sorted()</span><span class="c2">, care
            accept&#259; un comparator ca parametru.</span></p>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c2">De exemplu, s&#259; presupunem c&#259; avem urm&#259;toarea clas&#259; Phone:</span>
    </p>
    <p class="c6"><span class="c2"></span></p>
    <table class="c3">
        <tr class="c9">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c10"><span class="c5">class</span><span class="c1">&nbsp;</span><span
                        class="c7">Phone</span><span class="c1">&nbsp;{<br><br> &nbsp; &nbsp;</span><span
                        class="c5">private</span><span class="c1">&nbsp;String name;<br> &nbsp; &nbsp;</span><span
                        class="c5">private</span><span class="c1">&nbsp;String company;<br> &nbsp; &nbsp;</span><span
                        class="c5">private</span><span class="c1">&nbsp;</span><span class="c5">int</span><span
                        class="c1">&nbsp;price;<br><br> &nbsp; &nbsp;</span><span class="c5">public</span><span
                        class="c1">&nbsp;</span><span class="c7">Phone</span><span class="c1">(String name, String comp,
                    </span><span class="c5">int</span><span class="c1">&nbsp;price) {<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c5">this</span><span class="c1">.name = name;<br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c5">this</span><span class="c1">.company = comp;<br> &nbsp; &nbsp;
                        &nbsp; &nbsp;</span><span class="c5">this</span><span class="c1">.price = price;<br> &nbsp;
                        &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c5">public</span><span class="c1">&nbsp;String
                    </span><span class="c7">getName</span><span class="c1">() { </span><span
                        class="c5">return</span><span class="c1">&nbsp;name; }<br> &nbsp; &nbsp;</span><span
                        class="c5">public</span><span class="c1">&nbsp;</span><span class="c5">int</span><span
                        class="c1">&nbsp;</span><span class="c7">getPrice</span><span class="c1">() { </span><span
                        class="c5">return</span><span class="c1">&nbsp;price; }<br> &nbsp; &nbsp;</span><span
                        class="c5">public</span><span class="c1">&nbsp;String </span><span
                        class="c7">getCompany</span><span class="c1">() { </span><span class="c5">return</span><span
                        class="c1">&nbsp;company; }<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c2">S&#259; sort&#259;m fluxul de obiecte Phone:</span></p>
    <p class="c6"><span class="c2"></span></p>
    <table class="c3">
        <tr class="c9">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c10"><span class="c5">import</span><span
                        class="c1">&nbsp;java.util.Comparator;<br></span><span class="c5">import</span><span
                        class="c1">&nbsp;java.util.stream.Stream;<br><br></span><span class="c5">public</span><span
                        class="c1">&nbsp;</span><span class="c5">class</span><span class="c1">&nbsp;</span><span
                        class="c7">Program</span><span class="c1">&nbsp;{<br><br> &nbsp; &nbsp;</span><span
                        class="c5">public</span><span class="c1">&nbsp;</span><span class="c5">static</span><span
                        class="c1">&nbsp;</span><span class="c5">void</span><span class="c1">&nbsp;</span><span
                        class="c7">main</span><span class="c1">(String[] args) {<br><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;Stream&lt;Phone&gt; phoneStream = Stream.of(</span><span class="c5">new</span><span
                        class="c1">&nbsp;Phone(</span><span class="c4">&quot;iPhone X&quot;</span><span class="c1">,
                    </span><span class="c4">&quot;Apple&quot;</span><span class="c1">, </span><span
                        class="c8">600</span><span class="c1">),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c5">new</span><span class="c1">&nbsp;Phone(</span><span
                        class="c4">&quot;Pixel 2&quot;</span><span class="c1">, </span><span
                        class="c4">&quot;Google&quot;</span><span class="c1">, </span><span class="c8">500</span><span
                        class="c1">),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
                        class="c5">new</span><span class="c1">&nbsp;Phone(</span><span class="c4">&quot;iPhone
                        8&quot;</span><span class="c1">, </span><span class="c4">&quot;Apple&quot;</span><span
                        class="c1">, </span><span class="c8">450</span><span class="c1">),<br> &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp;</span><span class="c5">new</span><span class="c1">&nbsp;Phone(</span><span
                        class="c4">&quot;Nokia 9&quot;</span><span class="c1">, </span><span class="c4">&quot;HMD
                        Global&quot;</span><span class="c1">, </span><span class="c8">150</span><span class="c1">),<br>
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">new</span><span
                        class="c1">&nbsp;Phone(</span><span class="c4">&quot;Galaxy S9&quot;</span><span class="c1">,
                    </span><span class="c4">&quot;Samsung&quot;</span><span class="c1">, </span><span
                        class="c8">300</span><span class="c1">));<br><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;phoneStream.sorted(</span><span class="c5">new</span><span
                        class="c1">&nbsp;PhoneComparator())<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp;.forEach(p -&gt; System.out.printf(</span><span class="c4">&quot;%s (%s) - %d
                        \n&quot;</span><span class="c1">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp;p.getName(), p.getCompany(), p.getPrice()));<br><br> &nbsp;
                        &nbsp;}<br>}<br><br></span><span class="c5">class</span><span class="c1">&nbsp;</span><span
                        class="c7">PhoneComparator</span><span class="c1">&nbsp;</span><span
                        class="c5">implements</span><span class="c1">&nbsp;</span><span
                        class="c7">Comparator</span><span class="c1">&lt;</span><span class="c7">Phone</span><span
                        class="c1">&gt; {<br><br> &nbsp; &nbsp;</span><span class="c5">public</span><span
                        class="c1">&nbsp;</span><span class="c5">int</span><span class="c1">&nbsp;</span><span
                        class="c7">compare</span><span class="c1">(Phone a, Phone b) {<br><br> &nbsp; &nbsp; &nbsp;
                        &nbsp;</span><span class="c5">return</span><span
                        class="c1">&nbsp;a.getName().toUpperCase().compareTo(b.getName().toUpperCase());<br> &nbsp;
                        &nbsp;}<br>}</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
    <p class="c12"><span class="c2">Aici este definit&#259; clasa comparator PhoneComparator, care sorteaz&#259;
            obiectele dup&#259; c&acirc;mpul name. Rezultatul va fi:</span></p>
    <p class="c6"><span class="c2"></span></p>
    <table class="c3">
        <tr class="c9">
            <td class="c0" colspan="1" rowspan="1">
                <p class="c10"><span class="c1">Galaxy </span><span class="c7">S9</span><span class="c1">&nbsp;(Samsung)
                        - 300 &nbsp;<br>iPhone 8 (Apple) - 450 &nbsp;<br>iPhone </span><span class="c7">X</span><span
                        class="c1">&nbsp;(Apple) - 600 &nbsp;<br>Nokia 9 (HMD Global) - 150 &nbsp;<br>Pixel 2 (Google) -
                        500 &nbsp;</span></p>
            </td>
        </tr>
    </table>
    <p class="c6"><span class="c2"></span></p>
</body>

</html>